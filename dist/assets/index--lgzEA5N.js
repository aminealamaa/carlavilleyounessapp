var Wy=t=>{throw TypeError(t)};var fg=(t,e,n)=>e.has(t)||Wy("Cannot "+n);var ie=(t,e,n)=>(fg(t,e,"read from private field"),n?n.call(t):e.get(t)),at=(t,e,n)=>e.has(t)?Wy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qe=(t,e,n,r)=>(fg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(fg(t,e,"access private method"),n);var tf=(t,e,n,r)=>({set _(i){Qe(t,e,i,n)},get _(){return ie(t,e,r)}});function wN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ox(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lx={exports:{}},Hp={},cx={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Symbol.for("react.element"),bN=Symbol.for("react.portal"),SN=Symbol.for("react.fragment"),NN=Symbol.for("react.strict_mode"),_N=Symbol.for("react.profiler"),kN=Symbol.for("react.provider"),jN=Symbol.for("react.context"),AN=Symbol.for("react.forward_ref"),CN=Symbol.for("react.suspense"),LN=Symbol.for("react.memo"),PN=Symbol.for("react.lazy"),Ky=Symbol.iterator;function EN(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var ux={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dx=Object.assign,hx={};function Xc(t,e,n){this.props=t,this.context=e,this.refs=hx,this.updater=n||ux}Xc.prototype.isReactComponent={};Xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fx(){}fx.prototype=Xc.prototype;function J1(t,e,n){this.props=t,this.context=e,this.refs=hx,this.updater=n||ux}var X1=J1.prototype=new fx;X1.constructor=J1;dx(X1,Xc.prototype);X1.isPureReactComponent=!0;var Gy=Array.isArray,px=Object.prototype.hasOwnProperty,Z1={current:null},mx={key:!0,ref:!0,__self:!0,__source:!0};function gx(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)px.call(e,r)&&!mx.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Zd,type:t,key:s,ref:a,props:i,_owner:Z1.current}}function DN(t,e){return{$$typeof:Zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zd}function FN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yy=/\/+/g;function pg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FN(""+t.key):e.toString(36)}function Tf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zd:case bN:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+pg(a,0):r,Gy(i)?(n="",t!=null&&(n=t.replace(Yy,"$&/")+"/"),Tf(i,e,n,"",function(u){return u})):i!=null&&(ev(i)&&(i=DN(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Yy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Gy(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+pg(s,o);a+=Tf(s,e,n,l,i)}else if(l=EN(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+pg(s,o++),a+=Tf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nf(t,e,n){if(t==null)return t;var r=[],i=0;return Tf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},Of={transition:null},ON={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:Of,ReactCurrentOwner:Z1};function vx(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:nf,forEach:function(t,e,n){nf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nf(t,function(){e++}),e},toArray:function(t){return nf(t,function(e){return e})||[]},only:function(t){if(!ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=Xc;Nt.Fragment=SN;Nt.Profiler=_N;Nt.PureComponent=J1;Nt.StrictMode=NN;Nt.Suspense=CN;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ON;Nt.act=vx;Nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dx({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Z1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)px.call(e,l)&&!mx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Zd,type:t.type,key:i,ref:s,props:r,_owner:a}};Nt.createContext=function(t){return t={$$typeof:jN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kN,_context:t},t.Consumer=t};Nt.createElement=gx;Nt.createFactory=function(t){var e=gx.bind(null,t);return e.type=t,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:AN,render:t}};Nt.isValidElement=ev;Nt.lazy=function(t){return{$$typeof:PN,_payload:{_status:-1,_result:t},_init:TN}};Nt.memo=function(t,e){return{$$typeof:LN,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=Of.transition;Of.transition={};try{t()}finally{Of.transition=e}};Nt.unstable_act=vx;Nt.useCallback=function(t,e){return Pr.current.useCallback(t,e)};Nt.useContext=function(t){return Pr.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};Nt.useEffect=function(t,e){return Pr.current.useEffect(t,e)};Nt.useId=function(){return Pr.current.useId()};Nt.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};Nt.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return Pr.current.useMemo(t,e)};Nt.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};Nt.useRef=function(t){return Pr.current.useRef(t)};Nt.useState=function(t){return Pr.current.useState(t)};Nt.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};Nt.useTransition=function(){return Pr.current.useTransition()};Nt.version="18.3.1";cx.exports=Nt;var ce=cx.exports;const Ce=ox(ce),IN=wN({__proto__:null,default:Ce},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN=ce,MN=Symbol.for("react.element"),BN=Symbol.for("react.fragment"),zN=Object.prototype.hasOwnProperty,UN=RN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qN={key:!0,ref:!0,__self:!0,__source:!0};function yx(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)zN.call(e,r)&&!qN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MN,type:t,key:s,ref:a,props:i,_owner:UN.current}}Hp.Fragment=BN;Hp.jsx=yx;Hp.jsxs=yx;lx.exports=Hp;var c=lx.exports,wx={exports:{}},li={},xx={exports:{}},bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,R){var ee=H.length;H.push(R);e:for(;0<ee;){var fe=ee-1>>>1,A=H[fe];if(0<i(A,R))H[fe]=R,H[ee]=A,ee=fe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var R=H[0],ee=H.pop();if(ee!==R){H[0]=ee;e:for(var fe=0,A=H.length,B=A>>>1;fe<B;){var Y=2*(fe+1)-1,ne=H[Y],re=Y+1,de=H[re];if(0>i(ne,ee))re<A&&0>i(de,ne)?(H[fe]=de,H[re]=ee,fe=re):(H[fe]=ne,H[Y]=ee,fe=Y);else if(re<A&&0>i(de,ee))H[fe]=de,H[re]=ee,fe=re;else break e}}return R}function i(H,R){var ee=H.sortIndex-R.sortIndex;return ee!==0?ee:H.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,h=null,g=3,m=!1,S=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=H)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function E(H){if(b=!1,N(H),!S)if(n(l)!==null)S=!0,T(L);else{var R=n(u);R!==null&&X(E,R.startTime-H)}}function L(H,R){S=!1,b&&(b=!1,y(j),j=-1),m=!0;var ee=g;try{for(N(R),h=n(l);h!==null&&(!(h.expirationTime>R)||H&&!C());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,g=h.priorityLevel;var A=fe(h.expirationTime<=R);R=t.unstable_now(),typeof A=="function"?h.callback=A:h===n(l)&&r(l),N(R)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var Y=n(u);Y!==null&&X(E,Y.startTime-R),B=!1}return B}finally{h=null,g=ee,m=!1}}var K=!1,V=null,j=-1,$=5,J=-1;function C(){return!(t.unstable_now()-J<$)}function F(){if(V!==null){var H=t.unstable_now();J=H;var R=!0;try{R=V(!0,H)}finally{R?G():(K=!1,V=null)}}else K=!1}var G;if(typeof x=="function")G=function(){x(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=F,G=function(){q.postMessage(null)}}else G=function(){k(F,0)};function T(H){V=H,K||(K=!0,G())}function X(H,R){j=k(function(){H(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,T(L))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var ee=g;g=R;try{return H()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,R){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=g;g=H;try{return R()}finally{g=ee}},t.unstable_scheduleCallback=function(H,R,ee){var fe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,H){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ee+A,H={id:f++,callback:R,priorityLevel:H,startTime:ee,expirationTime:A,sortIndex:-1},ee>fe?(H.sortIndex=ee,e(u,H),n(l)===null&&H===n(u)&&(b?(y(j),j=-1):b=!0,X(E,ee-fe))):(H.sortIndex=A,e(l,H),S||m||(S=!0,T(L))),H},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(H){var R=g;return function(){var ee=g;g=R;try{return H.apply(this,arguments)}finally{g=ee}}}})(bx);xx.exports=bx;var $N=xx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN=ce,oi=$N;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sx=new Set,_d={};function nl(t,e){Bc(t,e),Bc(t+"Capture",e)}function Bc(t,e){for(_d[t]=e,t=0;t<e.length;t++)Sx.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f0=Object.prototype.hasOwnProperty,HN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qy={},Jy={};function WN(t){return f0.call(Jy,t)?!0:f0.call(Qy,t)?!1:HN.test(t)?Jy[t]=!0:(Qy[t]=!0,!1)}function KN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GN(t,e,n,r){if(e===null||typeof e>"u"||KN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Er(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tr[t]=new Er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tr[e]=new Er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tr[t]=new Er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tr[t]=new Er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tr[t]=new Er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tr[t]=new Er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tr[t]=new Er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tr[t]=new Er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tr[t]=new Er(t,5,!1,t.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function nv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tv,nv);tr[e]=new Er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tv,nv);tr[e]=new Er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tv,nv);tr[e]=new Er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tr[t]=new Er(t,1,!1,t.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tr[t]=new Er(t,1,!1,t.toLowerCase(),null,!0,!0)});function rv(t,e,n,r){var i=tr.hasOwnProperty(e)?tr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GN(e,n,i,r)&&(n=null),r||i===null?WN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ta=VN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rf=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),_x=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),av=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),kx=Symbol.for("react.offscreen"),Xy=Symbol.iterator;function Ru(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,mg;function ed(t){if(mg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mg=e&&e[1]||""}return`
`+mg+t}var gg=!1;function vg(t,e){if(!t||gg)return"";gg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{gg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ed(t):""}function YN(t){switch(t.tag){case 5:return ed(t.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return t=vg(t.type,!1),t;case 11:return t=vg(t.type.render,!1),t;case 1:return t=vg(t.type,!0),t;default:return""}}function v0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ec:return"Fragment";case Zl:return"Portal";case p0:return"Profiler";case iv:return"StrictMode";case m0:return"Suspense";case g0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _x:return(t.displayName||"Context")+".Consumer";case Nx:return(t._context.displayName||"Context")+".Provider";case sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case av:return e=t.displayName||null,e!==null?e:v0(t.type)||"Memo";case ja:e=t._payload,t=t._init;try{return v0(t(e))}catch{}}return null}function QN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v0(e);case 8:return e===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JN(t){var e=jx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sf(t){t._valueTracker||(t._valueTracker=JN(t))}function Ax(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function y0(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cx(t,e){e=e.checked,e!=null&&rv(t,"checked",e,!1)}function w0(t,e){Cx(t,e);var n=ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x0(t,e.type,n):e.hasOwnProperty("defaultValue")&&x0(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x0(t,e,n){(e!=="number"||Zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var td=Array.isArray;function hc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Re(92));if(td(n)){if(1<n.length)throw Error(Re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ro(n)}}function Lx(t,e){var n=ro(e.value),r=ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Px(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Px(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var af,Ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(af=af||document.createElement("div"),af.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=af.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XN=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(t){XN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ad[e]=ad[t]})});function Dx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ad.hasOwnProperty(t)&&ad[t]?(""+e).trim():e+"px"}function Fx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZN=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(t,e){if(e){if(ZN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function _0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=null;function ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j0=null,fc=null,pc=null;function r2(t){if(t=nh(t)){if(typeof j0!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=Qp(e),j0(t.stateNode,t.type,e))}}function Tx(t){fc?pc?pc.push(t):pc=[t]:fc=t}function Ox(){if(fc){var t=fc,e=pc;if(pc=fc=null,r2(t),e)for(t=0;t<e.length;t++)r2(e[t])}}function Ix(t,e){return t(e)}function Rx(){}var yg=!1;function Mx(t,e,n){if(yg)return t(e,n);yg=!0;try{return Ix(t,e,n)}finally{yg=!1,(fc!==null||pc!==null)&&(Rx(),Ox())}}function jd(t,e){var n=t.stateNode;if(n===null)return null;var r=Qp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var A0=!1;if(Gs)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){A0=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{A0=!1}function e_(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var od=!1,ep=null,tp=!1,C0=null,t_={onError:function(t){od=!0,ep=t}};function n_(t,e,n,r,i,s,a,o,l){od=!1,ep=null,e_.apply(t_,arguments)}function r_(t,e,n,r,i,s,a,o,l){if(n_.apply(this,arguments),od){if(od){var u=ep;od=!1,ep=null}else throw Error(Re(198));tp||(tp=!0,C0=u)}}function rl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i2(t){if(rl(t)!==t)throw Error(Re(188))}function i_(t){var e=t.alternate;if(!e){if(e=rl(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return i2(i),t;if(s===r)return i2(i),e;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function zx(t){return t=i_(t),t!==null?Ux(t):null}function Ux(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ux(t);if(e!==null)return e;t=t.sibling}return null}var qx=oi.unstable_scheduleCallback,s2=oi.unstable_cancelCallback,s_=oi.unstable_shouldYield,a_=oi.unstable_requestPaint,kn=oi.unstable_now,o_=oi.unstable_getCurrentPriorityLevel,lv=oi.unstable_ImmediatePriority,$x=oi.unstable_UserBlockingPriority,np=oi.unstable_NormalPriority,l_=oi.unstable_LowPriority,Vx=oi.unstable_IdlePriority,Wp=null,xs=null;function c_(t){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Wp,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:h_,u_=Math.log,d_=Math.LN2;function h_(t){return t>>>=0,t===0?32:31-(u_(t)/d_|0)|0}var of=64,lf=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=nd(o):(s&=a,s!==0&&(r=nd(s)))}else a=n&~i,a!==0?r=nd(a):s!==0&&(r=nd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function f_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Yi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=f_(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function L0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hx(){var t=of;return of<<=1,!(of&4194240)&&(of=64),t}function wg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function m_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var zt=0;function Wx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kx,uv,Gx,Yx,Qx,P0=!1,cf=[],Ka=null,Ga=null,Ya=null,Ad=new Map,Cd=new Map,La=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a2(t,e){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cd.delete(e.pointerId)}}function Bu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nh(e),e!==null&&uv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v_(t,e,n,r,i){switch(e){case"focusin":return Ka=Bu(Ka,t,e,n,r,i),!0;case"dragenter":return Ga=Bu(Ga,t,e,n,r,i),!0;case"mouseover":return Ya=Bu(Ya,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ad.set(s,Bu(Ad.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cd.set(s,Bu(Cd.get(s)||null,t,e,n,r,i)),!0}return!1}function Jx(t){var e=Do(t.target);if(e!==null){var n=rl(e);if(n!==null){if(e=n.tag,e===13){if(e=Bx(n),e!==null){t.blockedOn=e,Qx(t.priority,function(){Gx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function If(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=E0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);k0=r,n.target.dispatchEvent(r),k0=null}else return e=nh(n),e!==null&&uv(e),t.blockedOn=n,!1;e.shift()}return!0}function o2(t,e,n){If(t)&&n.delete(e)}function y_(){P0=!1,Ka!==null&&If(Ka)&&(Ka=null),Ga!==null&&If(Ga)&&(Ga=null),Ya!==null&&If(Ya)&&(Ya=null),Ad.forEach(o2),Cd.forEach(o2)}function zu(t,e){t.blockedOn===e&&(t.blockedOn=null,P0||(P0=!0,oi.unstable_scheduleCallback(oi.unstable_NormalPriority,y_)))}function Ld(t){function e(i){return zu(i,t)}if(0<cf.length){zu(cf[0],t);for(var n=1;n<cf.length;n++){var r=cf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ka!==null&&zu(Ka,t),Ga!==null&&zu(Ga,t),Ya!==null&&zu(Ya,t),Ad.forEach(e),Cd.forEach(e),n=0;n<La.length;n++)r=La[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<La.length&&(n=La[0],n.blockedOn===null);)Jx(n),n.blockedOn===null&&La.shift()}var mc=ta.ReactCurrentBatchConfig,ip=!0;function w_(t,e,n,r){var i=zt,s=mc.transition;mc.transition=null;try{zt=1,dv(t,e,n,r)}finally{zt=i,mc.transition=s}}function x_(t,e,n,r){var i=zt,s=mc.transition;mc.transition=null;try{zt=4,dv(t,e,n,r)}finally{zt=i,mc.transition=s}}function dv(t,e,n,r){if(ip){var i=E0(t,e,n,r);if(i===null)Lg(t,e,r,sp,n),a2(t,r);else if(v_(i,t,e,n,r))r.stopPropagation();else if(a2(t,r),e&4&&-1<g_.indexOf(t)){for(;i!==null;){var s=nh(i);if(s!==null&&Kx(s),s=E0(t,e,n,r),s===null&&Lg(t,e,r,sp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lg(t,e,r,null,n)}}var sp=null;function E0(t,e,n,r){if(sp=null,t=ov(r),t=Do(t),t!==null)if(e=rl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sp=t,null}function Xx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o_()){case lv:return 1;case $x:return 4;case np:case l_:return 16;case Vx:return 536870912;default:return 16}default:return 16}}var $a=null,hv=null,Rf=null;function Zx(){if(Rf)return Rf;var t,e=hv,n=e.length,r,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Rf=i.slice(t,1<r?1-r:void 0)}function Mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uf(){return!0}function l2(){return!1}function ci(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uf:l2,this.isPropagationStopped=l2,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uf)},persist:function(){},isPersistent:uf}),e}var Zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=ci(Zc),th=dn({},Zc,{view:0,detail:0}),b_=ci(th),xg,bg,Uu,Kp=dn({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uu&&(Uu&&t.type==="mousemove"?(xg=t.screenX-Uu.screenX,bg=t.screenY-Uu.screenY):bg=xg=0,Uu=t),xg)},movementY:function(t){return"movementY"in t?t.movementY:bg}}),c2=ci(Kp),S_=dn({},Kp,{dataTransfer:0}),N_=ci(S_),__=dn({},th,{relatedTarget:0}),Sg=ci(__),k_=dn({},Zc,{animationName:0,elapsedTime:0,pseudoElement:0}),j_=ci(k_),A_=dn({},Zc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C_=ci(A_),L_=dn({},Zc,{data:0}),u2=ci(L_),P_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D_[t])?!!e[t]:!1}function pv(){return F_}var T_=dn({},th,{key:function(t){if(t.key){var e=P_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pv,charCode:function(t){return t.type==="keypress"?Mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O_=ci(T_),I_=dn({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d2=ci(I_),R_=dn({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pv}),M_=ci(R_),B_=dn({},Zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),z_=ci(B_),U_=dn({},Kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q_=ci(U_),$_=[9,13,27,32],mv=Gs&&"CompositionEvent"in window,ld=null;Gs&&"documentMode"in document&&(ld=document.documentMode);var V_=Gs&&"TextEvent"in window&&!ld,eb=Gs&&(!mv||ld&&8<ld&&11>=ld),h2=" ",f2=!1;function tb(t,e){switch(t){case"keyup":return $_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tc=!1;function H_(t,e){switch(t){case"compositionend":return nb(e);case"keypress":return e.which!==32?null:(f2=!0,h2);case"textInput":return t=e.data,t===h2&&f2?null:t;default:return null}}function W_(t,e){if(tc)return t==="compositionend"||!mv&&tb(t,e)?(t=Zx(),Rf=hv=$a=null,tc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eb&&e.locale!=="ko"?null:e.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K_[t.type]:e==="textarea"}function rb(t,e,n,r){Tx(r),e=ap(e,"onChange"),0<e.length&&(n=new fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cd=null,Pd=null;function G_(t){pb(t,0)}function Gp(t){var e=ic(t);if(Ax(e))return t}function Y_(t,e){if(t==="change")return e}var ib=!1;if(Gs){var Ng;if(Gs){var _g="oninput"in document;if(!_g){var m2=document.createElement("div");m2.setAttribute("oninput","return;"),_g=typeof m2.oninput=="function"}Ng=_g}else Ng=!1;ib=Ng&&(!document.documentMode||9<document.documentMode)}function g2(){cd&&(cd.detachEvent("onpropertychange",sb),Pd=cd=null)}function sb(t){if(t.propertyName==="value"&&Gp(Pd)){var e=[];rb(e,Pd,t,ov(t)),Mx(G_,e)}}function Q_(t,e,n){t==="focusin"?(g2(),cd=e,Pd=n,cd.attachEvent("onpropertychange",sb)):t==="focusout"&&g2()}function J_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gp(Pd)}function X_(t,e){if(t==="click")return Gp(e)}function Z_(t,e){if(t==="input"||t==="change")return Gp(e)}function ek(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ji=typeof Object.is=="function"?Object.is:ek;function Ed(t,e){if(Ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f0.call(e,i)||!Ji(t[i],e[i]))return!1}return!0}function v2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y2(t,e){var n=v2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v2(n)}}function ab(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ab(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ob(){for(var t=window,e=Zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zf(t.document)}return e}function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tk(t){var e=ob(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ab(n.ownerDocument.documentElement,n)){if(r!==null&&gv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=y2(n,s);var a=y2(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nk=Gs&&"documentMode"in document&&11>=document.documentMode,nc=null,D0=null,ud=null,F0=!1;function w2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F0||nc==null||nc!==Zf(r)||(r=nc,"selectionStart"in r&&gv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ud&&Ed(ud,r)||(ud=r,r=ap(D0,"onSelect"),0<r.length&&(e=new fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nc)))}function df(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rc={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionend:df("Transition","TransitionEnd")},kg={},lb={};Gs&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function Yp(t){if(kg[t])return kg[t];if(!rc[t])return t;var e=rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lb)return kg[t]=e[n];return t}var cb=Yp("animationend"),ub=Yp("animationiteration"),db=Yp("animationstart"),hb=Yp("transitionend"),fb=new Map,x2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){fb.set(t,e),nl(e,[t])}for(var jg=0;jg<x2.length;jg++){var Ag=x2[jg],rk=Ag.toLowerCase(),ik=Ag[0].toUpperCase()+Ag.slice(1);oo(rk,"on"+ik)}oo(cb,"onAnimationEnd");oo(ub,"onAnimationIteration");oo(db,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(hb,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function b2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,r_(r,e,void 0,t),t.currentTarget=null}function pb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;b2(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;b2(i,o,u),s=l}}}if(tp)throw t=C0,tp=!1,C0=null,t}function Zt(t,e){var n=e[M0];n===void 0&&(n=e[M0]=new Set);var r=t+"__bubble";n.has(r)||(mb(e,t,2,!1),n.add(r))}function Cg(t,e,n){var r=0;e&&(r|=4),mb(n,t,r,e)}var hf="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[hf]){t[hf]=!0,Sx.forEach(function(n){n!=="selectionchange"&&(sk.has(n)||Cg(n,!1,t),Cg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hf]||(e[hf]=!0,Cg("selectionchange",!1,e))}}function mb(t,e,n,r){switch(Xx(e)){case 1:var i=w_;break;case 4:i=x_;break;default:i=dv}n=i.bind(null,e,n,t),i=void 0,!A0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Do(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Mx(function(){var u=s,f=ov(n),h=[];e:{var g=fb.get(t);if(g!==void 0){var m=fv,S=t;switch(t){case"keypress":if(Mf(n)===0)break e;case"keydown":case"keyup":m=O_;break;case"focusin":S="focus",m=Sg;break;case"focusout":S="blur",m=Sg;break;case"beforeblur":case"afterblur":m=Sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=c2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=M_;break;case cb:case ub:case db:m=j_;break;case hb:m=z_;break;case"scroll":m=b_;break;case"wheel":m=q_;break;case"copy":case"cut":case"paste":m=C_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=d2}var b=(e&4)!==0,k=!b&&t==="scroll",y=b?g!==null?g+"Capture":null:g;b=[];for(var x=u,N;x!==null;){N=x;var E=N.stateNode;if(N.tag===5&&E!==null&&(N=E,y!==null&&(E=jd(x,y),E!=null&&b.push(Fd(x,E,N)))),k)break;x=x.return}0<b.length&&(g=new m(g,S,null,n,f),h.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==k0&&(S=n.relatedTarget||n.fromElement)&&(Do(S)||S[Ys]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?Do(S):null,S!==null&&(k=rl(S),S!==k||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(b=c2,E="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=d2,E="onPointerLeave",y="onPointerEnter",x="pointer"),k=m==null?g:ic(m),N=S==null?g:ic(S),g=new b(E,x+"leave",m,n,f),g.target=k,g.relatedTarget=N,E=null,Do(f)===u&&(b=new b(y,x+"enter",S,n,f),b.target=N,b.relatedTarget=k,E=b),k=E,m&&S)t:{for(b=m,y=S,x=0,N=b;N;N=Ml(N))x++;for(N=0,E=y;E;E=Ml(E))N++;for(;0<x-N;)b=Ml(b),x--;for(;0<N-x;)y=Ml(y),N--;for(;x--;){if(b===y||y!==null&&b===y.alternate)break t;b=Ml(b),y=Ml(y)}b=null}else b=null;m!==null&&S2(h,g,m,b,!1),S!==null&&k!==null&&S2(h,k,S,b,!0)}}e:{if(g=u?ic(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var L=Y_;else if(p2(g))if(ib)L=Z_;else{L=J_;var K=Q_}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=X_);if(L&&(L=L(t,u))){rb(h,L,n,f);break e}K&&K(t,g,u),t==="focusout"&&(K=g._wrapperState)&&K.controlled&&g.type==="number"&&x0(g,"number",g.value)}switch(K=u?ic(u):window,t){case"focusin":(p2(K)||K.contentEditable==="true")&&(nc=K,D0=u,ud=null);break;case"focusout":ud=D0=nc=null;break;case"mousedown":F0=!0;break;case"contextmenu":case"mouseup":case"dragend":F0=!1,w2(h,n,f);break;case"selectionchange":if(nk)break;case"keydown":case"keyup":w2(h,n,f)}var V;if(mv)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else tc?tb(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(eb&&n.locale!=="ko"&&(tc||j!=="onCompositionStart"?j==="onCompositionEnd"&&tc&&(V=Zx()):($a=f,hv="value"in $a?$a.value:$a.textContent,tc=!0)),K=ap(u,j),0<K.length&&(j=new u2(j,t,null,n,f),h.push({event:j,listeners:K}),V?j.data=V:(V=nb(n),V!==null&&(j.data=V)))),(V=V_?H_(t,n):W_(t,n))&&(u=ap(u,"onBeforeInput"),0<u.length&&(f=new u2("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=V))}pb(h,e)})}function Fd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ap(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jd(t,n),s!=null&&r.unshift(Fd(t,s,i)),s=jd(t,e),s!=null&&r.push(Fd(t,s,i))),t=t.return}return r}function Ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S2(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=jd(n,s),l!=null&&a.unshift(Fd(n,l,o))):i||(l=jd(n,s),l!=null&&a.push(Fd(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var ak=/\r\n?/g,ok=/\u0000|\uFFFD/g;function N2(t){return(typeof t=="string"?t:""+t).replace(ak,`
`).replace(ok,"")}function ff(t,e,n){if(e=N2(e),N2(t)!==e&&n)throw Error(Re(425))}function op(){}var T0=null,O0=null;function I0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,lk=typeof clearTimeout=="function"?clearTimeout:void 0,_2=typeof Promise=="function"?Promise:void 0,ck=typeof queueMicrotask=="function"?queueMicrotask:typeof _2<"u"?function(t){return _2.resolve(null).then(t).catch(uk)}:R0;function uk(t){setTimeout(function(){throw t})}function Pg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ld(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ld(e)}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eu=Math.random().toString(36).slice(2),gs="__reactFiber$"+eu,Td="__reactProps$"+eu,Ys="__reactContainer$"+eu,M0="__reactEvents$"+eu,dk="__reactListeners$"+eu,hk="__reactHandles$"+eu;function Do(t){var e=t[gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[gs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k2(t);t!==null;){if(n=t[gs])return n;t=k2(t)}return e}t=n,n=t.parentNode}return null}function nh(t){return t=t[gs]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ic(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function Qp(t){return t[Td]||null}var B0=[],sc=-1;function lo(t){return{current:t}}function nn(t){0>sc||(t.current=B0[sc],B0[sc]=null,sc--)}function Qt(t,e){sc++,B0[sc]=t.current,t.current=e}var io={},gr=lo(io),Wr=lo(!1),Go=io;function zc(t,e){var n=t.type.contextTypes;if(!n)return io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function lp(){nn(Wr),nn(gr)}function j2(t,e,n){if(gr.current!==io)throw Error(Re(168));Qt(gr,e),Qt(Wr,n)}function gb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Re(108,QN(t)||"Unknown",i));return dn({},n,r)}function cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,Go=gr.current,Qt(gr,t),Qt(Wr,Wr.current),!0}function A2(t,e,n){var r=t.stateNode;if(!r)throw Error(Re(169));n?(t=gb(t,e,Go),r.__reactInternalMemoizedMergedChildContext=t,nn(Wr),nn(gr),Qt(gr,t)):nn(Wr),Qt(Wr,n)}var zs=null,Jp=!1,Eg=!1;function vb(t){zs===null?zs=[t]:zs.push(t)}function fk(t){Jp=!0,vb(t)}function co(){if(!Eg&&zs!==null){Eg=!0;var t=0,e=zt;try{var n=zs;for(zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zs=null,Jp=!1}catch(i){throw zs!==null&&(zs=zs.slice(t+1)),qx(lv,co),i}finally{zt=e,Eg=!1}}return null}var ac=[],oc=0,up=null,dp=0,xi=[],bi=0,Yo=null,$s=1,Vs="";function ko(t,e){ac[oc++]=dp,ac[oc++]=up,up=t,dp=e}function yb(t,e,n){xi[bi++]=$s,xi[bi++]=Vs,xi[bi++]=Yo,Yo=t;var r=$s;t=Vs;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$s=1<<32-Yi(e)+i|n<<i|r,Vs=s+t}else $s=1<<s|n<<i|r,Vs=t}function vv(t){t.return!==null&&(ko(t,1),yb(t,1,0))}function yv(t){for(;t===up;)up=ac[--oc],ac[oc]=null,dp=ac[--oc],ac[oc]=null;for(;t===Yo;)Yo=xi[--bi],xi[bi]=null,Vs=xi[--bi],xi[bi]=null,$s=xi[--bi],xi[bi]=null}var ai=null,ii=null,an=!1,Hi=null;function wb(t,e){var n=Si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ai=t,ii=Qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ai=t,ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yo!==null?{id:$s,overflow:Vs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ai=t,ii=null,!0):!1;default:return!1}}function z0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U0(t){if(an){var e=ii;if(e){var n=e;if(!C2(t,e)){if(z0(t))throw Error(Re(418));e=Qa(n.nextSibling);var r=ai;e&&C2(t,e)?wb(r,n):(t.flags=t.flags&-4097|2,an=!1,ai=t)}}else{if(z0(t))throw Error(Re(418));t.flags=t.flags&-4097|2,an=!1,ai=t}}}function L2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ai=t}function pf(t){if(t!==ai)return!1;if(!an)return L2(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!I0(t.type,t.memoizedProps)),e&&(e=ii)){if(z0(t))throw xb(),Error(Re(418));for(;e;)wb(t,e),e=Qa(e.nextSibling)}if(L2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ii=Qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ii=null}}else ii=ai?Qa(t.stateNode.nextSibling):null;return!0}function xb(){for(var t=ii;t;)t=Qa(t.nextSibling)}function Uc(){ii=ai=null,an=!1}function wv(t){Hi===null?Hi=[t]:Hi.push(t)}var pk=ta.ReactCurrentBatchConfig;function qu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,t))}return t}function mf(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P2(t){var e=t._init;return e(t._payload)}function bb(t){function e(y,x){if(t){var N=y.deletions;N===null?(y.deletions=[x],y.flags|=16):N.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=eo(y,x),y.index=0,y.sibling=null,y}function s(y,x,N){return y.index=N,t?(N=y.alternate,N!==null?(N=N.index,N<x?(y.flags|=2,x):N):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,N,E){return x===null||x.tag!==6?(x=Mg(N,y.mode,E),x.return=y,x):(x=i(x,N),x.return=y,x)}function l(y,x,N,E){var L=N.type;return L===ec?f(y,x,N.props.children,E,N.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ja&&P2(L)===x.type)?(E=i(x,N.props),E.ref=qu(y,x,N),E.return=y,E):(E=Hf(N.type,N.key,N.props,null,y.mode,E),E.ref=qu(y,x,N),E.return=y,E)}function u(y,x,N,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Bg(N,y.mode,E),x.return=y,x):(x=i(x,N.children||[]),x.return=y,x)}function f(y,x,N,E,L){return x===null||x.tag!==7?(x=Ho(N,y.mode,E,L),x.return=y,x):(x=i(x,N),x.return=y,x)}function h(y,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mg(""+x,y.mode,N),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rf:return N=Hf(x.type,x.key,x.props,null,y.mode,N),N.ref=qu(y,null,x),N.return=y,N;case Zl:return x=Bg(x,y.mode,N),x.return=y,x;case ja:var E=x._init;return h(y,E(x._payload),N)}if(td(x)||Ru(x))return x=Ho(x,y.mode,N,null),x.return=y,x;mf(y,x)}return null}function g(y,x,N,E){var L=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return L!==null?null:o(y,x,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case rf:return N.key===L?l(y,x,N,E):null;case Zl:return N.key===L?u(y,x,N,E):null;case ja:return L=N._init,g(y,x,L(N._payload),E)}if(td(N)||Ru(N))return L!==null?null:f(y,x,N,E,null);mf(y,N)}return null}function m(y,x,N,E,L){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(N)||null,o(x,y,""+E,L);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rf:return y=y.get(E.key===null?N:E.key)||null,l(x,y,E,L);case Zl:return y=y.get(E.key===null?N:E.key)||null,u(x,y,E,L);case ja:var K=E._init;return m(y,x,N,K(E._payload),L)}if(td(E)||Ru(E))return y=y.get(N)||null,f(x,y,E,L,null);mf(x,E)}return null}function S(y,x,N,E){for(var L=null,K=null,V=x,j=x=0,$=null;V!==null&&j<N.length;j++){V.index>j?($=V,V=null):$=V.sibling;var J=g(y,V,N[j],E);if(J===null){V===null&&(V=$);break}t&&V&&J.alternate===null&&e(y,V),x=s(J,x,j),K===null?L=J:K.sibling=J,K=J,V=$}if(j===N.length)return n(y,V),an&&ko(y,j),L;if(V===null){for(;j<N.length;j++)V=h(y,N[j],E),V!==null&&(x=s(V,x,j),K===null?L=V:K.sibling=V,K=V);return an&&ko(y,j),L}for(V=r(y,V);j<N.length;j++)$=m(V,y,j,N[j],E),$!==null&&(t&&$.alternate!==null&&V.delete($.key===null?j:$.key),x=s($,x,j),K===null?L=$:K.sibling=$,K=$);return t&&V.forEach(function(C){return e(y,C)}),an&&ko(y,j),L}function b(y,x,N,E){var L=Ru(N);if(typeof L!="function")throw Error(Re(150));if(N=L.call(N),N==null)throw Error(Re(151));for(var K=L=null,V=x,j=x=0,$=null,J=N.next();V!==null&&!J.done;j++,J=N.next()){V.index>j?($=V,V=null):$=V.sibling;var C=g(y,V,J.value,E);if(C===null){V===null&&(V=$);break}t&&V&&C.alternate===null&&e(y,V),x=s(C,x,j),K===null?L=C:K.sibling=C,K=C,V=$}if(J.done)return n(y,V),an&&ko(y,j),L;if(V===null){for(;!J.done;j++,J=N.next())J=h(y,J.value,E),J!==null&&(x=s(J,x,j),K===null?L=J:K.sibling=J,K=J);return an&&ko(y,j),L}for(V=r(y,V);!J.done;j++,J=N.next())J=m(V,y,j,J.value,E),J!==null&&(t&&J.alternate!==null&&V.delete(J.key===null?j:J.key),x=s(J,x,j),K===null?L=J:K.sibling=J,K=J);return t&&V.forEach(function(F){return e(y,F)}),an&&ko(y,j),L}function k(y,x,N,E){if(typeof N=="object"&&N!==null&&N.type===ec&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case rf:e:{for(var L=N.key,K=x;K!==null;){if(K.key===L){if(L=N.type,L===ec){if(K.tag===7){n(y,K.sibling),x=i(K,N.props.children),x.return=y,y=x;break e}}else if(K.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ja&&P2(L)===K.type){n(y,K.sibling),x=i(K,N.props),x.ref=qu(y,K,N),x.return=y,y=x;break e}n(y,K);break}else e(y,K);K=K.sibling}N.type===ec?(x=Ho(N.props.children,y.mode,E,N.key),x.return=y,y=x):(E=Hf(N.type,N.key,N.props,null,y.mode,E),E.ref=qu(y,x,N),E.return=y,y=E)}return a(y);case Zl:e:{for(K=N.key;x!==null;){if(x.key===K)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(y,x.sibling),x=i(x,N.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=Bg(N,y.mode,E),x.return=y,y=x}return a(y);case ja:return K=N._init,k(y,x,K(N._payload),E)}if(td(N))return S(y,x,N,E);if(Ru(N))return b(y,x,N,E);mf(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,N),x.return=y,y=x):(n(y,x),x=Mg(N,y.mode,E),x.return=y,y=x),a(y)):n(y,x)}return k}var qc=bb(!0),Sb=bb(!1),hp=lo(null),fp=null,lc=null,xv=null;function bv(){xv=lc=fp=null}function Sv(t){var e=hp.current;nn(hp),t._currentValue=e}function q0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gc(t,e){fp=t,xv=lc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function ji(t){var e=t._currentValue;if(xv!==t)if(t={context:t,memoizedValue:e,next:null},lc===null){if(fp===null)throw Error(Re(308));lc=t,fp.dependencies={lanes:0,firstContext:t}}else lc=lc.next=t;return e}var Fo=null;function Nv(t){Fo===null?Fo=[t]:Fo.push(t)}function Nb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qs(t,r)}function Qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function _v(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _b(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qs(t,n)}return i=r.interleaved,i===null?(e.next=e,Nv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qs(t,n)}function Bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cv(t,n)}}function E2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pp(t,e,n,r){var i=t.updateQueue;Aa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,f=u=l=null,o=s;do{var g=o.lane,m=o.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=t,b=o;switch(g=e,m=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){h=S.call(m,h,g);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,g=typeof S=="function"?S.call(m,h,g):S,g==null)break e;h=dn({},h,g);break e;case 2:Aa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else m={eventTime:m,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jo|=a,t.lanes=a,t.memoizedState=h}}function D2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var rh={},bs=lo(rh),Od=lo(rh),Id=lo(rh);function To(t){if(t===rh)throw Error(Re(174));return t}function kv(t,e){switch(Qt(Id,e),Qt(Od,t),Qt(bs,rh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=S0(e,t)}nn(bs),Qt(bs,e)}function $c(){nn(bs),nn(Od),nn(Id)}function kb(t){To(Id.current);var e=To(bs.current),n=S0(e,t.type);e!==n&&(Qt(Od,t),Qt(bs,n))}function jv(t){Od.current===t&&(nn(bs),nn(Od))}var ln=lo(0);function mp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dg=[];function Av(){for(var t=0;t<Dg.length;t++)Dg[t]._workInProgressVersionPrimary=null;Dg.length=0}var zf=ta.ReactCurrentDispatcher,Fg=ta.ReactCurrentBatchConfig,Qo=0,cn=null,Bn=null,Wn=null,gp=!1,dd=!1,Rd=0,mk=0;function ar(){throw Error(Re(321))}function Cv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ji(t[n],e[n]))return!1;return!0}function Lv(t,e,n,r,i,s){if(Qo=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?wk:xk,t=n(r,i),dd){s=0;do{if(dd=!1,Rd=0,25<=s)throw Error(Re(301));s+=1,Wn=Bn=null,e.updateQueue=null,zf.current=bk,t=n(r,i)}while(dd)}if(zf.current=vp,e=Bn!==null&&Bn.next!==null,Qo=0,Wn=Bn=cn=null,gp=!1,e)throw Error(Re(300));return t}function Pv(){var t=Rd!==0;return Rd=0,t}function ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?cn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Ai(){if(Bn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Bn.next;var e=Wn===null?cn.memoizedState:Wn.next;if(e!==null)Wn=e,Bn=t;else{if(t===null)throw Error(Re(310));Bn=t,t={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Wn===null?cn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function Md(t,e){return typeof e=="function"?e(t):e}function Tg(t){var e=Ai(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=Bn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var f=u.lane;if((Qo&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,cn.lanes|=f,Jo|=f}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ji(r,e.memoizedState)||(Hr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,Jo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Og(t){var e=Ai(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ji(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jb(){}function Ab(t,e){var n=cn,r=Ai(),i=e(),s=!Ji(r.memoizedState,i);if(s&&(r.memoizedState=i,Hr=!0),r=r.queue,Ev(Pb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,Bd(9,Lb.bind(null,n,r,i,e),void 0,null),Gn===null)throw Error(Re(349));Qo&30||Cb(n,e,i)}return i}function Cb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lb(t,e,n,r){e.value=n,e.getSnapshot=r,Eb(e)&&Db(t)}function Pb(t,e,n){return n(function(){Eb(e)&&Db(t)})}function Eb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ji(t,n)}catch{return!0}}function Db(t){var e=Qs(t,1);e!==null&&Qi(e,t,1,-1)}function F2(t){var e=ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},e.queue=t,t=t.dispatch=yk.bind(null,cn,t),[e.memoizedState,t]}function Bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fb(){return Ai().memoizedState}function Uf(t,e,n,r){var i=ds();cn.flags|=t,i.memoizedState=Bd(1|e,n,void 0,r===void 0?null:r)}function Xp(t,e,n,r){var i=Ai();r=r===void 0?null:r;var s=void 0;if(Bn!==null){var a=Bn.memoizedState;if(s=a.destroy,r!==null&&Cv(r,a.deps)){i.memoizedState=Bd(e,n,s,r);return}}cn.flags|=t,i.memoizedState=Bd(1|e,n,s,r)}function T2(t,e){return Uf(8390656,8,t,e)}function Ev(t,e){return Xp(2048,8,t,e)}function Tb(t,e){return Xp(4,2,t,e)}function Ob(t,e){return Xp(4,4,t,e)}function Ib(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rb(t,e,n){return n=n!=null?n.concat([t]):null,Xp(4,4,Ib.bind(null,e,t),n)}function Dv(){}function Mb(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bb(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zb(t,e,n){return Qo&21?(Ji(n,e)||(n=Hx(),cn.lanes|=n,Jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=n)}function gk(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var r=Fg.transition;Fg.transition={};try{t(!1),e()}finally{zt=n,Fg.transition=r}}function Ub(){return Ai().memoizedState}function vk(t,e,n){var r=Za(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qb(t))$b(e,n);else if(n=Nb(t,e,n,r),n!==null){var i=Lr();Qi(n,t,r,i),Vb(n,e,r)}}function yk(t,e,n){var r=Za(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qb(t))$b(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ji(o,a)){var l=e.interleaved;l===null?(i.next=i,Nv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nb(t,e,i,r),n!==null&&(i=Lr(),Qi(n,t,r,i),Vb(n,e,r))}}function qb(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function $b(t,e){dd=gp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cv(t,n)}}var vp={readContext:ji,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},wk={readContext:ji,useCallback:function(t,e){return ds().memoizedState=[t,e===void 0?null:e],t},useContext:ji,useEffect:T2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4194308,4,Ib.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uf(4,2,t,e)},useMemo:function(t,e){var n=ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ds();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vk.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=ds();return t={current:t},e.memoizedState=t},useState:F2,useDebugValue:Dv,useDeferredValue:function(t){return ds().memoizedState=t},useTransition:function(){var t=F2(!1),e=t[0];return t=gk.bind(null,t[1]),ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=ds();if(an){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),Gn===null)throw Error(Re(349));Qo&30||Cb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T2(Pb.bind(null,r,s,t),[t]),r.flags|=2048,Bd(9,Lb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ds(),e=Gn.identifierPrefix;if(an){var n=Vs,r=$s;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xk={readContext:ji,useCallback:Mb,useContext:ji,useEffect:Ev,useImperativeHandle:Rb,useInsertionEffect:Tb,useLayoutEffect:Ob,useMemo:Bb,useReducer:Tg,useRef:Fb,useState:function(){return Tg(Md)},useDebugValue:Dv,useDeferredValue:function(t){var e=Ai();return zb(e,Bn.memoizedState,t)},useTransition:function(){var t=Tg(Md)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:jb,useSyncExternalStore:Ab,useId:Ub,unstable_isNewReconciler:!1},bk={readContext:ji,useCallback:Mb,useContext:ji,useEffect:Ev,useImperativeHandle:Rb,useInsertionEffect:Tb,useLayoutEffect:Ob,useMemo:Bb,useReducer:Og,useRef:Fb,useState:function(){return Og(Md)},useDebugValue:Dv,useDeferredValue:function(t){var e=Ai();return Bn===null?e.memoizedState=t:zb(e,Bn.memoizedState,t)},useTransition:function(){var t=Og(Md)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:jb,useSyncExternalStore:Ab,useId:Ub,unstable_isNewReconciler:!1};function Bi(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zp={isMounted:function(t){return(t=t._reactInternals)?rl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=Za(t),s=Ws(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ja(t,s,i),e!==null&&(Qi(e,t,i,r),Bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=Za(t),s=Ws(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ja(t,s,i),e!==null&&(Qi(e,t,i,r),Bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lr(),r=Za(t),i=Ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ja(t,i,r),e!==null&&(Qi(e,t,r,n),Bf(e,t,r))}};function O2(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ed(n,r)||!Ed(i,s):!0}function Hb(t,e,n){var r=!1,i=io,s=e.contextType;return typeof s=="object"&&s!==null?s=ji(s):(i=Kr(e)?Go:gr.current,r=e.contextTypes,s=(r=r!=null)?zc(t,i):io),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function I2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zp.enqueueReplaceState(e,e.state,null)}function V0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_v(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ji(s):(s=Kr(e)?Go:gr.current,i.context=zc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zp.enqueueReplaceState(i,i.state,null),pp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=YN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ig(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function H0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function Wb(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wp||(wp=!0,t1=r),H0(t,e)},n}function Kb(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){H0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){H0(t,e),typeof r!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function R2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ik.bind(null,t,e,n),e.then(t,t))}function M2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,Ja(n,e,1))),n.lanes|=1),t)}var Nk=ta.ReactCurrentOwner,Hr=!1;function jr(t,e,n,r){e.child=t===null?Sb(e,null,n,r):qc(e,t.child,n,r)}function z2(t,e,n,r,i){n=n.render;var s=e.ref;return gc(e,i),r=Lv(t,e,n,r,s,i),n=Pv(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(an&&n&&vv(e),e.flags|=1,jr(t,e,r,i),e.child)}function U2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gb(t,e,s,r,i)):(t=Hf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ed,n(a,r)&&t.ref===e.ref)return Js(t,e,i)}return e.flags|=1,t=eo(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ed(s,r)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Js(t,e,i)}return W0(t,e,n,r,i)}function Yb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(uc,ri),ri|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qt(uc,ri),ri|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qt(uc,ri),ri|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qt(uc,ri),ri|=r;return jr(t,e,i,n),e.child}function Qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W0(t,e,n,r,i){var s=Kr(n)?Go:gr.current;return s=zc(e,s),gc(e,i),n=Lv(t,e,n,r,s,i),r=Pv(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(an&&r&&vv(e),e.flags|=1,jr(t,e,n,i),e.child)}function q2(t,e,n,r,i){if(Kr(n)){var s=!0;cp(e)}else s=!1;if(gc(e,i),e.stateNode===null)qf(t,e),Hb(e,n,r),V0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ji(u):(u=Kr(n)?Go:gr.current,u=zc(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&I2(e,a,r,u),Aa=!1;var g=e.memoizedState;a.state=g,pp(e,r,a,i),l=e.memoizedState,o!==r||g!==l||Wr.current||Aa?(typeof f=="function"&&($0(e,n,f,r),l=e.memoizedState),(o=Aa||O2(e,n,o,r,g,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,_b(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Bi(e.type,o),a.props=u,h=e.pendingProps,g=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ji(l):(l=Kr(n)?Go:gr.current,l=zc(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||g!==l)&&I2(e,a,r,l),Aa=!1,g=e.memoizedState,a.state=g,pp(e,r,a,i);var S=e.memoizedState;o!==h||g!==S||Wr.current||Aa?(typeof m=="function"&&($0(e,n,m,r),S=e.memoizedState),(u=Aa||O2(e,n,u,r,g,S,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return K0(t,e,n,r,s,i)}function K0(t,e,n,r,i,s){Qb(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&A2(e,n,!1),Js(t,e,s);r=e.stateNode,Nk.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=qc(e,t.child,null,s),e.child=qc(e,null,o,s)):jr(t,e,o,s),e.memoizedState=r.state,i&&A2(e,n,!0),e.child}function Jb(t){var e=t.stateNode;e.pendingContext?j2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j2(t,e.context,!1),kv(t,e.containerInfo)}function $2(t,e,n,r,i){return Uc(),wv(i),e.flags|=256,jr(t,e,n,r),e.child}var G0={dehydrated:null,treeContext:null,retryLane:0};function Y0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xb(t,e,n){var r=e.pendingProps,i=ln.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qt(ln,i&1),t===null)return U0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=nm(a,r,0,null),t=Ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Y0(n),e.memoizedState=G0,t):Fv(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return _k(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=eo(o,s):(s=Ho(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Y0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=G0,r}return s=t.child,t=s.sibling,r=eo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fv(t,e){return e=nm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gf(t,e,n,r){return r!==null&&wv(r),qc(e,t.child,null,n),t=Fv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _k(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Ig(Error(Re(422))),gf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=nm({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qc(e,t.child,null,a),e.child.memoizedState=Y0(a),e.memoizedState=G0,s);if(!(e.mode&1))return gf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Re(419)),r=Ig(s,r,void 0),gf(t,e,a,r)}if(o=(a&t.childLanes)!==0,Hr||o){if(r=Gn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qs(t,i),Qi(r,t,i,-1))}return Bv(),r=Ig(Error(Re(421))),gf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Rk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ii=Qa(i.nextSibling),ai=e,an=!0,Hi=null,t!==null&&(xi[bi++]=$s,xi[bi++]=Vs,xi[bi++]=Yo,$s=t.id,Vs=t.overflow,Yo=e),e=Fv(e,r.children),e.flags|=4096,e)}function V2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q0(t.return,e,n)}function Rg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Zb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&V2(t,n,e);else if(t.tag===19)V2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rg(e,!0,n,null,s);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kk(t,e,n){switch(e.tag){case 3:Jb(e),Uc();break;case 5:kb(e);break;case 1:Kr(e.type)&&cp(e);break;case 4:kv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qt(hp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?Xb(t,e,n):(Qt(ln,ln.current&1),t=Js(t,e,n),t!==null?t.sibling:null);Qt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Zb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,Yb(t,e,n)}return Js(t,e,n)}var e3,Q0,t3,n3;e3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Q0=function(){};t3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,To(bs.current);var s=null;switch(n){case"input":i=y0(t,i),r=y0(t,r),s=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),s=[];break;case"textarea":i=b0(t,i),r=b0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=op)}N0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_d.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_d.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};n3=function(t,e,n,r){n!==r&&(e.flags|=4)};function $u(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jk(t,e,n){var r=e.pendingProps;switch(yv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return Kr(e.type)&&lp(),or(e),null;case 3:return r=e.stateNode,$c(),nn(Wr),nn(gr),Av(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hi!==null&&(i1(Hi),Hi=null))),Q0(t,e),or(e),null;case 5:jv(e);var i=To(Id.current);if(n=e.type,t!==null&&e.stateNode!=null)t3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return or(e),null}if(t=To(bs.current),pf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gs]=e,r[Td]=s,t=(e.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<rd.length;i++)Zt(rd[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":Zy(r,s),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r);break;case"textarea":t2(r,s),Zt("invalid",r)}N0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,o,t),i=["children",""+o]):_d.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Zt("scroll",r)}switch(n){case"input":sf(r),e2(r,s,!0);break;case"textarea":sf(r),n2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=op)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Px(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[gs]=e,t[Td]=r,e3(t,e,!1,!1),e.stateNode=t;e:{switch(a=_0(n,r),n){case"dialog":Zt("cancel",t),Zt("close",t),i=r;break;case"iframe":case"object":case"embed":Zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<rd.length;i++)Zt(rd[i],t);i=r;break;case"source":Zt("error",t),i=r;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=r;break;case"details":Zt("toggle",t),i=r;break;case"input":Zy(t,r),i=y0(t,r),Zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Zt("invalid",t);break;case"textarea":t2(t,r),i=b0(t,r),Zt("invalid",t);break;default:i=r}N0(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Fx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ex(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kd(t,l):typeof l=="number"&&kd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_d.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",t):l!=null&&rv(t,s,l,a))}switch(n){case"input":sf(t),e2(t,r,!1);break;case"textarea":sf(t),n2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ro(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hc(t,!!r.multiple,s,!1):r.defaultValue!=null&&hc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=op)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)n3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(n=To(Id.current),To(bs.current),pf(e)){if(r=e.stateNode,n=e.memoizedProps,r[gs]=e,(s=r.nodeValue!==n)&&(t=ai,t!==null))switch(t.tag){case 3:ff(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ff(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gs]=e,e.stateNode=r}return or(e),null;case 13:if(nn(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&ii!==null&&e.mode&1&&!(e.flags&128))xb(),Uc(),e.flags|=98560,s=!1;else if(s=pf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[gs]=e}else Uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),s=!1}else Hi!==null&&(i1(Hi),Hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Un===0&&(Un=3):Bv())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return $c(),Q0(t,e),t===null&&Dd(e.stateNode.containerInfo),or(e),null;case 10:return Sv(e.type._context),or(e),null;case 17:return Kr(e.type)&&lp(),or(e),null;case 19:if(nn(ln),s=e.memoizedState,s===null)return or(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)$u(s,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mp(t),a!==null){for(e.flags|=128,$u(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qt(ln,ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&kn()>Hc&&(e.flags|=128,r=!0,$u(s,!1),e.lanes=4194304)}else{if(!r)if(t=mp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$u(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!an)return or(e),null}else 2*kn()-s.renderingStartTime>Hc&&n!==1073741824&&(e.flags|=128,r=!0,$u(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kn(),e.sibling=null,n=ln.current,Qt(ln,r?n&1|2:n&1),e):(or(e),null);case 22:case 23:return Mv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ri&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function Ak(t,e){switch(yv(e),e.tag){case 1:return Kr(e.type)&&lp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),nn(Wr),nn(gr),Av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jv(e),null;case 13:if(nn(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));Uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nn(ln),null;case 4:return $c(),null;case 10:return Sv(e.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var vf=!1,pr=!1,Ck=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function cc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function J0(t,e,n){try{n()}catch(r){yn(t,e,r)}}var H2=!1;function Lk(t,e){if(T0=ip,t=ob(),gv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,f=0,h=t,g=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===t)break t;if(g===n&&++u===i&&(o=a),g===s&&++f===r&&(l=a),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(O0={focusedElem:t,selectionRange:n},ip=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,k=S.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:Bi(e.type,b),k);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(E){yn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return S=H2,H2=!1,S}function hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&J0(e,n,s)}i=i.next}while(i!==r)}}function em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function X0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r3(t){var e=t.alternate;e!==null&&(t.alternate=null,r3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gs],delete e[Td],delete e[M0],delete e[dk],delete e[hk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i3(t){return t.tag===5||t.tag===3||t.tag===4}function W2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=op));else if(r!==4&&(t=t.child,t!==null))for(Z0(t,e,n),t=t.sibling;t!==null;)Z0(t,e,n),t=t.sibling}function e1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(e1(t,e,n),t=t.sibling;t!==null;)e1(t,e,n),t=t.sibling}var Zn=null,$i=!1;function va(t,e,n){for(n=n.child;n!==null;)s3(t,e,n),n=n.sibling}function s3(t,e,n){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Wp,n)}catch{}switch(n.tag){case 5:pr||cc(n,e);case 6:var r=Zn,i=$i;Zn=null,va(t,e,n),Zn=r,$i=i,Zn!==null&&($i?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&($i?(t=Zn,n=n.stateNode,t.nodeType===8?Pg(t.parentNode,n):t.nodeType===1&&Pg(t,n),Ld(t)):Pg(Zn,n.stateNode));break;case 4:r=Zn,i=$i,Zn=n.stateNode.containerInfo,$i=!0,va(t,e,n),Zn=r,$i=i;break;case 0:case 11:case 14:case 15:if(!pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&J0(n,e,a),i=i.next}while(i!==r)}va(t,e,n);break;case 1:if(!pr&&(cc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){yn(n,e,o)}va(t,e,n);break;case 21:va(t,e,n);break;case 22:n.mode&1?(pr=(r=pr)||n.memoizedState!==null,va(t,e,n),pr=r):va(t,e,n);break;default:va(t,e,n)}}function K2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ck),e.forEach(function(r){var i=Mk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Zn=o.stateNode,$i=!1;break e;case 3:Zn=o.stateNode.containerInfo,$i=!0;break e;case 4:Zn=o.stateNode.containerInfo,$i=!0;break e}o=o.return}if(Zn===null)throw Error(Re(160));s3(s,a,i),Zn=null,$i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a3(e,t),e=e.sibling}function a3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),as(t),r&4){try{hd(3,t,t.return),em(3,t)}catch(b){yn(t,t.return,b)}try{hd(5,t,t.return)}catch(b){yn(t,t.return,b)}}break;case 1:Ii(e,t),as(t),r&512&&n!==null&&cc(n,n.return);break;case 5:if(Ii(e,t),as(t),r&512&&n!==null&&cc(n,n.return),t.flags&32){var i=t.stateNode;try{kd(i,"")}catch(b){yn(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Cx(i,s),_0(o,a);var u=_0(o,s);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];f==="style"?Fx(i,h):f==="dangerouslySetInnerHTML"?Ex(i,h):f==="children"?kd(i,h):rv(i,f,h,u)}switch(o){case"input":w0(i,s);break;case"textarea":Lx(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?hc(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?hc(i,!!s.multiple,s.defaultValue,!0):hc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Td]=s}catch(b){yn(t,t.return,b)}}break;case 6:if(Ii(e,t),as(t),r&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){yn(t,t.return,b)}}break;case 3:if(Ii(e,t),as(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ld(e.containerInfo)}catch(b){yn(t,t.return,b)}break;case 4:Ii(e,t),as(t);break;case 13:Ii(e,t),as(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iv=kn())),r&4&&K2(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(pr=(u=pr)||f,Ii(e,t),pr=u):Ii(e,t),as(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Xe=t,f=t.child;f!==null;){for(h=Xe=f;Xe!==null;){switch(g=Xe,m=g.child,g.tag){case 0:case 11:case 14:case 15:hd(4,g,g.return);break;case 1:cc(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(b){yn(r,n,b)}}break;case 5:cc(g,g.return);break;case 22:if(g.memoizedState!==null){Y2(h);continue}}m!==null?(m.return=g,Xe=m):Y2(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Dx("display",a))}catch(b){yn(t,t.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){yn(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ii(e,t),as(t),r&4&&K2(t);break;case 21:break;default:Ii(e,t),as(t)}}function as(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i3(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kd(i,""),r.flags&=-33);var s=W2(t);e1(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=W2(t);Z0(t,o,a);break;default:throw Error(Re(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pk(t,e,n){Xe=t,o3(t)}function o3(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||vf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||pr;o=vf;var u=pr;if(vf=a,(pr=l)&&!u)for(Xe=i;Xe!==null;)a=Xe,l=a.child,a.tag===22&&a.memoizedState!==null?Q2(i):l!==null?(l.return=a,Xe=l):Q2(i);for(;s!==null;)Xe=s,o3(s),s=s.sibling;Xe=i,vf=o,pr=u}G2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Xe=s):G2(t)}}function G2(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pr||em(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D2(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D2(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ld(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}pr||e.flags&512&&X0(e)}catch(g){yn(e,e.return,g)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function Y2(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function Q2(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{em(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var s=e.return;try{X0(e)}catch(l){yn(e,s,l)}break;case 5:var a=e.return;try{X0(e)}catch(l){yn(e,a,l)}}}catch(l){yn(e,e.return,l)}if(e===t){Xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Xe=o;break}Xe=e.return}}var Ek=Math.ceil,yp=ta.ReactCurrentDispatcher,Tv=ta.ReactCurrentOwner,Ni=ta.ReactCurrentBatchConfig,Pt=0,Gn=null,Tn=null,er=0,ri=0,uc=lo(0),Un=0,zd=null,Jo=0,tm=0,Ov=0,fd=null,$r=null,Iv=0,Hc=1/0,Ms=null,wp=!1,t1=null,Xa=null,yf=!1,Va=null,xp=0,pd=0,n1=null,$f=-1,Vf=0;function Lr(){return Pt&6?kn():$f!==-1?$f:$f=kn()}function Za(t){return t.mode&1?Pt&2&&er!==0?er&-er:pk.transition!==null?(Vf===0&&(Vf=Hx()),Vf):(t=zt,t!==0||(t=window.event,t=t===void 0?16:Xx(t.type)),t):1}function Qi(t,e,n,r){if(50<pd)throw pd=0,n1=null,Error(Re(185));eh(t,n,r),(!(Pt&2)||t!==Gn)&&(t===Gn&&(!(Pt&2)&&(tm|=n),Un===4&&Pa(t,er)),Gr(t,r),n===1&&Pt===0&&!(e.mode&1)&&(Hc=kn()+500,Jp&&co()))}function Gr(t,e){var n=t.callbackNode;p_(t,e);var r=rp(t,t===Gn?er:0);if(r===0)n!==null&&s2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s2(n),e===1)t.tag===0?fk(J2.bind(null,t)):vb(J2.bind(null,t)),ck(function(){!(Pt&6)&&co()}),n=null;else{switch(Wx(r)){case 1:n=lv;break;case 4:n=$x;break;case 16:n=np;break;case 536870912:n=Vx;break;default:n=np}n=m3(n,l3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l3(t,e){if($f=-1,Vf=0,Pt&6)throw Error(Re(327));var n=t.callbackNode;if(vc()&&t.callbackNode!==n)return null;var r=rp(t,t===Gn?er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bp(t,r);else{e=r;var i=Pt;Pt|=2;var s=u3();(Gn!==t||er!==e)&&(Ms=null,Hc=kn()+500,Vo(t,e));do try{Tk();break}catch(o){c3(t,o)}while(!0);bv(),yp.current=s,Pt=i,Tn!==null?e=0:(Gn=null,er=0,e=Un)}if(e!==0){if(e===2&&(i=L0(t),i!==0&&(r=i,e=r1(t,i))),e===1)throw n=zd,Vo(t,0),Pa(t,r),Gr(t,kn()),n;if(e===6)Pa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Dk(i)&&(e=bp(t,r),e===2&&(s=L0(t),s!==0&&(r=s,e=r1(t,s))),e===1))throw n=zd,Vo(t,0),Pa(t,r),Gr(t,kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Re(345));case 2:jo(t,$r,Ms);break;case 3:if(Pa(t,r),(r&130023424)===r&&(e=Iv+500-kn(),10<e)){if(rp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=R0(jo.bind(null,t,$r,Ms),e);break}jo(t,$r,Ms);break;case 4:if(Pa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Yi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ek(r/1960))-r,10<r){t.timeoutHandle=R0(jo.bind(null,t,$r,Ms),r);break}jo(t,$r,Ms);break;case 5:jo(t,$r,Ms);break;default:throw Error(Re(329))}}}return Gr(t,kn()),t.callbackNode===n?l3.bind(null,t):null}function r1(t,e){var n=fd;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=bp(t,e),t!==2&&(e=$r,$r=n,e!==null&&i1(e)),t}function i1(t){$r===null?$r=t:$r.push.apply($r,t)}function Dk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ji(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pa(t,e){for(e&=~Ov,e&=~tm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function J2(t){if(Pt&6)throw Error(Re(327));vc();var e=rp(t,0);if(!(e&1))return Gr(t,kn()),null;var n=bp(t,e);if(t.tag!==0&&n===2){var r=L0(t);r!==0&&(e=r,n=r1(t,r))}if(n===1)throw n=zd,Vo(t,0),Pa(t,e),Gr(t,kn()),n;if(n===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jo(t,$r,Ms),Gr(t,kn()),null}function Rv(t,e){var n=Pt;Pt|=1;try{return t(e)}finally{Pt=n,Pt===0&&(Hc=kn()+500,Jp&&co())}}function Xo(t){Va!==null&&Va.tag===0&&!(Pt&6)&&vc();var e=Pt;Pt|=1;var n=Ni.transition,r=zt;try{if(Ni.transition=null,zt=1,t)return t()}finally{zt=r,Ni.transition=n,Pt=e,!(Pt&6)&&co()}}function Mv(){ri=uc.current,nn(uc)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lk(n)),Tn!==null)for(n=Tn.return;n!==null;){var r=n;switch(yv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lp();break;case 3:$c(),nn(Wr),nn(gr),Av();break;case 5:jv(r);break;case 4:$c();break;case 13:nn(ln);break;case 19:nn(ln);break;case 10:Sv(r.type._context);break;case 22:case 23:Mv()}n=n.return}if(Gn=t,Tn=t=eo(t.current,null),er=ri=e,Un=0,zd=null,Ov=tm=Jo=0,$r=fd=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Fo=null}return t}function c3(t,e){do{var n=Tn;try{if(bv(),zf.current=vp,gp){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gp=!1}if(Qo=0,Wn=Bn=cn=null,dd=!1,Rd=0,Tv.current=null,n===null||n.return===null){Un=1,zd=e,Tn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=er,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=M2(a);if(m!==null){m.flags&=-257,B2(m,a,o,s,e),m.mode&1&&R2(s,u,e),e=m,l=u;var S=e.updateQueue;if(S===null){var b=new Set;b.add(l),e.updateQueue=b}else S.add(l);break e}else{if(!(e&1)){R2(s,u,e),Bv();break e}l=Error(Re(426))}}else if(an&&o.mode&1){var k=M2(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),B2(k,a,o,s,e),wv(Vc(l,o));break e}}s=l=Vc(l,o),Un!==4&&(Un=2),fd===null?fd=[s]:fd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Wb(s,l,e);E2(s,y);break e;case 1:o=l;var x=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Xa===null||!Xa.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Kb(s,o,e);E2(s,E);break e}}s=s.return}while(s!==null)}h3(n)}catch(L){e=L,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(!0)}function u3(){var t=yp.current;return yp.current=vp,t===null?vp:t}function Bv(){(Un===0||Un===3||Un===2)&&(Un=4),Gn===null||!(Jo&268435455)&&!(tm&268435455)||Pa(Gn,er)}function bp(t,e){var n=Pt;Pt|=2;var r=u3();(Gn!==t||er!==e)&&(Ms=null,Vo(t,e));do try{Fk();break}catch(i){c3(t,i)}while(!0);if(bv(),Pt=n,yp.current=r,Tn!==null)throw Error(Re(261));return Gn=null,er=0,Un}function Fk(){for(;Tn!==null;)d3(Tn)}function Tk(){for(;Tn!==null&&!s_();)d3(Tn)}function d3(t){var e=p3(t.alternate,t,ri);t.memoizedProps=t.pendingProps,e===null?h3(t):Tn=e,Tv.current=null}function h3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ak(n,e),n!==null){n.flags&=32767,Tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,Tn=null;return}}else if(n=jk(n,e,ri),n!==null){Tn=n;return}if(e=e.sibling,e!==null){Tn=e;return}Tn=e=t}while(e!==null);Un===0&&(Un=5)}function jo(t,e,n){var r=zt,i=Ni.transition;try{Ni.transition=null,zt=1,Ok(t,e,n,r)}finally{Ni.transition=i,zt=r}return null}function Ok(t,e,n,r){do vc();while(Va!==null);if(Pt&6)throw Error(Re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(m_(t,s),t===Gn&&(Tn=Gn=null,er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yf||(yf=!0,m3(np,function(){return vc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ni.transition,Ni.transition=null;var a=zt;zt=1;var o=Pt;Pt|=4,Tv.current=null,Lk(t,n),a3(n,t),tk(O0),ip=!!T0,O0=T0=null,t.current=n,Pk(n),a_(),Pt=o,zt=a,Ni.transition=s}else t.current=n;if(yf&&(yf=!1,Va=t,xp=i),s=t.pendingLanes,s===0&&(Xa=null),c_(n.stateNode),Gr(t,kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wp)throw wp=!1,t=t1,t1=null,t;return xp&1&&t.tag!==0&&vc(),s=t.pendingLanes,s&1?t===n1?pd++:(pd=0,n1=t):pd=0,co(),null}function vc(){if(Va!==null){var t=Wx(xp),e=Ni.transition,n=zt;try{if(Ni.transition=null,zt=16>t?16:t,Va===null)var r=!1;else{if(t=Va,Va=null,xp=0,Pt&6)throw Error(Re(331));var i=Pt;for(Pt|=4,Xe=t.current;Xe!==null;){var s=Xe,a=s.child;if(Xe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Xe=u;Xe!==null;){var f=Xe;switch(f.tag){case 0:case 11:case 15:hd(8,f,s)}var h=f.child;if(h!==null)h.return=f,Xe=h;else for(;Xe!==null;){f=Xe;var g=f.sibling,m=f.return;if(r3(f),f===u){Xe=null;break}if(g!==null){g.return=m,Xe=g;break}Xe=m}}}var S=s.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}Xe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Xe=a;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hd(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Xe=y;break e}Xe=s.return}}var x=t.current;for(Xe=x;Xe!==null;){a=Xe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Xe=N;else e:for(a=x;Xe!==null;){if(o=Xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:em(9,o)}}catch(L){yn(o,o.return,L)}if(o===a){Xe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Xe=E;break e}Xe=o.return}}if(Pt=i,co(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(Wp,t)}catch{}r=!0}return r}finally{zt=n,Ni.transition=e}}return!1}function X2(t,e,n){e=Vc(n,e),e=Wb(t,e,1),t=Ja(t,e,1),e=Lr(),t!==null&&(eh(t,1,e),Gr(t,e))}function yn(t,e,n){if(t.tag===3)X2(t,t,n);else for(;e!==null;){if(e.tag===3){X2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){t=Vc(n,t),t=Kb(e,t,1),e=Ja(e,t,1),t=Lr(),e!==null&&(eh(e,1,t),Gr(e,t));break}}e=e.return}}function Ik(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lr(),t.pingedLanes|=t.suspendedLanes&n,Gn===t&&(er&n)===n&&(Un===4||Un===3&&(er&130023424)===er&&500>kn()-Iv?Vo(t,0):Ov|=n),Gr(t,e)}function f3(t,e){e===0&&(t.mode&1?(e=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):e=1);var n=Lr();t=Qs(t,e),t!==null&&(eh(t,e,n),Gr(t,n))}function Rk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),f3(t,n)}function Mk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(e),f3(t,n)}var p3;p3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)Hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hr=!1,kk(t,e,n);Hr=!!(t.flags&131072)}else Hr=!1,an&&e.flags&1048576&&yb(e,dp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qf(t,e),t=e.pendingProps;var i=zc(e,gr.current);gc(e,n),i=Lv(null,e,r,t,i,n);var s=Pv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(r)?(s=!0,cp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_v(e),i.updater=Zp,e.stateNode=i,i._reactInternals=e,V0(e,r,t,n),e=K0(null,e,r,!0,s,n)):(e.tag=0,an&&s&&vv(e),jr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zk(r),t=Bi(r,t),i){case 0:e=W0(null,e,r,t,n);break e;case 1:e=q2(null,e,r,t,n);break e;case 11:e=z2(null,e,r,t,n);break e;case 14:e=U2(null,e,r,Bi(r.type,t),n);break e}throw Error(Re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),W0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),q2(t,e,r,i,n);case 3:e:{if(Jb(e),t===null)throw Error(Re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_b(t,e),pp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vc(Error(Re(423)),e),e=$2(t,e,r,n,i);break e}else if(r!==i){i=Vc(Error(Re(424)),e),e=$2(t,e,r,n,i);break e}else for(ii=Qa(e.stateNode.containerInfo.firstChild),ai=e,an=!0,Hi=null,n=Sb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uc(),r===i){e=Js(t,e,n);break e}jr(t,e,r,n)}e=e.child}return e;case 5:return kb(e),t===null&&U0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,I0(r,i)?a=null:s!==null&&I0(r,s)&&(e.flags|=32),Qb(t,e),jr(t,e,a,n),e.child;case 6:return t===null&&U0(e),null;case 13:return Xb(t,e,n);case 4:return kv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qc(e,null,r,n):jr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),z2(t,e,r,i,n);case 7:return jr(t,e,e.pendingProps,n),e.child;case 8:return jr(t,e,e.pendingProps.children,n),e.child;case 12:return jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Qt(hp,r._currentValue),r._currentValue=a,s!==null)if(Ji(s.value,a)){if(s.children===i.children&&!Wr.current){e=Js(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ws(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),q0(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Re(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),q0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}jr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gc(e,n),i=ji(i),r=r(i),e.flags|=1,jr(t,e,r,n),e.child;case 14:return r=e.type,i=Bi(r,e.pendingProps),i=Bi(r.type,i),U2(t,e,r,i,n);case 15:return Gb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),qf(t,e),e.tag=1,Kr(r)?(t=!0,cp(e)):t=!1,gc(e,n),Hb(e,r,i),V0(e,r,i,n),K0(null,e,r,!0,t,n);case 19:return Zb(t,e,n);case 22:return Yb(t,e,n)}throw Error(Re(156,e.tag))};function m3(t,e){return qx(t,e)}function Bk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(t,e,n,r){return new Bk(t,e,n,r)}function zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zk(t){if(typeof t=="function")return zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sv)return 11;if(t===av)return 14}return 2}function eo(t,e){var n=t.alternate;return n===null?(n=Si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hf(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")zv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ec:return Ho(n.children,i,s,e);case iv:a=8,i|=8;break;case p0:return t=Si(12,n,e,i|2),t.elementType=p0,t.lanes=s,t;case m0:return t=Si(13,n,e,i),t.elementType=m0,t.lanes=s,t;case g0:return t=Si(19,n,e,i),t.elementType=g0,t.lanes=s,t;case kx:return nm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nx:a=10;break e;case _x:a=9;break e;case sv:a=11;break e;case av:a=14;break e;case ja:a=16,r=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=Si(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ho(t,e,n,r){return t=Si(7,t,r,e),t.lanes=n,t}function nm(t,e,n,r){return t=Si(22,t,r,e),t.elementType=kx,t.lanes=n,t.stateNode={isHidden:!1},t}function Mg(t,e,n){return t=Si(6,t,null,e),t.lanes=n,t}function Bg(t,e,n){return e=Si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uv(t,e,n,r,i,s,a,o,l){return t=new Uk(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Si(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(s),t}function qk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g3(t){if(!t)return io;t=t._reactInternals;e:{if(rl(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var n=t.type;if(Kr(n))return gb(t,n,e)}return e}function v3(t,e,n,r,i,s,a,o,l){return t=Uv(n,r,!0,t,i,s,a,o,l),t.context=g3(null),n=t.current,r=Lr(),i=Za(n),s=Ws(r,i),s.callback=e??null,Ja(n,s,i),t.current.lanes=i,eh(t,i,r),Gr(t,r),t}function rm(t,e,n,r){var i=e.current,s=Lr(),a=Za(i);return n=g3(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ja(i,e,a),t!==null&&(Qi(t,i,a,s),Bf(t,i,a)),a}function Sp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qv(t,e){Z2(t,e),(t=t.alternate)&&Z2(t,e)}function $k(){return null}var y3=typeof reportError=="function"?reportError:function(t){console.error(t)};function $v(t){this._internalRoot=t}im.prototype.render=$v.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));rm(t,e,null,null)};im.prototype.unmount=$v.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){rm(null,t,null,null)}),e[Ys]=null}};function im(t){this._internalRoot=t}im.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<La.length&&e!==0&&e<La[n].priority;n++);La.splice(n,0,t),n===0&&Jx(t)}};function Vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e5(){}function Vk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Sp(a);s.call(u)}}var a=v3(e,r,t,0,null,!1,!1,"",e5);return t._reactRootContainer=a,t[Ys]=a.current,Dd(t.nodeType===8?t.parentNode:t),Xo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Sp(l);o.call(u)}}var l=Uv(t,0,!1,null,null,!1,!1,"",e5);return t._reactRootContainer=l,t[Ys]=l.current,Dd(t.nodeType===8?t.parentNode:t),Xo(function(){rm(e,l,n,r)}),l}function am(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Sp(a);o.call(l)}}rm(e,a,t,i)}else a=Vk(n,e,t,i,r);return Sp(a)}Kx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nd(e.pendingLanes);n!==0&&(cv(e,n|1),Gr(e,kn()),!(Pt&6)&&(Hc=kn()+500,co()))}break;case 13:Xo(function(){var r=Qs(t,1);if(r!==null){var i=Lr();Qi(r,t,1,i)}}),qv(t,1)}};uv=function(t){if(t.tag===13){var e=Qs(t,134217728);if(e!==null){var n=Lr();Qi(e,t,134217728,n)}qv(t,134217728)}};Gx=function(t){if(t.tag===13){var e=Za(t),n=Qs(t,e);if(n!==null){var r=Lr();Qi(n,t,e,r)}qv(t,e)}};Yx=function(){return zt};Qx=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};j0=function(t,e,n){switch(e){case"input":if(w0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qp(r);if(!i)throw Error(Re(90));Ax(r),w0(r,i)}}}break;case"textarea":Lx(t,n);break;case"select":e=n.value,e!=null&&hc(t,!!n.multiple,e,!1)}};Ix=Rv;Rx=Xo;var Hk={usingClientEntryPoint:!1,Events:[nh,ic,Qp,Tx,Ox,Rv]},Vu={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wk={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zx(t),t===null?null:t.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||$k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Wp=wf.inject(Wk),xs=wf}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hk;li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(e))throw Error(Re(200));return qk(t,e,null,n)};li.createRoot=function(t,e){if(!Vv(t))throw Error(Re(299));var n=!1,r="",i=y3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uv(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,Dd(t.nodeType===8?t.parentNode:t),new $v(e)};li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=zx(e),t=t===null?null:t.stateNode,t};li.flushSync=function(t){return Xo(t)};li.hydrate=function(t,e,n){if(!sm(e))throw Error(Re(200));return am(null,t,e,!0,n)};li.hydrateRoot=function(t,e,n){if(!Vv(t))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=y3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=v3(e,null,t,1,n??null,i,!1,s,a),t[Ys]=e.current,Dd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new im(e)};li.render=function(t,e,n){if(!sm(e))throw Error(Re(200));return am(null,t,e,!1,n)};li.unmountComponentAtNode=function(t){if(!sm(t))throw Error(Re(40));return t._reactRootContainer?(Xo(function(){am(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};li.unstable_batchedUpdates=Rv;li.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sm(n))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return am(t,e,n,!1,r)};li.version="18.3.1-next-f1338f8080-20240426";function w3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w3)}catch(t){console.error(t)}}w3(),wx.exports=li;var x3=wx.exports;const Kk=ox(x3);var b3,t5=x3;b3=t5.createRoot,t5.hydrateRoot;const ht=t=>typeof t=="string",Hu=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},n5=t=>t==null?"":""+t,Gk=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Yk=/###/g,r5=t=>t&&t.indexOf("###")>-1?t.replace(Yk,"."):t,i5=t=>!t||ht(t),md=(t,e,n)=>{const r=ht(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(i5(t))return{};const s=r5(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return i5(t)?{}:{obj:t,k:r5(r[i])}},s5=(t,e,n)=>{const{obj:r,k:i}=md(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=md(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=md(t,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},Qk=(t,e,n,r)=>{const{obj:i,k:s}=md(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Np=(t,e)=>{const{obj:n,k:r}=md(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Jk=(t,e,n)=>{const r=Np(t,n);return r!==void 0?r:Np(e,n)},S3=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ht(t[r])||t[r]instanceof String||ht(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):S3(t[r],e[r],n):t[r]=e[r]);return t},Bl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Xk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Zk=t=>ht(t)?t.replace(/[&<>"'\/]/g,e=>Xk[e]):t;class ej{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const tj=[" ",",","?","!",";"],nj=new ej(20),rj=(t,e,n)=>{e=e||"",n=n||"";const r=tj.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=nj.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},s1=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<r.length;++l)if(l!==s&&(o+=n),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=a}return i},Ud=t=>t==null?void 0:t.replace("_","-"),ij={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class _p{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||ij,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(ht(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new _p(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new _p(this.logger,e)}}var vs=new _p;class om{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...n])})}}class a5 extends om{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,f;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):ht(r)&&s?o.push(...r.split(s)):o.push(r)));const l=Np(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!ht(r)?l:s1((f=(u=this.data)==null?void 0:u[e])==null?void 0:f[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),s5(this.data,o,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(ht(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,a={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=Np(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?S3(l,r,s):l={...l,...r},s5(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var N3={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,n,r,i))??e}),e}};const o5={},l5=t=>!ht(t)&&typeof t!="boolean"&&typeof t!="number";class kp extends om{constructor(e,n={}){super(),Gk(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!rj(e,r,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ht(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:ht(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),u=l[l.length-1];let f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const h=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return g?s?{res:`${u}${f}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${f}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:o;const m=this.resolve(e,i);let S=m==null?void 0:m.res;const b=(m==null?void 0:m.usedKey)||o,k=(m==null?void 0:m.exactUsedKey)||o,y=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,E=i.count!==void 0&&!ht(i.count),L=kp.hasDefaultValue(i),K=E?this.pluralResolver.getSuffix(h,i.count,i):"",V=i.ordinal&&E?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",j=E&&!i.ordinal&&i.count===0,$=j&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${K}`]||i[`defaultValue${V}`]||i.defaultValue;let J=S;N&&!S&&L&&(J=$);const C=l5(J),F=Object.prototype.toString.apply(J);if(N&&J&&C&&y.indexOf(F)<0&&!(ht(x)&&Array.isArray(J))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const G=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,J,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(m.res=G,m.usedParams=this.getUsedParamsDetails(i),m):G}if(a){const G=Array.isArray(J),z=G?[]:{},q=G?k:b;for(const T in J)if(Object.prototype.hasOwnProperty.call(J,T)){const X=`${q}${a}${T}`;L&&!S?z[T]=this.translate(X,{...i,defaultValue:l5($)?$[T]:void 0,joinArrays:!1,ns:l}):z[T]=this.translate(X,{...i,joinArrays:!1,ns:l}),z[T]===X&&(z[T]=J[T])}S=z}}else if(N&&ht(x)&&Array.isArray(S))S=S.join(x),S&&(S=this.extendTranslation(S,e,i,r));else{let G=!1,z=!1;!this.isValidLookup(S)&&L&&(G=!0,S=$),this.isValidLookup(S)||(z=!0,S=o);const T=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:S,X=L&&$!==S&&this.options.updateMissing;if(z||G||X){if(this.logger.log(X?"updateKey":"missingKey",h,u,o,X?$:S),a){const fe=this.resolve(o,{...i,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let H=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let fe=0;fe<R.length;fe++)H.push(R[fe]);else this.options.saveMissingTo==="all"?H=this.languageUtils.toResolveHierarchy(i.lng||this.language):H.push(i.lng||this.language);const ee=(fe,A,B)=>{var ne;const Y=L&&B!==S?B:T;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,u,A,Y,X,i):(ne=this.backendConnector)!=null&&ne.saveMissing&&this.backendConnector.saveMissing(fe,u,A,Y,X,i),this.emit("missingKey",fe,u,A,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?H.forEach(fe=>{const A=this.pluralResolver.getSuffixes(fe,i);j&&i[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(B=>{ee([fe],o+B,i[`defaultValue${B}`]||$)})}):ee(H,o,$))}S=this.extendTranslation(S,e,i,m,r),z&&S===o&&this.options.appendNamespaceToMissingKey&&(S=`${u}${f}${o}`),(z||G)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${o}`:o,G?S:void 0,i))}return s?(m.res=S,m.usedParams=this.getUsedParamsDetails(i),m):S}extendTranslation(e,n,r,i,s){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=ht(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const m=e.match(this.interpolator.nestingRegexp);h=m&&m.length}let g=r.replace&&!ht(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||i.usedLng,r),f){const m=e.match(this.interpolator.nestingRegexp),S=m&&m.length;h<S&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>(s==null?void 0:s[0])===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=ht(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=N3.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,a,o;return ht(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;i=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=n.count!==void 0&&!ht(n.count),m=g&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(ht(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(k=>{var y,x;this.isValidLookup(r)||(o=k,!o5[`${b[0]}-${k}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(o))&&(o5[`${b[0]}-${k}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(N=>{var K;if(this.isValidLookup(r))return;a=N;const E=[f];if((K=this.i18nFormat)!=null&&K.addLookupKeys)this.i18nFormat.addLookupKeys(E,f,N,k,n);else{let V;g&&(V=this.pluralResolver.getSuffix(N,n.count,n));const j=`${this.options.pluralSeparator}zero`,$=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(E.push(f+V),n.ordinal&&V.indexOf($)===0&&E.push(f+V.replace($,this.options.pluralSeparator)),m&&E.push(f+j)),S){const J=`${f}${this.options.contextSeparator}${n.context}`;E.push(J),g&&(E.push(J+V),n.ordinal&&V.indexOf($)===0&&E.push(J+V.replace($,this.options.pluralSeparator)),m&&E.push(J+j))}}let L;for(;L=E.pop();)this.isValidLookup(r)||(s=L,r=this.getResource(N,k,L,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ht(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class c5{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vs.create("languageUtils")}getScriptPartFromCode(e){if(e=Ud(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ud(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ht(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ht(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return ht(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):ht(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const u5={zero:0,one:1,two:2,few:3,many:4,other:5},d5={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class sj{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=vs.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Ud(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),d5;if(!e.match(/-|_/))return d5;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>u5[i]-u5[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const h5=(t,e,n,r=".",i=!0)=>{let s=Jk(t,e,n);return!s&&i&&ht(n)&&(s=s1(t,n,r),s===void 0&&(s=s1(e,n,r))),s},zg=t=>t.replace(/\$/g,"$$$$");class aj{constructor(e={}){var n;this.logger=vs.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:m,nestingSuffix:S,nestingSuffixEscaped:b,nestingOptionsSeparator:k,maxReplaces:y,alwaysFormat:x}=e.interpolation;this.escape=n!==void 0?n:Zk,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Bl(s):a||"{{",this.suffix=o?Bl(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?Bl(g):m||Bl("$t("),this.nestingSuffix=S?Bl(S):b||Bl(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=y||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var m;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=S=>{if(S.indexOf(this.formatSeparator)<0){const x=h5(n,l,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...n,interpolationkey:S}):x}const b=S.split(this.formatSeparator),k=b.shift().trim(),y=b.join(this.formatSeparator).trim();return this.format(h5(n,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:k})};this.resetRegExp();const f=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((m=i==null?void 0:i.interpolation)==null?void 0:m.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>zg(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?zg(this.escape(S)):zg(S)}].forEach(S=>{for(o=0;s=S.regex.exec(e);){const b=s[1].trim();if(a=u(b),a===void 0)if(typeof f=="function"){const y=f(e,s,i);a=ht(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,b))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),a="";else!ht(a)&&!this.useRawValueToEscape&&(a=n5(a));const k=S.safeValue(a);if(e=e.replace(s[0],k),h?(S.regex.lastIndex+=a.length,S.regex.lastIndex-=s[0].length):S.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,a;const o=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const h=l.split(new RegExp(`${f}[ ]*{`));let g=`{${h[1]}`;l=h[0],g=this.interpolate(g,a);const m=g.match(/'/g),S=g.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!S||S.length%2!==0)&&(g=g.replace(/'/g,'"'));try{a=JSON.parse(g),u&&(a={...u,...a})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,b),`${l}${f}${g}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!ht(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=f.shift(),l=f,u=!0}if(s=n(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!ht(s))return s;ht(s)||(s=n5(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((f,h)=>this.format(f,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const oj=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=o.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},f5=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let o=e[a];return o||(o=t(Ud(r),i),e[a]=o),o(n)}},lj=t=>(e,n,r)=>t(Ud(n),r)(e);class cj{constructor(e={}){this.logger=vs.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?f5:lj;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return o=>a.format(o)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return o=>a.format(o)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return o=>a.format(o)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return o=>a.format(o,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return o=>a.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=f5(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var h;const{formatName:u,formatOptions:f}=oj(l);if(this.formats[u]){let g=o;try{const m=((h=i==null?void 0:i.formatParams)==null?void 0:h[i.interpolationkey])||{},S=m.locale||m.lng||i.locale||i.lng||r;g=this.formats[u](o,S,{...f,...i,...m})}catch(m){this.logger.warn(m)}return g}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const uj=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class dj extends om{constructor(e,n,r,i={}){var s,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=vs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},o={},l={};return e.forEach(u=>{let f=!0;n.forEach(h=>{const g=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?a[g]===void 0&&(a[g]=!0):(this.state[g]=1,f=!1,a[g]===void 0&&(a[g]=!0),s[g]===void 0&&(s[g]=!0),l[h]===void 0&&(l[h]=!0)))}),f||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Qk(l.loaded,[s],a),uj(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const f=l.loaded[u];f.length&&f.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ht(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ht(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,i,s,a={},o=()=>{}){var l,u,f,h,g;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const m={...a,isUpdate:s},S=this.backend.create.bind(this.backend);if(S.length<6)try{let b;S.length===5?b=S(e,n,r,i,m):b=S(e,n,r,i),b&&typeof b.then=="function"?b.then(k=>o(null,k)).catch(o):o(null,b)}catch(b){o(b)}else S(e,n,r,i,o,m)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const p5=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ht(t[1])&&(e.defaultValue=t[1]),ht(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),m5=t=>{var e,n;return ht(t.ns)&&(t.ns=[t.ns]),ht(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ht(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},xf=()=>{},hj=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class qd extends om{constructor(e={},n){if(super(),this.options=m5(e),this.services={},this.logger=vs,this.modules={external:[]},hj(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ht(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=p5();this.options={...r,...this.options,...m5(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?vs.init(i(this.modules.logger),this.options):vs.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=cj;const f=new c5(this.options);this.store=new a5(this.options.resources,this.options);const h=this.services;h.logger=vs,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new sj(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=i(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new aj(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new dj(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new kp(this.services,this.options),this.translator.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=xf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});const o=Hu(),l=()=>{const u=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),n(f,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=xf){var s,a;let r=n;const i=ht(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Hu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=xf),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&N3.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Hu();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},a=o=>{var f,h;!e&&!o&&this.services.languageDetector&&(o=[]);const l=ht(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ht(o)?[o]:o);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(h=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||h.call(f,u)),this.loadResources(u,g=>{s(g,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const i=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(s)?f=s.map(h=>`${l.keyPrefix}${u}${h}`):f=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s,this.t(f,l)};return ht(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=Hu();return this.options.ns?(ht(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Hu();ht(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new c5(p5());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new qd(e,n)}cloneInstance(e={},n=xf){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new qd(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((f,h)=>(f[h]={...l[u][h]},f),l[u]),l),{});s.store=new a5(o,i),s.services.resourceStore=s.store}return s.translator=new kp(s.services,i),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vr=qd.createInstance();vr.createInstance=qd.createInstance;vr.createInstance;vr.dir;vr.init;vr.loadResources;vr.reloadResources;vr.use;vr.changeLanguage;vr.getFixedT;vr.t;vr.exists;vr.setDefaultNamespace;vr.hasLoadedNamespace;vr.loadNamespaces;vr.loadLanguages;const fj=(t,e,n,r)=>{var s,a,o,l;const i=[n,{code:e,...r||{}}];if((a=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Wo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},g5={},a1=(t,e,n,r)=>{Wo(n)&&g5[n]||(Wo(n)&&(g5[n]=new Date),fj(t,e,n,r))},_3=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},o1=(t,e,n)=>{t.loadNamespaces(e,_3(t,n))},v5=(t,e,n,r)=>{if(Wo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return o1(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,_3(t,r))},pj=(t,e,n={})=>!e.languages||!e.languages.length?(a1(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Wo=t=>typeof t=="string",mj=t=>typeof t=="object"&&t!==null,gj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,vj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},yj=t=>vj[t],wj=t=>t.replace(gj,yj);let l1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:wj};const xj=(t={})=>{l1={...l1,...t}},bj=()=>l1;let k3;const Sj=t=>{k3=t},Nj=()=>k3,_j={type:"3rdParty",init(t){xj(t.options.react),Sj(t)}},kj=ce.createContext();class jj{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Aj=(t,e)=>{const n=ce.useRef();return ce.useEffect(()=>{n.current=t},[t,e]),n.current},j3=(t,e,n,r)=>t.getFixedT(e,n,r),Cj=(t,e,n,r)=>ce.useCallback(j3(t,e,n,r),[t,e,n,r]),In=(t,e={})=>{var E,L,K,V;const{i18n:n}=e,{i18n:r,defaultNS:i}=ce.useContext(kj)||{},s=n||r||Nj();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new jj),!s){a1(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(J,C)=>Wo(C)?C:mj(C)&&Wo(C.defaultValue)?C.defaultValue:Array.isArray(J)?J[J.length-1]:J,$=[j,{},!1];return $.t=j,$.i18n={},$.ready=!1,$}(E=s.options.react)!=null&&E.wait&&a1(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...bj(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=i||((L=s.options)==null?void 0:L.defaultNS);u=Wo(u)?[u]:u||["translation"],(V=(K=s.reportNamespaces).addUsedNamespaces)==null||V.call(K,u);const f=(s.isInitialized||s.initializedStoreOnce)&&u.every(j=>pj(j,s,a)),h=Cj(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),g=()=>h,m=()=>j3(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[S,b]=ce.useState(g);let k=u.join();e.lng&&(k=`${e.lng}${k}`);const y=Aj(k),x=ce.useRef(!0);ce.useEffect(()=>{const{bindI18n:j,bindI18nStore:$}=a;x.current=!0,!f&&!o&&(e.lng?v5(s,e.lng,u,()=>{x.current&&b(m)}):o1(s,u,()=>{x.current&&b(m)})),f&&y&&y!==k&&x.current&&b(m);const J=()=>{x.current&&b(m)};return j&&(s==null||s.on(j,J)),$&&(s==null||s.store.on($,J)),()=>{x.current=!1,s&&(j==null||j.split(" ").forEach(C=>s.off(C,J))),$&&s&&$.split(" ").forEach(C=>s.store.off(C,J))}},[s,k]),ce.useEffect(()=>{x.current&&f&&b(g)},[s,l,f]);const N=[S,s,f];if(N.t=S,N.i18n=s,N.ready=f,f||!f&&!o)return N;throw new Promise(j=>{e.lng?v5(s,e.lng,u,()=>j()):o1(s,u,()=>j())})},{slice:Lj,forEach:Pj}=[];function Ej(t){return Pj.call(Lj.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Dj(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const y5=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Fj=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!y5.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!y5.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},w5={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Fj(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var Tj={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return w5.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&w5.create(n,t,r,i,s)}},Oj={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(n=a[o].substring(l+1))}}return n}};let zl=null;const x5=()=>{if(zl!==null)return zl;try{if(zl=typeof window<"u"&&window.localStorage!==null,!zl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{zl=!1}return zl};var Ij={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&x5())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&x5()&&window.localStorage.setItem(n,t)}};let Ul=null;const b5=()=>{if(Ul!==null)return Ul;try{if(Ul=typeof window<"u"&&window.sessionStorage!==null,!Ul)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ul=!1}return Ul};var Rj={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&b5())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&b5()&&window.sessionStorage.setItem(n,t)}},Mj={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},Bj={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},zj={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},Uj={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let A3=!1;try{document.cookie,A3=!0}catch{}const C3=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];A3||C3.splice(1,1);const qj=()=>({order:C3,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class L3{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Ej(n,this.options||{},qj()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Tj),this.addDetector(Oj),this.addDetector(Ij),this.addDetector(Rj),this.addDetector(Mj),this.addDetector(Bj),this.addDetector(zj),this.addDetector(Uj)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!Dj(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}L3.type="languageDetector";const $j={common:{loading:"Loading...",error:"An error occurred",language:"Language",english:"English",french:"French"},login:{welcomeBack:"Welcome Back",loginSubheading:"Log in to your account to continue",email:"Email Address",emailPlaceholder:"your@email.com",password:"Password",passwordPlaceholder:"Enter your password",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Log In",loggingIn:"Logging in...",noAccount:"Don't have an account?",contactAdmin:"Contact administrator",invalidCredentials:"Invalid email or password",enterBoth:"Please enter both email and password"},branding:{appName:"Carlaville",tagline:"Fleet Management System"},nav:{dashboard:"Dashboard",bookings:"Bookings",fleet:"Fleet",clients:"Clients",agents:"Agents",commissions:"Commissions",myCommissions:"My Commissions",expenses:"Expenses",insurance:"Insurance",settings:"Settings",logout:"Logout"},dashboard:{today:"Today",thisWeek:"This Week",thisMonth:"This Month",custom:"Custom",fromYesterday:"from yesterday",todaysBookings:"Today's Bookings",availableVehicles:"Available Vehicles",activeClients:"Active Clients",totalRevenue:"Total Revenue",carsReturningTomorrow:"Cars Returning Tomorrow",carsReturningToday:"Cars Returning Today",totalExpenses:"Total Expenses",bookingsOverview:"Bookings Overview",recentBookings:"Recent Bookings",viewAll:"View All",noActivities:"No activities found",bookingData:"Booking data for",days:"days",weatherForecast:"Weather Forecast",partlyCloudy:"Partly Cloudy",client:"Client",vehicle:"Vehicle",returningTomorrow:"returning tomorrow",returningToday:"returning today",noReturns:"No cars returning tomorrow",topVehicles:"Top Vehicles",bookings:"bookings",noVehicles:"No vehicles found"},fleet:{fleetManagement:"Fleet Management",refresh:"Refresh",addVehicle:"Add Vehicle",searchVehicles:"Search vehicles",filters:"Filters",status:"Status",available:"Available",booked:"Booked",maintenance:"Maintenance",LLD:"LLD",brand:"Brand",allBrands:"All Brands",clear:"Clear",loadingVehicles:"Loading vehicles...",noVehiclesFound:"No vehicles found",noVehiclesInDb:"No vehicles in the database",adjustFilters:"Adjust your search",km:"km",NA:"N/A",nextService:"Next Service",day:"day",image:"Image",vehicle:"Vehicle",year:"Year",plateNumber:"Plate Number",kilometrage:"Kilometrage",nextOilChange:"Next Oil Change",fuelType:"Fuel Type",transmission:"Transmission",rate:"Rate",actions:"Actions",view:"View",edit:"Edit"},bookings:{bookingsManagement:"Bookings",newBooking:"New Booking",searchBookings:"Search bookings",filters:"Filters",generatingPdf:"Generating",pdf:"PDF",excel:"Excel",loadingBookings:"Loading bookings...",noBookingsFound:"No bookings found",noBookingsInDb:"No bookings in the database",adjustSearch:"Adjust your search",id:"ID",client:"Client",vehicle:"Vehicle",agent:"Agent",pickupLocation:"Pickup Location",returnLocation:"Return Location",startDate:"Start Date",endDate:"End Date",timeStatus:"Time Status",status:"Status",payment:"Payment",amount:"Amount",actions:"Actions",edit:"Edit",view:"View",unknown:"Unknown",remaining:"remaining"},bookingDialog:{addBooking:"Add Booking",editBooking:"Edit Booking",client:"Client",selectClient:"Select client",vehicle:"Vehicle",selectVehicle:"Select vehicle",agent:"Agent",selectAgent:"Select agent",startDate:"Start Date",endDate:"End Date",status:"Status",confirmed:"Confirmed",pending:"Pending",completed:"Completed",cancelled:"Cancelled",payment:"Payment Status",paid:"Paid",paymentPending:"Pending",amount:"Amount",pickupLocation:"Pickup Location",returnLocation:"Return Location",cancel:"Cancel",save:"Save",saving:"Saving..."},fleetDialog:{addVehicle:"Add Vehicle",editVehicle:"Edit Vehicle",name:"Name",vehicleName:"Vehicle name",year:"Year",plateNumber:"Plate Number",status:"Status",available:"Available",booked:"Booked",maintenance:"Maintenance",LLD:"LLD",fuelType:"Fuel Type",gasoline:"Gasoline",diesel:"Diesel",electric:"Electric",transmission:"Transmission",automatic:"Automatic",manual:"Manual",rate:"Rate per day",image:"Vehicle Image",uploadImage:"Upload Image",dropImage:"Drop image here or click to browse",kilometrage:"Kilometrage",nextOilChange:"Next Oil Change",cancel:"Cancel",save:"Save",saving:"Saving..."},clients:{clientManagement:"Client Management",addClient:"Add Client",searchClients:"Search clients...",allStatus:"All Status",active:"Active",inactive:"Inactive",loadingClients:"Loading clients...",noClientsFound:"No clients found",noClientsInDb:"There are no clients in the database. Add a new client to get started.",adjustFilters:"Try adjusting your search or filters to see more results.",bookings:"Bookings",totalSpent:"Total Spent",noEmail:"No email",noPhone:"No phone",id:"ID",notAvailable:"N/A",viewProfile:"View Profile",edit:"Edit"},clientDialog:{addClient:"Add Client",editClient:"Edit Client",fullName:"Full Name",email:"Email Address",phone:"Phone Number",idCardNumber:"ID Card Number",startDate:"Start Date",endDate:"End Date",paymentMethod:"Payment Method",cash:"Cash",card:"Card",site:"Site",cancel:"Cancel",save:"Save",saving:"Saving..."},agents:{agentsManagement:"Agents Management",addAgent:"Add Agent",export:"Export",searchAgents:"Search agents...",agent:"Agent",email:"Email",role:"Role",createdAt:"Created At",actions:"Actions",edit:"Edit",delete:"Delete",noAgentsFound:"No agents found.",confirmDelete:"Are you sure you want to delete this agent?",unknown:"Unknown",noEmail:"No email",noRole:"No role"},agentDialog:{addAgent:"Add Agent",editAgent:"Edit Agent",firstName:"First Name",lastName:"Last Name",email:"Email Address",role:"Role",cancel:"Cancel",save:"Save",saving:"Saving..."},insurance:{insuranceManagement:"Insurance Management",refresh:"Refresh",createDocument:"Create Document",totalRepairCosts:"Total Repair Costs",totalPayments:"Total Payments",totalBalanceDue:"Total Balance Due",searchDocuments:"Search documents...",allTypes:"All Types",policy:"Policy",claim:"Claim",invoice:"Invoice",other:"Other",allStatus:"All Status",active:"Active",pending:"Pending",expired:"Expired",cancelled:"Cancelled",loadingDocuments:"Loading documents...",errorLoadingDocuments:"Error loading documents",tryAgain:"Try Again",noDocumentsFound:"No documents found",noDocumentsInDb:"There are no insurance documents in the database. Create a new document to get started.",adjustFilters:"Try adjusting your search or filters to see more results.",document:"Document",type:"Type",client:"Client",vehicle:"Vehicle",created:"Created",expires:"Expires",status:"Status",signed:"Signed",unsigned:"Unsigned",repairCost:"Repair Cost",payment:"Payment",balance:"Balance",actions:"Actions",confirmDelete:"Are you sure you want to delete this document?",processing:"Processing your request...",addDocument:"Add Insurance Document",editDocument:"Edit Insurance Document",loadingFormData:"Loading form data...",documentName:"Document Name",enterDocumentName:"Enter document name",documentType:"Document Type",description:"Description",enterDescription:"Enter document description",selectClient:"Select client",selectVehicle:"Select vehicle",expiryDate:"Expiry Date",policyNumber:"Policy Number",enterPolicyNumber:"Enter policy number",paymentAmount:"Payment Amount",balanceDue:"Balance Due",images:"Document Images",uploadImages:"Upload Images",dropImages:"Drop images here or click to browse",cancel:"Cancel",save:"Save",saving:"Saving..."},commissions:{agentCommissions:"Agent Commissions",lastUpdated:"Last updated",to:"to",export:"Export",rank:"Rank",agentName:"Agent Name",reservations:"Reservations",totalSales:"Total Sales",commission:"Commission",performance:"Performance",loadingCommissions:"Loading commission data...",noCommissionData:"No commission data available"},settings:{title:"Settings",accountSettings:"Account Settings",securitySettings:"Security Settings",notificationSettings:"Notifications Settings",appearanceSettings:"Appearance",regionSettings:"Region & Language Settings",privacySettings:"Privacy Settings",uploadPhoto:"Upload Photo",remove:"Remove",fullName:"Full Name",email:"Email Address",phone:"Phone Number",saving:"Saving...",saveChanges:"Save Changes",cancel:"Cancel",theme:"Theme",light:"Light",dark:"Dark",interfaceDensity:"Interface Density",comfortable:"Comfortable",compact:"Compact",fontSize:"Font Size",small:"Small",medium:"Medium (Recommended)",large:"Large",resetToDefault:"Reset to Default",underDevelopment:"This section is under development. Settings for {section} will be available soon.",loadingProfile:"Loading profile..."},expenses:{expenseManagement:"Expense Management",addExpense:"Add Expense",totalExpenses:"Total Expenses",totalRecords:"Total Records",searchExpenses:"Search expenses...",filters:"Filters",export:"Export",loadingExpenses:"Loading expenses...",noExpensesFound:"No expenses found",date:"Date",agent:"Agent",category:"Category",description:"Description",amount:"Amount",actions:"Actions",edit:"Edit",delete:"Delete",addNewExpense:"Add New Expense",editExpense:"Edit Expense",selectAgent:"Select Agent",selectCategory:"Select Category",enterDescription:"Enter description",enterAmount:"Enter amount",cancel:"Cancel",save:"Save",saving:"Saving...",fuel:"Fuel",maintenance:"Maintenance",insurance:"Insurance",repairs:"Repairs",office:"Office Supplies",travel:"Travel",other:"Other",confirmDelete:"Are you sure you want to delete this expense?"},header:{search:"Search...",profile:"Profile",settings:"Settings",help:"Help & Support",logout:"Logout",notifications:"Notifications",language:"Language",english:"English",french:"French"}},Vj={common:{loading:"Chargement...",error:"Une erreur est survenue",language:"Langue",english:"Anglais",french:"Français"},login:{welcomeBack:"Bienvenue",loginSubheading:"Connectez-vous à votre compte pour continuer",email:"Adresse e-mail",emailPlaceholder:"votre@email.com",password:"Mot de passe",passwordPlaceholder:"Entrez votre mot de passe",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oublié ?",loginButton:"Se connecter",loggingIn:"Connexion en cours...",noAccount:"Vous n'avez pas de compte ?",contactAdmin:"Contactez l'administrateur",invalidCredentials:"Email ou mot de passe invalide",enterBoth:"Veuillez saisir l'email et le mot de passe"},branding:{appName:"Carlaville",tagline:"Système de Gestion de Flotte"},nav:{dashboard:"Tableau de bord",bookings:"Réservations",fleet:"Flotte",clients:"Clients",agents:"Agents",commissions:"Commissions",myCommissions:"Mes Commissions",expenses:"Dépenses",insurance:"Assurance",settings:"Paramètres",logout:"Déconnexion"},dashboard:{today:"Aujourd'hui",thisWeek:"Cette Semaine",thisMonth:"Ce Mois",custom:"Personnalisé",fromYesterday:"par rapport à hier",todaysBookings:"Réservations du jour",availableVehicles:"Véhicules disponibles",activeClients:"Clients actifs",totalRevenue:"Revenu Total",carsReturningTomorrow:"Véhicules Rentrant Demain",carsReturningToday:"Véhicules Rentrant Aujourd'hui",totalExpenses:"Dépenses Totales",bookingsOverview:"Aperçu des réservations",recentBookings:"Réservations récentes",viewAll:"Voir tout",noActivities:"Aucune activité trouvée",bookingData:"Données de réservation pour",days:"jours",weatherForecast:"Prévisions météo",partlyCloudy:"Partiellement nuageux",client:"Client",vehicle:"Véhicule",returningTomorrow:"rentrant demain",returningToday:"rentrant aujourd'hui",noReturns:"Aucun véhicule rentrant demain",topVehicles:"Véhicules les plus populaires",bookings:"réservations",noVehicles:"Aucun véhicule trouvé"},fleet:{fleetManagement:"Gestion de Flotte",refresh:"Actualiser",addVehicle:"Ajouter un véhicule",searchVehicles:"Rechercher des véhicules",filters:"Filtres",status:"Statut",available:"Disponible",booked:"Réservé",maintenance:"Maintenance",LLD:"LLD",brand:"Marque",allBrands:"Toutes les marques",clear:"Effacer",loadingVehicles:"Chargement des véhicules...",noVehiclesFound:"Aucun véhicule trouvé",noVehiclesInDb:"Aucun véhicule dans la base de données",adjustFilters:"Ajustez votre recherche",km:"km",NA:"N/D",nextService:"Prochain entretien",day:"jour",image:"Image",vehicle:"Véhicule",year:"Année",plateNumber:"Plaque d'immatriculation",kilometrage:"Kilométrage",nextOilChange:"Prochaine vidange",fuelType:"Carburant",transmission:"Transmission",rate:"Tarif",actions:"Actions",view:"Voir",edit:"Modifier"},bookings:{bookingsManagement:"Réservations",newBooking:"Nouvelle Réservation",searchBookings:"Rechercher des réservations",filters:"Filtres",generatingPdf:"Génération",pdf:"PDF",excel:"Excel",loadingBookings:"Chargement des réservations...",noBookingsFound:"Aucune réservation trouvée",noBookingsInDb:"Aucune réservation dans la base de données",adjustSearch:"Ajustez votre recherche",id:"ID",client:"Client",vehicle:"Véhicule",agent:"Agent",pickupLocation:"Lieu de prise en charge",returnLocation:"Lieu de retour",startDate:"Date de début",endDate:"Date de fin",timeStatus:"Statut temporel",status:"Statut",payment:"Paiement",amount:"Montant",actions:"Actions",edit:"Modifier",view:"Voir",unknown:"Inconnu",remaining:"restant"},bookingDialog:{addBooking:"Ajouter une réservation",editBooking:"Modifier la réservation",client:"Client",selectClient:"Sélectionner un client",vehicle:"Véhicule",selectVehicle:"Sélectionner un véhicule",agent:"Agent",selectAgent:"Sélectionner un agent",startDate:"Date de début",endDate:"Date de fin",status:"Statut",confirmed:"Confirmé",pending:"En attente",completed:"Terminé",cancelled:"Annulé",payment:"Statut de paiement",paid:"Payé",paymentPending:"En attente",amount:"Montant",pickupLocation:"Lieu de prise en charge",returnLocation:"Lieu de retour",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement..."},fleetDialog:{addVehicle:"Ajouter un véhicule",editVehicle:"Modifier le véhicule",name:"Nom",vehicleName:"Nom du véhicule",year:"Année",plateNumber:"Plaque d'immatriculation",status:"Statut",available:"Disponible",booked:"Réservé",maintenance:"Maintenance",LLD:"LLD",fuelType:"Type de carburant",gasoline:"Essence",diesel:"Diesel",electric:"Électrique",transmission:"Transmission",automatic:"Automatique",manual:"Manuelle",rate:"Tarif par jour",image:"Image du véhicule",uploadImage:"Télécharger une image",dropImage:"Déposez l'image ici ou cliquez pour parcourir",kilometrage:"Kilométrage",nextOilChange:"Prochaine vidange",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement..."},clients:{clientManagement:"Gestion des clients",addClient:"Ajouter un client",searchClients:"Rechercher des clients...",allStatus:"Tous les statuts",active:"Actif",inactive:"Inactif",loadingClients:"Chargement des clients...",noClientsFound:"Aucun client trouvé",noClientsInDb:"Il n'y a aucun client dans la base de données. Ajoutez un nouveau client pour commencer.",adjustFilters:"Essayez d'ajuster votre recherche ou vos filtres pour voir plus de résultats.",bookings:"Réservations",totalSpent:"Total dépensé",noEmail:"Pas d'email",noPhone:"Pas de téléphone",id:"ID",notAvailable:"N/D",viewProfile:"Voir le profil",edit:"Modifier"},clientDialog:{addClient:"Ajouter un client",editClient:"Modifier le client",fullName:"Nom complet",email:"Adresse e-mail",phone:"Numéro de téléphone",idCardNumber:"Numéro de carte d'identité",startDate:"Date de début",endDate:"Date de fin",paymentMethod:"Méthode de paiement",cash:"Espèces",card:"Carte",site:"Site",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement..."},agents:{agentsManagement:"Gestion des agents",addAgent:"Ajouter un agent",export:"Exporter",searchAgents:"Rechercher des agents...",agent:"Agent",email:"Email",role:"Rôle",createdAt:"Créé le",actions:"Actions",edit:"Modifier",delete:"Supprimer",noAgentsFound:"Aucun agent trouvé.",confirmDelete:"Êtes-vous sûr de vouloir supprimer cet agent ?",unknown:"Inconnu",noEmail:"Pas d'email",noRole:"Pas de rôle"},agentDialog:{addAgent:"Ajouter un agent",editAgent:"Modifier l'agent",firstName:"Prénom",lastName:"Nom",email:"Adresse e-mail",role:"Rôle",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement..."},insurance:{insuranceManagement:"Gestion d'Assurance",refresh:"Actualiser",createDocument:"Créer un Document",totalRepairCosts:"Coûts Totaux de Réparation",totalPayments:"Paiements Totaux",totalBalanceDue:"Solde Total Dû",searchDocuments:"Rechercher des documents...",allTypes:"Tous les Types",policy:"Police",claim:"Réclamation",invoice:"Facture",other:"Autre",allStatus:"Tous les Statuts",active:"Actif",pending:"En Attente",expired:"Expiré",cancelled:"Annulé",loadingDocuments:"Chargement des documents...",errorLoadingDocuments:"Erreur lors du chargement des documents",tryAgain:"Réessayer",noDocumentsFound:"Aucun document trouvé",noDocumentsInDb:"Il n'y a aucun document d'assurance dans la base de données. Créez un nouveau document pour commencer.",adjustFilters:"Essayez d'ajuster votre recherche ou vos filtres pour voir plus de résultats.",document:"Document",type:"Type",client:"Client",vehicle:"Véhicule",created:"Créé",expires:"Expire",status:"Statut",signed:"Signé",unsigned:"Non Signé",repairCost:"Coût de Réparation",payment:"Paiement",balance:"Solde",actions:"Actions",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce document?",processing:"Traitement de votre demande...",addDocument:"Ajouter un Document d'Assurance",editDocument:"Modifier le Document d'Assurance",loadingFormData:"Chargement des données du formulaire...",documentName:"Nom du Document",enterDocumentName:"Entrez le nom du document",documentType:"Type de Document",description:"Description",enterDescription:"Entrez une description",selectClient:"Sélectionner un client",selectVehicle:"Sélectionner un véhicule",expiryDate:"Date d'Expiration",policyNumber:"Numéro de Police",enterPolicyNumber:"Entrez le numéro de police",paymentAmount:"Montant du Paiement",balanceDue:"Solde Dû",images:"Images du Document",uploadImages:"Télécharger des Images",dropImages:"Déposez les images ici ou cliquez pour parcourir",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement..."},commissions:{agentCommissions:"Commissions des Agents",lastUpdated:"Dernière mise à jour",to:"à",export:"Exporter",rank:"Rang",agentName:"Nom de l'Agent",reservations:"Réservations",totalSales:"Ventes Totales",commission:"Commission",performance:"Performance",loadingCommissions:"Chargement des données de commission...",noCommissionData:"Aucune donnée de commission disponible"},settings:{title:"Paramètres",accountSettings:"Paramètres du Compte",securitySettings:"Paramètres de Sécurité",notificationSettings:"Paramètres de Notification",appearanceSettings:"Apparence",regionSettings:"Région et Langue",privacySettings:"Paramètres de Confidentialité",uploadPhoto:"Télécharger une Photo",remove:"Supprimer",fullName:"Nom Complet",email:"Adresse Email",phone:"Numéro de Téléphone",saving:"Enregistrement...",saveChanges:"Enregistrer les Modifications",cancel:"Annuler",theme:"Thème",light:"Clair",dark:"Sombre",interfaceDensity:"Densité de l'Interface",comfortable:"Confortable",compact:"Compact",fontSize:"Taille de Police",small:"Petite",medium:"Moyenne (Recommandée)",large:"Grande",resetToDefault:"Réinitialiser par Défaut",underDevelopment:"Cette section est en cours de développement. Les paramètres pour {section} seront disponibles prochainement.",loadingProfile:"Chargement du profil..."},expenses:{expenseManagement:"Gestion des Dépenses",addExpense:"Ajouter une Dépense",totalExpenses:"Dépenses Totales",totalRecords:"Total des Enregistrements",searchExpenses:"Rechercher des dépenses...",filters:"Filtres",export:"Exporter",loadingExpenses:"Chargement des dépenses...",noExpensesFound:"Aucune dépense trouvée",date:"Date",agent:"Agent",category:"Catégorie",description:"Description",amount:"Montant",actions:"Actions",edit:"Modifier",delete:"Supprimer",addNewExpense:"Ajouter une Nouvelle Dépense",editExpense:"Modifier la Dépense",selectAgent:"Sélectionner un Agent",selectCategory:"Sélectionner une Catégorie",enterDescription:"Entrez une description",enterAmount:"Entrez un montant",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement...",fuel:"Carburant",maintenance:"Maintenance",insurance:"Assurance",repairs:"Réparations",office:"Fournitures de Bureau",travel:"Voyage",other:"Autre",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette dépense ?"},header:{search:"Rechercher...",profile:"Profil",settings:"Paramètres",help:"Aide et Support",logout:"Déconnexion",notifications:"Notifications",language:"Langue",english:"Anglais",french:"Français"}},Hj={en:{translation:$j},fr:{translation:Vj}};vr.use(L3).use(_j).init({resources:Hj,fallbackLng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}var Ha;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ha||(Ha={}));const S5="popstate";function Wj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return c1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jp(i)}return Gj(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kj(){return Math.random().toString(36).substr(2,8)}function N5(t,e){return{usr:t.state,key:t.key,idx:e}}function c1(t,e,n,r){return n===void 0&&(n=null),Wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tu(e):e,{state:n,key:e&&e.key||r||Kj()})}function jp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Gj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Ha.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(Wc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){o=Ha.Pop;let k=f(),y=k==null?null:k-u;u=k,l&&l({action:o,location:b.location,delta:y})}function g(k,y){o=Ha.Push;let x=c1(b.location,k,y);u=f()+1;let N=N5(x,u),E=b.createHref(x);try{a.pushState(N,"",E)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(E)}s&&l&&l({action:o,location:b.location,delta:1})}function m(k,y){o=Ha.Replace;let x=c1(b.location,k,y);u=f();let N=N5(x,u),E=b.createHref(x);a.replaceState(N,"",E),s&&l&&l({action:o,location:b.location,delta:0})}function S(k){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof k=="string"?k:jp(k);return x=x.replace(/ $/,"%20"),un(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let b={get action(){return o},get location(){return t(i,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(S5,h),l=k,()=>{i.removeEventListener(S5,h),l=null}},createHref(k){return e(i,k)},createURL:S,encodeLocation(k){let y=S(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:m,go(k){return a.go(k)}};return b}var _5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_5||(_5={}));function Yj(t,e,n){return n===void 0&&(n="/"),Qj(t,e,n,!1)}function Qj(t,e,n,r){let i=typeof e=="string"?tu(e):e,s=Kc(i.pathname||"/",n);if(s==null)return null;let a=E3(t);Jj(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=l6(s);o=a6(a[l],u,r)}return o}function E3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(un(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=to([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(un(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E3(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:i6(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of D3(s.path))i(s,a,l)}),e}function D3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=D3(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Jj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xj=/^:[\w-]+$/,Zj=3,e6=2,t6=1,n6=10,r6=-2,k5=t=>t==="*";function i6(t,e){let n=t.split("/"),r=n.length;return n.some(k5)&&(r+=r6),e&&(r+=e6),n.filter(i=>!k5(i)).reduce((i,s)=>i+(Xj.test(s)?Zj:s===""?t6:n6),r)}function s6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function a6(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=Ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:to([s,h.pathname]),pathnameBase:h6(to([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=to([s,h.pathnameBase]))}return a}function Ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let b=o[h]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const S=o[h];return m&&!S?u[g]=void 0:u[g]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function o6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tu(t):t;return{pathname:n?n.startsWith("/")?n:u6(n,e):e,search:f6(r),hash:p6(i)}}function u6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ug(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hv(t,e){let n=d6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tu(t):(i=Wc({},t),un(!i.pathname||!i.pathname.includes("?"),Ug("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),Ug("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),Ug("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=c6(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const to=t=>t.join("/").replace(/\/\/+/g,"/"),h6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,m6=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,Wc({},r,{headers:i}))};function g6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const F3=["post","put","patch","delete"];new Set(F3);const v6=["get",...F3];new Set(v6);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}const lm=ce.createContext(null),T3=ce.createContext(null),na=ce.createContext(null),cm=ce.createContext(null),uo=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),O3=ce.createContext(null);function y6(t,e){let{relative:n}=e===void 0?{}:e;nu()||un(!1);let{basename:r,navigator:i}=ce.useContext(na),{hash:s,pathname:a,search:o}=dm(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:to([r,a])),i.createHref({pathname:l,search:o,hash:s})}function nu(){return ce.useContext(cm)!=null}function il(){return nu()||un(!1),ce.useContext(cm).location}function I3(t){ce.useContext(na).static||ce.useLayoutEffect(t)}function um(){let{isDataRoute:t}=ce.useContext(uo);return t?E6():w6()}function w6(){nu()||un(!1);let t=ce.useContext(lm),{basename:e,future:n,navigator:r}=ce.useContext(na),{matches:i}=ce.useContext(uo),{pathname:s}=il(),a=JSON.stringify(Hv(i,n.v7_relativeSplatPath)),o=ce.useRef(!1);return I3(()=>{o.current=!0}),ce.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=Wv(u,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:to([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,a,s,t])}function dm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ce.useContext(na),{matches:i}=ce.useContext(uo),{pathname:s}=il(),a=JSON.stringify(Hv(i,r.v7_relativeSplatPath));return ce.useMemo(()=>Wv(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function x6(t,e){return b6(t,e)}function b6(t,e,n,r){nu()||un(!1);let{navigator:i,static:s}=ce.useContext(na),{matches:a}=ce.useContext(uo),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=il(),h;if(e){var g;let y=typeof e=="string"?tu(e):e;u==="/"||(g=y.pathname)!=null&&g.startsWith(u)||un(!1),h=y}else h=f;let m=h.pathname||"/",S=m;if(u!=="/"){let y=u.replace(/^\//,"").split("/");S="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=!s&&n&&n.matches&&n.matches.length>0?n.matches:Yj(t,{pathname:S}),k=j6(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:to([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:to([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&k?ce.createElement(cm.Provider,{value:{location:$d({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ha.Pop}},k):k}function S6(){let t=P6(),e=g6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:i},n):null,null)}const N6=ce.createElement(S6,null);class _6 extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ce.createElement(uo.Provider,{value:this.props.routeContext},ce.createElement(O3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k6(t){let{routeContext:e,match:n,children:r}=t,i=ce.useContext(lm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ce.createElement(uo.Provider,{value:e},r)}function j6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||un(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:m}=n,S=h.route.loader&&g[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||S){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let m,S=!1,b=null,k=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||N6,l&&(u<0&&g===0?(S=!0,k=null):u===g&&(S=!0,k=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,g+1)),x=()=>{let N;return m?N=b:S?N=k:h.route.Component?N=ce.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,ce.createElement(k6,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?ce.createElement(_6,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var R3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(R3||{}),Cp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cp||{});function A6(t){let e=ce.useContext(lm);return e||un(!1),e}function C6(t){let e=ce.useContext(T3);return e||un(!1),e}function L6(t){let e=ce.useContext(uo);return e||un(!1),e}function M3(t){let e=L6(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function P6(){var t;let e=ce.useContext(O3),n=C6(Cp.UseRouteError),r=M3(Cp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function E6(){let{router:t}=A6(R3.UseNavigateStable),e=M3(Cp.UseNavigateStable),n=ce.useRef(!1);return I3(()=>{n.current=!0}),ce.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$d({fromRouteId:e},s)))},[t,e])}function D6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lp(t){let{to:e,replace:n,state:r,relative:i}=t;nu()||un(!1);let{future:s,static:a}=ce.useContext(na),{matches:o}=ce.useContext(uo),{pathname:l}=il(),u=um(),f=Wv(e,Hv(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return ce.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function ti(t){un(!1)}function F6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ha.Pop,navigator:s,static:a=!1,future:o}=t;nu()&&un(!1);let l=e.replace(/^\/*/,"/"),u=ce.useMemo(()=>({basename:l,navigator:s,static:a,future:$d({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=tu(r));let{pathname:f="/",search:h="",hash:g="",state:m=null,key:S="default"}=r,b=ce.useMemo(()=>{let k=Kc(f,l);return k==null?null:{location:{pathname:k,search:h,hash:g,state:m,key:S},navigationType:i}},[l,f,h,g,m,S,i]);return b==null?null:ce.createElement(na.Provider,{value:u},ce.createElement(cm.Provider,{children:n,value:b}))}function T6(t){let{children:e,location:n}=t;return x6(u1(e),n)}new Promise(()=>{});function u1(t,e){e===void 0&&(e=[]);let n=[];return ce.Children.forEach(t,(r,i)=>{if(!ce.isValidElement(r))return;let s=[...e,i];if(r.type===ce.Fragment){n.push.apply(n,u1(r.props.children,s));return}r.type!==ti&&un(!1),!r.props.index||!r.props.children||un(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=u1(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function B3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function O6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I6(t,e){return t.button===0&&(!e||e==="_self")&&!O6(t)}const R6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],B6="6";try{window.__reactRouterVersion=B6}catch{}const z6=ce.createContext({isTransitioning:!1}),U6="startTransition",j5=IN[U6];function q6(t){let{basename:e,children:n,future:r,window:i}=t,s=ce.useRef();s.current==null&&(s.current=Wj({window:i,v5Compat:!0}));let a=s.current,[o,l]=ce.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=ce.useCallback(h=>{u&&j5?j5(()=>l(h)):l(h)},[l,u]);return ce.useLayoutEffect(()=>a.listen(f),[a,f]),ce.useEffect(()=>D6(r),[r]),ce.createElement(F6,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const $6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yc=ce.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:h}=e,g=B3(e,R6),{basename:m}=ce.useContext(na),S,b=!1;if(typeof u=="string"&&V6.test(u)&&(S=u,$6))try{let N=new URL(window.location.href),E=u.startsWith("//")?new URL(N.protocol+u):new URL(u),L=Kc(E.pathname,m);E.origin===N.origin&&L!=null?u=L+E.search+E.hash:b=!0}catch{}let k=y6(u,{relative:i}),y=W6(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:h});function x(N){r&&r(N),N.defaultPrevented||y(N)}return ce.createElement("a",Pp({},g,{href:S||k,onClick:b||s?r:x,ref:n,target:l}))}),os=ce.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:f}=e,h=B3(e,M6),g=dm(l,{relative:h.relative}),m=il(),S=ce.useContext(T3),{navigator:b,basename:k}=ce.useContext(na),y=S!=null&&K6(g)&&u===!0,x=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,N=m.pathname,E=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(N=N.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&k&&(E=Kc(E,k)||E);const L=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let K=N===x||!a&&N.startsWith(x)&&N.charAt(L)==="/",V=E!=null&&(E===x||!a&&E.startsWith(x)&&E.charAt(x.length)==="/"),j={isActive:K,isPending:V,isTransitioning:y},$=K?r:void 0,J;typeof s=="function"?J=s(j):J=[s,K?"active":null,V?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(j):o;return ce.createElement(yc,Pp({},h,{"aria-current":$,className:J,ref:n,style:C,to:l,viewTransition:u}),typeof f=="function"?f(j):f)});var d1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(d1||(d1={}));var A5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A5||(A5={}));function H6(t){let e=ce.useContext(lm);return e||un(!1),e}function W6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=um(),u=il(),f=dm(t,{relative:a});return ce.useCallback(h=>{if(I6(h,n)){h.preventDefault();let g=r!==void 0?r:jp(u)===jp(f);l(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,f,r,i,n,t,s,a,o])}function K6(t,e){e===void 0&&(e={});let n=ce.useContext(z6);n==null&&un(!1);let{basename:r}=H6(d1.useViewTransitionState),i=dm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Kc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Kc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ap(i.pathname,a)!=null||Ap(i.pathname,s)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),lt=(t,e)=>{const n=ce.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},f)=>ce.createElement("svg",{ref:f,...G6,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Y6(t)}`,o].join(" "),...u},[...e.map(([h,g])=>ce.createElement(h,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=lt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=lt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=lt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=lt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=lt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=lt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=lt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=lt("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=lt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=lt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=lt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=lt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=lt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=lt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=lt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=lt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=lt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=lt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=lt("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=lt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=lt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=lt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=lt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bA="modulepreload",SA=function(t){return"/"+t},L5={},Xs=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=SA(l),l in L5)return;L5[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":bA,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((g,m)=>{h.addEventListener("load",g),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},NA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xs(async()=>{const{default:r}=await Promise.resolve().then(()=>iu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Jv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _A extends Jv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kA extends Jv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jA extends Jv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var h1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(h1||(h1={}));var AA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class CA{constructor(e,{headers:n={},customFetch:r,region:i=h1.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=NA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return AA(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:u}).catch(S=>{throw new _A(S)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new kA(f);if(!f.ok)throw new jA(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield f.json():g==="application/octet-stream"?m=yield f.blob():g==="text/event-stream"?m=f:g==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var Vr={},Xv={},fm={},ah={},pm={},mm={},LA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qc=LA();const PA=Qc.fetch,G3=Qc.fetch.bind(Qc),Y3=Qc.Headers,EA=Qc.Request,DA=Qc.Response,iu=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y3,Request:EA,Response:DA,default:G3,fetch:PA},Symbol.toStringTag,{value:"Module"})),FA=xN(iu);var gm={};Object.defineProperty(gm,"__esModule",{value:!0});let TA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};gm.default=TA;var Q3=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mm,"__esModule",{value:!0});const OA=Q3(FA),IA=Q3(gm);let RA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=OA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let u=null,f=null,h=null,g=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");b&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,g=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await s.text();try{u=JSON.parse(b),Array.isArray(u)&&s.status===404&&(f=[],u=null,g=200,m="OK")}catch{s.status===404&&b===""?(g=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&this.shouldThrowOnError)throw new IA.default(u)}return{error:u,data:f,count:h,status:g,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};mm.default=RA;var MA=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pm,"__esModule",{value:!0});const BA=MA(mm);let zA=class extends BA.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pm.default=zA;var UA=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ah,"__esModule",{value:!0});const qA=UA(pm);let $A=class extends qA.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ah.default=$A;var VA=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fm,"__esModule",{value:!0});const Wu=VA(ah);let HA=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Wu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Wu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Wu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Wu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fm.default=HA;var vm={},ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.version=void 0;ym.version="0.0.0-automated";Object.defineProperty(vm,"__esModule",{value:!0});vm.DEFAULT_HEADERS=void 0;const WA=ym;vm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${WA.version}`};var J3=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xv,"__esModule",{value:!0});const KA=J3(fm),GA=J3(ah),YA=vm;let QA=class X3{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},YA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new KA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new X3(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{o.searchParams.append(f,h)})):(a="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new GA.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Xv.default=QA;var su=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.PostgrestError=Vr.PostgrestBuilder=Vr.PostgrestTransformBuilder=Vr.PostgrestFilterBuilder=Vr.PostgrestQueryBuilder=Vr.PostgrestClient=void 0;const Z3=su(Xv);Vr.PostgrestClient=Z3.default;const e4=su(fm);Vr.PostgrestQueryBuilder=e4.default;const t4=su(ah);Vr.PostgrestFilterBuilder=t4.default;const n4=su(pm);Vr.PostgrestTransformBuilder=n4.default;const r4=su(mm);Vr.PostgrestBuilder=r4.default;const i4=su(gm);Vr.PostgrestError=i4.default;var JA=Vr.default={PostgrestClient:Z3.default,PostgrestQueryBuilder:e4.default,PostgrestFilterBuilder:t4.default,PostgrestTransformBuilder:n4.default,PostgrestBuilder:r4.default,PostgrestError:i4.default};const{PostgrestClient:XA,PostgrestQueryBuilder:dF,PostgrestFilterBuilder:hF,PostgrestTransformBuilder:fF,PostgrestBuilder:pF,PostgrestError:mF}=JA,ZA="2.11.2",eC={"X-Client-Info":`realtime-js/${ZA}`},tC="1.0.0",s4=1e4,nC=1e3;var wc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wc||(wc={}));var ni;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ni||(ni={}));var Vi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Vi||(Vi={}));var f1;(function(t){t.websocket="websocket"})(f1||(f1={}));var Po;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Po||(Po={}));class rC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class a4{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Yt||(Yt={}));const P5=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=iC(a,t,e,i),s),{})},iC=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?o4(s,a):p1(a)},o4=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return lC(e,n)}switch(t){case Yt.bool:return sC(e);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return aC(e);case Yt.json:case Yt.jsonb:return oC(e);case Yt.timestamp:return cC(e);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return p1(e);default:return p1(e)}},p1=t=>t,sC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>o4(e,o))}return t},cC=t=>typeof t=="string"?t.replace(" ","T"):t,l4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $g{constructor(e,n,r={},i=s4){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var E5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(E5||(E5={}));class gd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gd.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=gd.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gd.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(u,f)=>{a[u]||(l[u]=f)}),this.map(a,(u,f)=>{const h=s[u];if(h){const g=f.map(k=>k.presence_ref),m=h.map(k=>k.presence_ref),S=f.filter(k=>m.indexOf(k.presence_ref)<0),b=h.filter(k=>g.indexOf(k.presence_ref)<0);S.length>0&&(o[u]=S),b.length>0&&(l[u]=b)}else o[u]=f}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const f=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),f.length>0){const h=e[o].map(m=>m.presence_ref),g=f.filter(m=>h.indexOf(m.presence_ref)<0);e[o].unshift(...g)}r(o,f,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(D5||(D5={}));var F5;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(F5||(F5={}));var Bs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bs||(Bs={}));class Zv{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ni.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $g(this,Vi.join,this.params,this.timeout),this.rejoinTimer=new a4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ni.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ni.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ni.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ni.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new gd(this),this.broadcastEndpointURL=l4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(f=>e==null?void 0:e(Bs.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Bs.CLOSED));const l={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){e==null||e(Bs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,S=[];for(let b=0;b<m;b++){const k=g[b],{filter:{event:y,schema:x,table:N,filter:E}}=k,L=f&&f[b];if(L&&L.event===y&&L.schema===x&&L.table===N&&L.filter===E)S.push(Object.assign(Object.assign({},k),{id:L.id}));else{this.unsubscribe(),e==null||e(Bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Bs.SUBSCRIBED);return}}).receive("error",f=>{e==null||e(Bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ni.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new $g(this,Vi.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $g(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:f}=Vi;if(r&&[o,l,u,f].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var S,b,k;return((S=m.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(b=m.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(m=>m.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var S,b,k,y,x,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,L=(S=m.filter)===null||S===void 0?void 0:S.event;return E&&((b=n.ids)===null||b===void 0?void 0:b.includes(E))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:b,table:k,commit_timestamp:y,type:x,errors:N}=S;g=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:y,eventType:x,new:{},old:{},errors:N}),this._getPayloadRecords(S))}m.callback(g,r)})}_isClosed(){return this.state===ni.closed}_isJoined(){return this.state===ni.joined}_isJoining(){return this.state===ni.joining}_isLeaving(){return this.state===ni.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Zv.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vi.close,{},e)}_onError(e){this._on(Vi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ni.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=P5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=P5(e.columns,e.old_record)),n}}const uC=()=>{},dC=typeof WebSocket<"u",hC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fC{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=eC,this.params={},this.timeout=s4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=uC,this.conn=null,this.sendBuffer=[],this.serializer=new rC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Xs(async()=>{const{default:l}=await Promise.resolve().then(()=>iu);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${f1.websocket}`,this.httpEndpoint=l4(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new a4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new pC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Xs(async()=>{const{default:e}=await import("./browser-D-DMvTSD.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tC}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wc.connecting:return Po.Connecting;case wc.open:return Po.Open;case wc.closing:return Po.Closing;default:return Po.Closed}}isConnected(){return this.connectionState()===Po.Open}channel(e,n={config:{}}){const r=new Zv(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Vi.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(nC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([hC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class pC{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ey extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Hn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mC extends ey{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class m1 extends ey{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var gC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const c4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xs(async()=>{const{default:r}=await Promise.resolve().then(()=>iu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vC=()=>gC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xs(()=>Promise.resolve().then(()=>iu),void 0)).Response:Response}),g1=t=>{if(Array.isArray(t))return t.map(n=>g1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=g1(r)}),e};var ol=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const Vg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yC=(t,e,n)=>ol(void 0,void 0,void 0,function*(){const r=yield vC();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new mC(Vg(i),t.status||500))}).catch(i=>{e(new m1(Vg(i),i))}):e(new m1(Vg(t),t))}),wC=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function oh(t,e,n,r,i,s){return ol(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,wC(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>yC(l,o,r))})})}function Dp(t,e,n,r){return ol(this,void 0,void 0,function*(){return oh(t,"GET",e,n,r)})}function Ca(t,e,n,r,i){return ol(this,void 0,void 0,function*(){return oh(t,"POST",e,r,i,n)})}function xC(t,e,n,r,i){return ol(this,void 0,void 0,function*(){return oh(t,"PUT",e,r,i,n)})}function bC(t,e,n,r){return ol(this,void 0,void 0,function*(){return oh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function u4(t,e,n,r,i){return ol(this,void 0,void 0,function*(){return oh(t,"DELETE",e,r,i,n)})}var Br=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const SC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NC{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=c4(i)}uploadOrUpdate(e,n,r,i){return Br(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},T5),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),g=yield h.json();return h.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Br(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:T5.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:f}),g=yield h.json();return h.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Hn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Br(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ca(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new ey("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Br(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Br(this,void 0,void 0,function*(){try{return{data:{path:(yield Ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Br(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ca(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Br(this,void 0,void 0,function*(){try{const i=yield Ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}download(e,n){return Br(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Dp(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Hn(o))return{data:null,error:o};throw o}})}info(e){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Dp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:g1(r),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}exists(e){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Hn(r)&&r instanceof m1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Br(this,void 0,void 0,function*(){try{return{data:yield u4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Br(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},SC),n),{prefix:e||""});return{data:yield Ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _C="2.7.1",kC={"X-Client-Info":`storage-js/${_C}`};var $l=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class jC{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},kC),n),this.fetch=c4(r)}listBuckets(){return $l(this,void 0,void 0,function*(){try{return{data:yield Dp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Hn(e))return{data:null,error:e};throw e}})}getBucket(e){return $l(this,void 0,void 0,function*(){try{return{data:yield Dp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return $l(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return $l(this,void 0,void 0,function*(){try{return{data:yield xC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return $l(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $l(this,void 0,void 0,function*(){try{return{data:yield u4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}}class AC extends jC{constructor(e,n={},r){super(e,n,r)}from(e){return new NC(this.url,this.headers,e,this.fetch)}}const CC="2.49.4";let id="";typeof Deno<"u"?id="deno":typeof document<"u"?id="web":typeof navigator<"u"&&navigator.product==="ReactNative"?id="react-native":id="node";const LC={"X-Client-Info":`supabase-js-${id}/${CC}`},PC={headers:LC},EC={schema:"public"},DC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FC={};var TC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const OC=t=>{let e;return t?e=t:typeof fetch>"u"?e=G3:e=fetch,(...n)=>e(...n)},IC=()=>typeof Headers>"u"?Y3:Headers,RC=(t,e,n)=>{const r=OC(n),i=IC();return(s,a)=>TC(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var MC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function BC(t){return t.replace(/\/$/,"")}function zC(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:a,auth:o,realtime:l,global:u}=e,f={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>MC(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const d4="2.69.1",Ql=30*1e3,v1=3,Hg=v1*Ql,UC="http://localhost:9999",qC="supabase.auth.token",$C={"X-Client-Info":`gotrue-js/${d4}`},y1="X-Supabase-Api-Version",h4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HC=6e5;class ty extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function wt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class WC extends ty{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function KC(t){return wt(t)&&t.name==="AuthApiError"}class f4 extends ty{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ho extends ty{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Na extends ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GC(t){return wt(t)&&t.name==="AuthSessionMissingError"}class Wg extends ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bf extends ho{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sf extends ho{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YC(t){return wt(t)&&t.name==="AuthImplicitGrantRedirectError"}class O5 extends ho{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class w1 extends ho{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Kg(t){return wt(t)&&t.name==="AuthRetryableFetchError"}class I5 extends ho{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vd extends ho{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const R5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M5=` 	
\r=`.split(""),QC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<M5.length;e+=1)t[M5[e].charCodeAt(0)]=-2;for(let e=0;e<R5.length;e+=1)t[R5[e].charCodeAt(0)]=e;return t})();function p4(t,e,n){const r=QC[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function B5(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{ZC(a,r,n)};for(let a=0;a<t.length;a+=1)p4(t.charCodeAt(a),i,s);return e.join("")}function JC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XC(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}JC(r,e)}}function ZC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function eL(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)p4(t.charCodeAt(i),n,r);return new Uint8Array(e)}function tL(t){const e=[];return XC(t,n=>e.push(n)),new Uint8Array(e)}function nL(t){return Math.round(Date.now()/1e3)+t}function rL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const cs=()=>typeof window<"u"&&typeof document<"u",_o={tested:!1,writable:!1},yd=()=>{if(!cs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_o.tested)return _o.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_o.tested=!0,_o.writable=!0}catch{_o.tested=!0,_o.writable=!1}return _o.writable};function iL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const m4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xs(async()=>{const{default:r}=await Promise.resolve().then(()=>iu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},sL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",g4=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Nf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_f=async(t,e)=>{await t.removeItem(e)};class wm{constructor(){this.promise=new wm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}wm.promiseConstructor=Promise;function Gg(t){const e=t.split(".");if(e.length!==3)throw new vd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!VC.test(e[r]))throw new vd("JWT not in base64url format");return{header:JSON.parse(B5(e[0])),payload:JSON.parse(B5(e[1])),signature:eL(e[2]),raw:{header:e[0],payload:e[1]}}}async function aL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oL(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function lL(t){return("0"+t.toString(16)).substr(-2)}function cL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,lL).join("")}async function uL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function dL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vl(t,e,n=!1){const r=cL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await g4(t,`${e}-code-verifier`,i);const s=await dL(r);return[s,r===s?"plain":"s256"]}const hL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fL(t){const e=t.headers.get(y1);if(!e||!e.match(hL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ao=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vL=[502,503,504];async function z5(t){var e;if(!sL(t))throw new w1(Ao(t),0);if(vL.includes(t.status))throw new w1(Ao(t),t.status);let n;try{n=await t.json()}catch(s){throw new f4(Ao(s),s)}let r;const i=fL(t);if(i&&i.getTime()>=h4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new I5(Ao(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Na}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new I5(Ao(n),t.status,n.weak_password.reasons);throw new WC(Ao(n),t.status||500,r)}const yL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function kt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[y1]||(s[y1]=h4["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await wL(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function wL(t,e,n,r,i,s){const a=yL(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new w1(Ao(l),0)}if(o.ok||await z5(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await z5(l)}}function _a(t){var e;let n=null;NL(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function U5(t){const e=_a(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ea(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xL(t){return{data:t,error:null}}function bL(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=gL(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function SL(t){return t}function NL(t){return t.access_token&&t.refresh_token&&t.expires_in}var _L=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class kL{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=m4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await kt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ea})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=_L(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(wt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ea})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},f=await kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:SL});if(f.error)throw f.error;const h=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);u[`${k}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(wt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ea})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ea})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ea})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}}const jL={getItem:t=>yd()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{yd()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{yd()&&globalThis.localStorage.removeItem(t)}};function q5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function AL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hl={debug:!!(globalThis&&yd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CL extends v4{}async function LL(t,e,n){Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new CL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}AL();const PL={url:UC,storageKey:qC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$C,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $5(t,e,n){return await n()}class Hd{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hd.nextInstanceID,Hd.nextInstanceID+=1,this.instanceID>0&&cs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},PL),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=m4(i.fetch),this.lock=i.lock||$5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:cs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LL:this.lock=$5,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yd()?this.storage=jL:(this.memoryStorage={},this.storage=q5(this.memoryStorage)):(this.memoryStorage={},this.storage=q5(this.memoryStorage)),cs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${d4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=iL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),YC(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return wt(n)?{error:n}:{error:new f4("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:_a}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(wt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:f,password:h,options:g}=e;let m=null,S=null;this.flowType==="pkce"&&([m,S]=await Vl(this.storage,this.storageKey)),s=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:S},xform:_a})}else if("phone"in e){const{phone:f,password:h,options:g}=e;s=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_a})}else throw new bf("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(wt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:U5})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:U5})}else throw new bf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(wt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Nf(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_a});if(await _f(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Wg}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(wt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_a}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Wg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(wt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Vl(this.storage,this.storageKey));const{error:h}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:f}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new bf("You must provide either an email or phone number.")}catch(o){if(wt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:_a});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(wt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Vl(this.storage,this.storageKey)),await kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:xL})}catch(s){if(wt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Na;const{error:i}=await kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(wt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await kt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await kt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new bf("You must provide either an email or phone number and a type")}catch(n){if(wt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Nf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Hg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ea}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Na}:await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ea})})}catch(n){if(wt(n))return GC(n)&&(await this._removeSession(),await _f(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Na;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Vl(this.storage,this.storageKey));const{data:u,error:f}=await kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ea});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Na;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Gg(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(wt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Na;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(wt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!cs())throw new Sf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new O5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new O5("No code detected.");const{data:x,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new Sf("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(o);let g=f+h;l&&(g=parseInt(l));const m=g-f;m*1e3<=Ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const S=g-h;f-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,f):f-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,f);const{data:b,error:k}=await this._getUser(s);if(k)throw k;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(wt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Nf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(KC(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await _f(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Vl(this.storage,this.storageKey,!0));try{return await kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(wt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,u,f;const{data:h,error:g}=s;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await kt(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return cs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(wt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oL(async i=>(i>0&&await aL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_a})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Kg(s)&&Date.now()+a-r<Ql})}catch(r){if(this._debug(n,"error",r),wt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),cs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Nf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Hg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Hg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Kg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new wm;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Na;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),wt(s)){const a={session:null,error:s};return Kg(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await g4(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await _f(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&cs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ql);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ql}ms, refresh threshold is ${v1} ticks`),i<=v1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof v4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Vl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await kt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(wt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(wt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Gg(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+HC>Date.now()))return r;const{data:i,error:s}=await kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new vd("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(a=>a.kid===e),!r)throw new vd("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:m,error:S}=await this.getSession();if(S||!m.session)return{data:null,error:S};r=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Gg(r);if(pL(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const u=mL(i.alg),f=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,tL(`${o}.${l}`)))throw new vd("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}}Hd.nextInstanceID=0;const EL=Hd;class DL extends EL{constructor(e){super(e)}}var FL=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function l(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class TL{constructor(e,n,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=BC(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:EC,realtime:FC,auth:Object.assign(Object.assign({},DC),{storageKey:l}),global:PC},f=zC(r??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=RC(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new XA(`${o}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new CA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AC(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return FL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DL({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OL=(t,e,n)=>new TL(t,e,n);console.log("Supabase URL available:",!0);console.log("Supabase ANON KEY available:",!0);const IL="https://jwlqoprvuelksyqiqnki.supabase.co",RL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3bHFvcHJ2dWVsa3N5cWlxbmtpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY3OTMyMjQsImV4cCI6MjA2MjM2OTIyNH0.NYyznDRewf0pDJJt1zOkOHmtXZhSdnjtMSD65e6rxlQ",Je=OL(IL,RL,{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"carlaville-auth-token",storage:{getItem:t=>{const e=localStorage.getItem(t);return console.log(`Retrieved auth key ${t}: ${!!e}`),e},setItem:(t,e)=>{console.log(`Setting auth key ${t}`),localStorage.setItem(t,e)},removeItem:t=>{console.log(`Removing auth key ${t}`),localStorage.removeItem(t)}},detectSessionInUrl:!0},global:{fetch:(...t)=>(console.log(`Supabase API request: ${t[0]}`),fetch(...t))}}),wd=async()=>{try{const{data:t,error:e}=await Je.auth.getSession();return e?(console.error("Error checking session:",e),null):(console.log("Session check result:",!!t.session),t.session)}catch(t){return console.error("Unexpected error in checkSession:",t),null}},Jc=async()=>{let t=0;const e=3;for(;t<e;){if(await wd())return console.log("Authentication verified"),!0;console.log(`No active session found. Retry attempt ${t+1}/${e}`),await new Promise(r=>setTimeout(r,500)),await y4(),t++}return console.error("Failed to authenticate after retries"),!1},Zo=async()=>{var t;try{const{data:e,error:n}=await Je.auth.getUser();return n?(console.error("Error getting user:",n),null):(console.log("Current user:",(t=e.user)==null?void 0:t.id),e.user)}catch(e){return console.error("Unexpected error in getCurrentUser:",e),null}},y4=async()=>{try{const{data:t,error:e}=await Je.auth.refreshSession();return e?(console.error("Error refreshing session:",e),null):(console.log("Session refreshed:",!!t.session),t.session)}catch(t){return console.error("Unexpected error in refreshSession:",t),null}},ML=async()=>{try{console.log("Testing Supabase connection...");const t=await Je.auth.getSession();console.log("Auth status:",!!t.data.session);const{data:e,error:n}=await Je.from("clients").select("count(*)",{count:"exact",head:!0});return n?(console.error("Database connection error:",n),!1):(console.log("Database connection successful. Count result:",e),!0)}catch(t){return console.error("Failed to test connection:",t),!1}};ML().then(t=>{console.log("Connection test result:",t)});var au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},el=typeof window>"u"||"Deno"in globalThis;function Ar(){}function BL(t,e){return typeof t=="function"?t(e):t}function x1(t){return typeof t=="number"&&t>=0&&t!==1/0}function w4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xc(t,e){return typeof t=="function"?t(e):t}function Wi(t,e){return typeof t=="function"?t(e):t}function V5(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==ny(a,e.options))return!1}else if(!Wd(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function H5(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(tl(e.options.mutationKey)!==tl(s))return!1}else if(!Wd(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ny(t,e){return((e==null?void 0:e.queryKeyHashFn)||tl)(t)}function tl(t){return JSON.stringify(t,(e,n)=>b1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Wd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wd(t[n],e[n])):!1}function x4(t,e){if(t===e)return t;const n=W5(t)&&W5(e);if(n||b1(t)&&b1(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{};let l=0;for(let u=0;u<a;u++){const f=n?u:s[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,l++):(o[f]=x4(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&l++)}return i===a&&l===i?t:o}return e}function Fp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function W5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function b1(t){if(!K5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!K5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function K5(t){return Object.prototype.toString.call(t)==="[object Object]"}function zL(t){return new Promise(e=>{setTimeout(e,t)})}function S1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?x4(t,e):e}function UL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function qL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ry=Symbol();function b4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ry?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function S4(t,e){return typeof t=="function"?t(...e):!!t}var Io,Fa,jc,Jw,$L=(Jw=class extends au{constructor(){super();at(this,Io);at(this,Fa);at(this,jc);Qe(this,jc,e=>{if(!el&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,Fa)||this.setEventListener(ie(this,jc))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Fa))==null||e.call(this),Qe(this,Fa,void 0))}setEventListener(e){var n;Qe(this,jc,e),(n=ie(this,Fa))==null||n.call(this),Qe(this,Fa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ie(this,Io)!==e&&(Qe(this,Io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ie(this,Io)=="boolean"?ie(this,Io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Io=new WeakMap,Fa=new WeakMap,jc=new WeakMap,Jw),iy=new $L,Ac,Ta,Cc,Xw,VL=(Xw=class extends au{constructor(){super();at(this,Ac,!0);at(this,Ta);at(this,Cc);Qe(this,Cc,e=>{if(!el&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,Ta)||this.setEventListener(ie(this,Cc))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Ta))==null||e.call(this),Qe(this,Ta,void 0))}setEventListener(e){var n;Qe(this,Cc,e),(n=ie(this,Ta))==null||n.call(this),Qe(this,Ta,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Ac)!==e&&(Qe(this,Ac,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ie(this,Ac)}},Ac=new WeakMap,Ta=new WeakMap,Cc=new WeakMap,Xw),Tp=new VL;function N1(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function HL(t){return Math.min(1e3*2**t,3e4)}function N4(t){return(t??"online")==="online"?Tp.isOnline():!0}var _4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yg(t){return t instanceof _4}function k4(t){let e=!1,n=0,r=!1,i;const s=N1(),a=b=>{var k;r||(g(new _4(b)),(k=t.abort)==null||k.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>iy.isFocused()&&(t.networkMode==="always"||Tp.isOnline())&&t.canRun(),f=()=>N4(t.networkMode)&&t.canRun(),h=b=>{var k;r||(r=!0,(k=t.onSuccess)==null||k.call(t,b),i==null||i(),s.resolve(b))},g=b=>{var k;r||(r=!0,(k=t.onError)==null||k.call(t,b),i==null||i(),s.reject(b))},m=()=>new Promise(b=>{var k;i=y=>{(r||u())&&b(y)},(k=t.onPause)==null||k.call(t)}).then(()=>{var b;i=void 0,r||(b=t.onContinue)==null||b.call(t)}),S=()=>{if(r)return;let b;const k=n===0?t.initialPromise:void 0;try{b=k??t.fn()}catch(y){b=Promise.reject(y)}Promise.resolve(b).then(h).catch(y=>{var K;if(r)return;const x=t.retry??(el?0:3),N=t.retryDelay??HL,E=typeof N=="function"?N(n,y):N,L=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(e||!L){g(y);return}n++,(K=t.onFail)==null||K.call(t,n,y),zL(E).then(()=>u()?void 0:m()).then(()=>{e?g(y):S()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:f,start:()=>(f()?S():m().then(S),s)}}var WL=t=>setTimeout(t,0);function KL(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=WL;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var zn=KL(),Ro,Zw,j4=(Zw=class{constructor(){at(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x1(this.gcTime)&&Qe(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(el?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Ro)&&(clearTimeout(ie(this,Ro)),Qe(this,Ro,void 0))}},Ro=new WeakMap,Zw),Lc,Pc,wi,Mo,fr,Yd,Bo,Ui,Rs,ex,GL=(ex=class extends j4{constructor(e){super();at(this,Ui);at(this,Lc);at(this,Pc);at(this,wi);at(this,Mo);at(this,fr);at(this,Yd);at(this,Bo);Qe(this,Bo,!1),Qe(this,Yd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Qe(this,Mo,e.client),Qe(this,wi,ie(this,Mo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Qe(this,Lc,YL(this.options)),this.state=e.state??ie(this,Lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ie(this,fr))==null?void 0:e.promise}setOptions(e){this.options={...ie(this,Yd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,wi).remove(this)}setData(e,n){const r=S1(this.state.data,e,this.options);return xt(this,Ui,Rs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){xt(this,Ui,Rs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ie(this,fr))==null?void 0:r.promise;return(i=ie(this,fr))==null||i.cancel(e),n?n.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Lc))}isActive(){return this.observers.some(e=>Wi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ry||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!w4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,fr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,fr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ie(this,wi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ie(this,fr)&&(ie(this,Bo)?ie(this,fr).cancel({revert:!0}):ie(this,fr).cancelRetry()),this.scheduleGc()),ie(this,wi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,Ui,Rs).call(this,{type:"invalidate"})}fetch(e,n){var l,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,fr))return ie(this,fr).continueRetry(),ie(this,fr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Qe(this,Bo,!0),r.signal)})},s=()=>{const h=b4(this.options,n),g={client:ie(this,Mo),queryKey:this.queryKey,meta:this.meta};return i(g),Qe(this,Bo,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ie(this,Mo),state:this.state,fetchFn:s};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),Qe(this,Pc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&xt(this,Ui,Rs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const o=h=>{var g,m,S,b;Yg(h)&&h.silent||xt(this,Ui,Rs).call(this,{type:"error",error:h}),Yg(h)||((m=(g=ie(this,wi).config).onError)==null||m.call(g,h,this),(b=(S=ie(this,wi).config).onSettled)==null||b.call(S,this.state.data,h,this)),this.scheduleGc()};return Qe(this,fr,k4({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var g,m,S,b;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(k){o(k);return}(m=(g=ie(this,wi).config).onSuccess)==null||m.call(g,h,this),(b=(S=ie(this,wi).config).onSettled)==null||b.call(S,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,g)=>{xt(this,Ui,Rs).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{xt(this,Ui,Rs).call(this,{type:"pause"})},onContinue:()=>{xt(this,Ui,Rs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ie(this,fr).start()}},Lc=new WeakMap,Pc=new WeakMap,wi=new WeakMap,Mo=new WeakMap,fr=new WeakMap,Yd=new WeakMap,Bo=new WeakMap,Ui=new WeakSet,Rs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...A4(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Yg(i)&&i.revert&&ie(this,Pc)?{...ie(this,Pc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,wi).notify({query:this,type:"updated",action:e})})},ex);function A4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:N4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function YL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fs,tx,QL=(tx=class extends au{constructor(e={}){super();at(this,fs);this.config=e,Qe(this,fs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??ny(i,n);let a=this.get(s);return a||(a=new GL({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){ie(this,fs).has(e.queryHash)||(ie(this,fs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,fs).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,fs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,fs).get(e)}getAll(){return[...ie(this,fs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>V5(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>V5(e,r)):n}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fs=new WeakMap,tx),ps,Nr,zo,ms,ka,nx,JL=(nx=class extends j4{constructor(e){super();at(this,ms);at(this,ps);at(this,Nr);at(this,zo);this.mutationId=e.mutationId,Qe(this,Nr,e.mutationCache),Qe(this,ps,[]),this.state=e.state||C4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,ps).includes(e)||(ie(this,ps).push(e),this.clearGcTimeout(),ie(this,Nr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Qe(this,ps,ie(this,ps).filter(n=>n!==e)),this.scheduleGc(),ie(this,Nr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,ps).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Nr).remove(this))}continue(){var e;return((e=ie(this,zo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,u,f,h,g,m,S,b,k,y,x,N,E,L,K,V,j;const n=()=>{xt(this,ms,ka).call(this,{type:"continue"})};Qe(this,zo,k4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:($,J)=>{xt(this,ms,ka).call(this,{type:"failed",failureCount:$,error:J})},onPause:()=>{xt(this,ms,ka).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Nr).canRun(this)}));const r=this.state.status==="pending",i=!ie(this,zo).canStart();try{if(r)n();else{xt(this,ms,ka).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=ie(this,Nr).config).onMutate)==null?void 0:a.call(s,e,this));const J=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));J!==this.state.context&&xt(this,ms,ka).call(this,{type:"pending",context:J,variables:e,isPaused:i})}const $=await ie(this,zo).start();return await((f=(u=ie(this,Nr).config).onSuccess)==null?void 0:f.call(u,$,e,this.state.context,this)),await((g=(h=this.options).onSuccess)==null?void 0:g.call(h,$,e,this.state.context)),await((S=(m=ie(this,Nr).config).onSettled)==null?void 0:S.call(m,$,null,this.state.variables,this.state.context,this)),await((k=(b=this.options).onSettled)==null?void 0:k.call(b,$,null,e,this.state.context)),xt(this,ms,ka).call(this,{type:"success",data:$}),$}catch($){try{throw await((x=(y=ie(this,Nr).config).onError)==null?void 0:x.call(y,$,e,this.state.context,this)),await((E=(N=this.options).onError)==null?void 0:E.call(N,$,e,this.state.context)),await((K=(L=ie(this,Nr).config).onSettled)==null?void 0:K.call(L,void 0,$,this.state.variables,this.state.context,this)),await((j=(V=this.options).onSettled)==null?void 0:j.call(V,void 0,$,e,this.state.context)),$}finally{xt(this,ms,ka).call(this,{type:"error",error:$})}}finally{ie(this,Nr).runNext(this)}}},ps=new WeakMap,Nr=new WeakMap,zo=new WeakMap,ms=new WeakSet,ka=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zn.batch(()=>{ie(this,ps).forEach(r=>{r.onMutationUpdate(e)}),ie(this,Nr).notify({mutation:this,type:"updated",action:e})})},nx);function C4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Us,qi,Qd,rx,XL=(rx=class extends au{constructor(e={}){super();at(this,Us);at(this,qi);at(this,Qd);this.config=e,Qe(this,Us,new Set),Qe(this,qi,new Map),Qe(this,Qd,0)}build(e,n,r){const i=new JL({mutationCache:this,mutationId:++tf(this,Qd)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ie(this,Us).add(e);const n=kf(e);if(typeof n=="string"){const r=ie(this,qi).get(n);r?r.push(e):ie(this,qi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,Us).delete(e)){const n=kf(e);if(typeof n=="string"){const r=ie(this,qi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ie(this,qi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=kf(e);if(typeof n=="string"){const r=ie(this,qi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=kf(e);if(typeof n=="string"){const i=(r=ie(this,qi).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{ie(this,Us).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,Us).clear(),ie(this,qi).clear()})}getAll(){return Array.from(ie(this,Us))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>H5(n,r))}findAll(e={}){return this.getAll().filter(n=>H5(e,n))}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ar))))}},Us=new WeakMap,qi=new WeakMap,Qd=new WeakMap,rx);function kf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function G5(t){return{onFetch:(e,n)=>{var f,h,g,m,S;const r=e.options,i=(g=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((S=e.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let b=!1;const k=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},y=b4(e.options,e.fetchOptions),x=async(N,E,L)=>{if(b)return Promise.reject();if(E==null&&N.pages.length)return Promise.resolve(N);const K={client:e.client,queryKey:e.queryKey,pageParam:E,direction:L?"backward":"forward",meta:e.options.meta};k(K);const V=await y(K),{maxPages:j}=e.options,$=L?qL:UL;return{pages:$(N.pages,V,j),pageParams:$(N.pageParams,E,j)}};if(i&&s.length){const N=i==="backward",E=N?ZL:Y5,L={pages:s,pageParams:a},K=E(r,L);o=await x(L,K,N)}else{const N=t??s.length;do{const E=l===0?a[0]??r.initialPageParam:Y5(r,o);if(l>0&&E==null)break;o=await x(o,E),l++}while(l<N)}return o};e.options.persister?e.fetchFn=()=>{var b,k;return(k=(b=e.options).persister)==null?void 0:k.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Y5(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var gn,Oa,Ia,Ec,Dc,Ra,Fc,Tc,ix,e8=(ix=class{constructor(t={}){at(this,gn);at(this,Oa);at(this,Ia);at(this,Ec);at(this,Dc);at(this,Ra);at(this,Fc);at(this,Tc);Qe(this,gn,t.queryCache||new QL),Qe(this,Oa,t.mutationCache||new XL),Qe(this,Ia,t.defaultOptions||{}),Qe(this,Ec,new Map),Qe(this,Dc,new Map),Qe(this,Ra,0)}mount(){tf(this,Ra)._++,ie(this,Ra)===1&&(Qe(this,Fc,iy.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,gn).onFocus())})),Qe(this,Tc,Tp.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,gn).onOnline())})))}unmount(){var t,e;tf(this,Ra)._--,ie(this,Ra)===0&&((t=ie(this,Fc))==null||t.call(this),Qe(this,Fc,void 0),(e=ie(this,Tc))==null||e.call(this),Qe(this,Tc,void 0))}isFetching(t){return ie(this,gn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Oa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,gn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ie(this,gn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(xc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ie(this,gn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ie(this,gn).get(r.queryHash),s=i==null?void 0:i.state.data,a=BL(e,s);if(a!==void 0)return ie(this,gn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>ie(this,gn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,gn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ie(this,gn);zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,gn);return zn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zn.batch(()=>ie(this,gn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(t,e={}){return zn.batch(()=>(ie(this,gn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zn.batch(()=>ie(this,gn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ar)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ar)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ie(this,gn).build(this,e);return n.isStaleByTime(xc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ar).catch(Ar)}fetchInfiniteQuery(t){return t.behavior=G5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ar).catch(Ar)}ensureInfiniteQueryData(t){return t.behavior=G5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Tp.isOnline()?ie(this,Oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,gn)}getMutationCache(){return ie(this,Oa)}getDefaultOptions(){return ie(this,Ia)}setDefaultOptions(t){Qe(this,Ia,t)}setQueryDefaults(t,e){ie(this,Ec).set(tl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,Ec).values()],n={};return e.forEach(r=>{Wd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ie(this,Dc).set(tl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Dc).values()],n={};return e.forEach(r=>{Wd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,Ia).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ny(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ry&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,Ia).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,gn).clear(),ie(this,Oa).clear()}},gn=new WeakMap,Oa=new WeakMap,Ia=new WeakMap,Ec=new WeakMap,Dc=new WeakMap,Ra=new WeakMap,Fc=new WeakMap,Tc=new WeakMap,ix),zr,jt,Jd,_r,Uo,Oc,Ma,Ba,Xd,Ic,Rc,qo,$o,za,Mc,Ot,sd,_1,k1,j1,A1,C1,L1,P1,L4,sx,t8=(sx=class extends au{constructor(e,n){super();at(this,Ot);at(this,zr);at(this,jt);at(this,Jd);at(this,_r);at(this,Uo);at(this,Oc);at(this,Ma);at(this,Ba);at(this,Xd);at(this,Ic);at(this,Rc);at(this,qo);at(this,$o);at(this,za);at(this,Mc,new Set);this.options=n,Qe(this,zr,e),Qe(this,Ba,null),Qe(this,Ma,N1()),this.options.experimental_prefetchInRender||ie(this,Ma).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,jt).addObserver(this),Q5(ie(this,jt),this.options)?xt(this,Ot,sd).call(this):this.updateResult(),xt(this,Ot,A1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return E1(ie(this,jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return E1(ie(this,jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xt(this,Ot,C1).call(this),xt(this,Ot,L1).call(this),ie(this,jt).removeObserver(this)}setOptions(e){const n=this.options,r=ie(this,jt);if(this.options=ie(this,zr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wi(this.options.enabled,ie(this,jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xt(this,Ot,P1).call(this),ie(this,jt).setOptions(this.options),n._defaulted&&!Fp(this.options,n)&&ie(this,zr).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,jt),observer:this});const i=this.hasListeners();i&&J5(ie(this,jt),r,this.options,n)&&xt(this,Ot,sd).call(this),this.updateResult(),i&&(ie(this,jt)!==r||Wi(this.options.enabled,ie(this,jt))!==Wi(n.enabled,ie(this,jt))||xc(this.options.staleTime,ie(this,jt))!==xc(n.staleTime,ie(this,jt)))&&xt(this,Ot,_1).call(this);const s=xt(this,Ot,k1).call(this);i&&(ie(this,jt)!==r||Wi(this.options.enabled,ie(this,jt))!==Wi(n.enabled,ie(this,jt))||s!==ie(this,za))&&xt(this,Ot,j1).call(this,s)}getOptimisticResult(e){const n=ie(this,zr).getQueryCache().build(ie(this,zr),e),r=this.createResult(n,e);return r8(this,r)&&(Qe(this,_r,r),Qe(this,Oc,this.options),Qe(this,Uo,ie(this,jt).state)),r}getCurrentResult(){return ie(this,_r)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){ie(this,Mc).add(e)}getCurrentQuery(){return ie(this,jt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ie(this,zr).defaultQueryOptions(e),r=ie(this,zr).getQueryCache().build(ie(this,zr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return xt(this,Ot,sd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,_r)))}createResult(e,n){var $;const r=ie(this,jt),i=this.options,s=ie(this,_r),a=ie(this,Uo),o=ie(this,Oc),u=e!==r?e.state:ie(this,Jd),{state:f}=e;let h={...f},g=!1,m;if(n._optimisticResults){const J=this.hasListeners(),C=!J&&Q5(e,n),F=J&&J5(e,r,n,i);(C||F)&&(h={...h,...A4(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:S,errorUpdatedAt:b,status:k}=h;m=h.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&k==="pending"){let J;s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(J=s.data,y=!0):J=typeof n.placeholderData=="function"?n.placeholderData(($=ie(this,Rc))==null?void 0:$.state.data,ie(this,Rc)):n.placeholderData,J!==void 0&&(k="success",m=S1(s==null?void 0:s.data,J,n),g=!0)}if(n.select&&m!==void 0&&!y)if(s&&m===(a==null?void 0:a.data)&&n.select===ie(this,Xd))m=ie(this,Ic);else try{Qe(this,Xd,n.select),m=n.select(m),m=S1(s==null?void 0:s.data,m,n),Qe(this,Ic,m),Qe(this,Ba,null)}catch(J){Qe(this,Ba,J)}ie(this,Ba)&&(S=ie(this,Ba),m=ie(this,Ic),b=Date.now(),k="error");const x=h.fetchStatus==="fetching",N=k==="pending",E=k==="error",L=N&&x,K=m!==void 0,j={status:k,fetchStatus:h.fetchStatus,isPending:N,isSuccess:k==="success",isError:E,isInitialLoading:L,isLoading:L,data:m,dataUpdatedAt:h.dataUpdatedAt,error:S,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!N,isLoadingError:E&&!K,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&K,isStale:sy(e,n),refetch:this.refetch,promise:ie(this,Ma)};if(this.options.experimental_prefetchInRender){const J=G=>{j.status==="error"?G.reject(j.error):j.data!==void 0&&G.resolve(j.data)},C=()=>{const G=Qe(this,Ma,j.promise=N1());J(G)},F=ie(this,Ma);switch(F.status){case"pending":e.queryHash===r.queryHash&&J(F);break;case"fulfilled":(j.status==="error"||j.data!==F.value)&&C();break;case"rejected":(j.status!=="error"||j.error!==F.reason)&&C();break}}return j}updateResult(){const e=ie(this,_r),n=this.createResult(ie(this,jt),this.options);if(Qe(this,Uo,ie(this,jt).state),Qe(this,Oc,this.options),ie(this,Uo).data!==void 0&&Qe(this,Rc,ie(this,jt)),Fp(n,e))return;Qe(this,_r,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ie(this,Mc).size)return!0;const a=new Set(s??ie(this,Mc));return this.options.throwOnError&&a.add("error"),Object.keys(ie(this,_r)).some(o=>{const l=o;return ie(this,_r)[l]!==e[l]&&a.has(l)})};xt(this,Ot,L4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xt(this,Ot,A1).call(this)}},zr=new WeakMap,jt=new WeakMap,Jd=new WeakMap,_r=new WeakMap,Uo=new WeakMap,Oc=new WeakMap,Ma=new WeakMap,Ba=new WeakMap,Xd=new WeakMap,Ic=new WeakMap,Rc=new WeakMap,qo=new WeakMap,$o=new WeakMap,za=new WeakMap,Mc=new WeakMap,Ot=new WeakSet,sd=function(e){xt(this,Ot,P1).call(this);let n=ie(this,jt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ar)),n},_1=function(){xt(this,Ot,C1).call(this);const e=xc(this.options.staleTime,ie(this,jt));if(el||ie(this,_r).isStale||!x1(e))return;const r=w4(ie(this,_r).dataUpdatedAt,e)+1;Qe(this,qo,setTimeout(()=>{ie(this,_r).isStale||this.updateResult()},r))},k1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,jt)):this.options.refetchInterval)??!1},j1=function(e){xt(this,Ot,L1).call(this),Qe(this,za,e),!(el||Wi(this.options.enabled,ie(this,jt))===!1||!x1(ie(this,za))||ie(this,za)===0)&&Qe(this,$o,setInterval(()=>{(this.options.refetchIntervalInBackground||iy.isFocused())&&xt(this,Ot,sd).call(this)},ie(this,za)))},A1=function(){xt(this,Ot,_1).call(this),xt(this,Ot,j1).call(this,xt(this,Ot,k1).call(this))},C1=function(){ie(this,qo)&&(clearTimeout(ie(this,qo)),Qe(this,qo,void 0))},L1=function(){ie(this,$o)&&(clearInterval(ie(this,$o)),Qe(this,$o,void 0))},P1=function(){const e=ie(this,zr).getQueryCache().build(ie(this,zr),this.options);if(e===ie(this,jt))return;const n=ie(this,jt);Qe(this,jt,e),Qe(this,Jd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},L4=function(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ie(this,_r))}),ie(this,zr).getQueryCache().notify({query:ie(this,jt),type:"observerResultsUpdated"})})},sx);function n8(t,e){return Wi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Q5(t,e){return n8(t,e)||t.state.data!==void 0&&E1(t,e,e.refetchOnMount)}function E1(t,e,n){if(Wi(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&sy(t,e)}return!1}function J5(t,e,n,r){return(t!==e||Wi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&sy(t,n)}function sy(t,e){return Wi(e.enabled,t)!==!1&&t.isStaleByTime(xc(e.staleTime,t))}function r8(t,e){return!Fp(t.getCurrentResult(),e)}var Ua,qa,Ur,qs,Ks,Wf,D1,ax,i8=(ax=class extends au{constructor(n,r){super();at(this,Ks);at(this,Ua);at(this,qa);at(this,Ur);at(this,qs);Qe(this,Ua,n),this.setOptions(r),this.bindMethods(),xt(this,Ks,Wf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ie(this,Ua).defaultMutationOptions(n),Fp(this.options,r)||ie(this,Ua).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,Ur),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&tl(r.mutationKey)!==tl(this.options.mutationKey)?this.reset():((i=ie(this,Ur))==null?void 0:i.state.status)==="pending"&&ie(this,Ur).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ie(this,Ur))==null||n.removeObserver(this)}onMutationUpdate(n){xt(this,Ks,Wf).call(this),xt(this,Ks,D1).call(this,n)}getCurrentResult(){return ie(this,qa)}reset(){var n;(n=ie(this,Ur))==null||n.removeObserver(this),Qe(this,Ur,void 0),xt(this,Ks,Wf).call(this),xt(this,Ks,D1).call(this)}mutate(n,r){var i;return Qe(this,qs,r),(i=ie(this,Ur))==null||i.removeObserver(this),Qe(this,Ur,ie(this,Ua).getMutationCache().build(ie(this,Ua),this.options)),ie(this,Ur).addObserver(this),ie(this,Ur).execute(n)}},Ua=new WeakMap,qa=new WeakMap,Ur=new WeakMap,qs=new WeakMap,Ks=new WeakSet,Wf=function(){var r;const n=((r=ie(this,Ur))==null?void 0:r.state)??C4();Qe(this,qa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},D1=function(n){zn.batch(()=>{var r,i,s,a,o,l,u,f;if(ie(this,qs)&&this.hasListeners()){const h=ie(this,qa).variables,g=ie(this,qa).context;(n==null?void 0:n.type)==="success"?((i=(r=ie(this,qs)).onSuccess)==null||i.call(r,n.data,h,g),(a=(s=ie(this,qs)).onSettled)==null||a.call(s,n.data,null,h,g)):(n==null?void 0:n.type)==="error"&&((l=(o=ie(this,qs)).onError)==null||l.call(o,n.error,h,g),(f=(u=ie(this,qs)).onSettled)==null||f.call(u,void 0,n.error,h,g))}this.listeners.forEach(h=>{h(ie(this,qa))})})},ax),P4=ce.createContext(void 0),Ns=t=>{const e=ce.useContext(P4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},s8=({client:t,children:e})=>(ce.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(P4.Provider,{value:t,children:e})),E4=ce.createContext(!1),a8=()=>ce.useContext(E4);E4.Provider;function o8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var l8=ce.createContext(o8()),c8=()=>ce.useContext(l8),u8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},d8=t=>{ce.useEffect(()=>{t.clearReset()},[t])},h8=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||S4(n,[t.error,r])),f8=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},p8=(t,e)=>t.isLoading&&t.isFetching&&!e,m8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,X5=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function g8(t,e,n){var h,g,m,S,b;const r=Ns(),i=a8(),s=c8(),a=r.defaultQueryOptions(t);(g=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||g.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",f8(a),u8(a,s),d8(s);const o=!r.getQueryCache().get(a.queryHash),[l]=ce.useState(()=>new e(r,a)),u=l.getOptimisticResult(a),f=!i&&t.subscribed!==!1;if(ce.useSyncExternalStore(ce.useCallback(k=>{const y=f?l.subscribe(zn.batchCalls(k)):Ar;return l.updateResult(),y},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),ce.useEffect(()=>{l.setOptions(a)},[a,l]),m8(a,u))throw X5(a,l,s);if(h8({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((S=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||S.call(m,a,u),a.experimental_prefetchInRender&&!el&&p8(u,i)){const k=o?X5(a,l,s):(b=r.getQueryCache().get(a.queryHash))==null?void 0:b.promise;k==null||k.catch(Ar).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function On(t,e){return g8(t,t8)}function _i(t,e){const n=Ns(),[r]=ce.useState(()=>new i8(n,t));ce.useEffect(()=>{r.setOptions(t)},[r,t]);const i=ce.useSyncExternalStore(ce.useCallback(a=>r.subscribe(zn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=ce.useCallback((a,o)=>{r.mutate(a,o).catch(Ar)},[r]);if(i.error&&S4(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const D4=ce.createContext(void 0),yr=()=>{const t=ce.useContext(D4);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},v8=({children:t})=>{const[e,n]=ce.useState(!0),[r,i]=ce.useState(!1),[s,a]=ce.useState(!1),o=um(),l=async()=>{var y,x,N;if(!await wd())return null;const k=await Zo();if(!k)return null;try{const{data:E,error:L}=await Je.from("profiles").select("*").eq("id",k.id).single();if(console.log({profile:E}),L&&L.code==="PGRST116"){const{data:K,error:V}=await Je.from("profiles").insert({id:k.id,name:((y=k.email)==null?void 0:y.split("@")[0])||"User",email:k.email,role:"user"}).select().single();return V?(console.error("Error creating user profile:",V),null):{id:k.id,name:K.name||((x=k.email)==null?void 0:x.split("@")[0])||"",email:k.email||"",avatar:K.avatar_url,role:K.role||"user"}}return L?(console.error("Error fetching user profile:",L),null):E?{id:k.id,name:E.name||((N=k.email)==null?void 0:N.split("@")[0])||"",email:E.email||k.email||"",avatar:E.avatar_url,role:E.job_title}:null}catch(E){return console.error("Unexpected error in user fetch:",E),null}},{data:u,refetch:f,isFetching:h}=On({queryKey:["user"],queryFn:l,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1,gcTime:0,refetchOnMount:!0,enabled:r});ce.useEffect(()=>{(async()=>{n(!0);try{if(localStorage.getItem("carlaville-user-cache"))try{a(!0),n(!1)}catch{localStorage.removeItem("carlaville-user-cache")}const y=await wd();console.log("Session check:",!!y),i(!0)}catch(k){console.error("Session check error:",k)}finally{s||n(!1)}})()},[s]),ce.useEffect(()=>{u?localStorage.setItem("carlaville-user-cache",JSON.stringify(u)):r&&!u&&localStorage.removeItem("carlaville-user-cache")},[u,r]),ce.useEffect(()=>{if(!r)return;const{data:{subscription:b}}=Je.auth.onAuthStateChange(async(k,y)=>{console.log("Auth state change:",k,!!y),k==="SIGNED_IN"||k==="TOKEN_REFRESHED"?await f():k==="SIGNED_OUT"&&(localStorage.removeItem("carlaville-user-cache"),await f())});return()=>{b.unsubscribe()}},[r,f]),ce.useEffect(()=>{const b=async()=>{document.visibilityState==="visible"&&await wd()&&await f()};return document.addEventListener("visibilitychange",b),()=>{document.removeEventListener("visibilitychange",b)}},[f]);const g=async(b,k)=>{n(!0);try{const{error:y,data:x}=await Je.auth.signInWithPassword({email:b,password:k});if(console.log({error:y,data:x}),y)throw y;await f()}catch(y){throw n(!1),y}finally{n(!1)}},m=async()=>{n(!0);try{localStorage.removeItem("carlaville-user-cache"),await Je.auth.signOut(),await f(),o("/login")}finally{n(!1)}},S=Ce.useMemo(()=>({user:u??null,isAuthenticated:!!u,isLoading:e&&h,login:g,logout:m}),[u,e,h]);return c.jsx(D4.Provider,{value:S,children:t})},y8=({isOpen:t,onClose:e})=>{const{t:n}=In(),{user:r,logout:i}=yr(),s=(r==null?void 0:r.role)==="admin",a=()=>{i(),m6("/login"),e()};return c.jsxs("aside",{className:`sidebar ${t?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("div",{className:"sidebar-logo",children:c.jsx("span",{className:"sidebar-logo-text",children:n("branding.appName")})}),c.jsx("button",{className:"close-button",onClick:e,"aria-label":"Close sidebar",children:c.jsx(al,{size:20})})]}),c.jsx("nav",{className:"sidebar-nav",children:c.jsxs("ul",{className:"nav-list",children:[c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(cA,{size:20}),c.jsx("span",{children:n("nav.dashboard")})]})}),c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/bookings",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(ih,{size:20}),c.jsx("span",{children:n("nav.bookings")})]})}),c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/fleet",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(Gc,{size:20}),c.jsx("span",{children:n("nav.fleet")})]})}),c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/clients",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(Qv,{size:20}),c.jsx("span",{children:n("nav.clients")})]})}),c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/expenses",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(H3,{size:20}),c.jsx("span",{children:n("nav.expenses")})]})}),s&&c.jsxs(c.Fragment,{children:[c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/agents",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(nA,{size:20}),c.jsx("span",{children:n("nav.agents")})]})}),c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/commissions",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(Vd,{size:20}),c.jsx("span",{children:n("nav.commissions")})]})})]}),!s&&c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/my-commissions",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(Vd,{size:20}),c.jsx("span",{children:n("nav.myCommissions")})]})}),c.jsx("li",{className:"nav-item",children:c.jsxs(os,{to:"/insurance",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(hm,{size:20}),c.jsx("span",{children:n("nav.insurance")})]})})]})}),c.jsxs("div",{className:"sidebar-footer",children:[c.jsxs(os,{to:"/settings",className:({isActive:o})=>o?"nav-link active":"nav-link",onClick:e,children:[c.jsx(Yv,{size:20}),c.jsx("span",{children:n("nav.settings")})]}),c.jsxs("button",{className:"nav-link logout-button",onClick:a,children:[c.jsx(q3,{size:20}),c.jsx("span",{children:n("nav.logout")})]})]})]})},F4=ce.createContext(void 0),w8=({children:t})=>{const[e,n]=ce.useState("light"),r=()=>{n(i=>i==="light"?"dark":"light")};return c.jsx(F4.Provider,{value:{theme:e,toggleTheme:r},children:c.jsx("div",{className:`theme-${e}`,children:t})})},T4=()=>{const t=ce.useContext(F4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},O4=ce.createContext(void 0),x8=({children:t})=>{const[e,n]=ce.useState([{id:"1",message:"New booking request from Jane Smith",type:"info",read:!1,timestamp:new Date},{id:"2",message:"Vehicle maintenance scheduled",type:"warning",read:!1,timestamp:new Date(Date.now()-36e5)}]),r=(o,l)=>{const u={id:Date.now().toString(),message:o,type:l,read:!1,timestamp:new Date};n(f=>[u,...f])},i=o=>{n(l=>l.map(u=>u.id===o?{...u,read:!0}:u))},s=()=>{n([])},a=e.filter(o=>!o.read).length;return c.jsx(O4.Provider,{value:{notifications:e,addNotification:r,markAsRead:i,clearAll:s,unreadCount:a},children:t})},I4=()=>{const t=ce.useContext(O4);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},b8=()=>{const{notifications:t,markAsRead:e,clearAll:n}=I4(),r=i=>{const a=Math.floor((new Date().getTime()-i.getTime())/1e3);return a<60?`${a}s ago`:a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`};return c.jsxs("div",{className:"notification-dropdown",children:[c.jsxs("div",{className:"notification-header",children:[c.jsx("h3",{children:"Notifications"}),c.jsxs("button",{className:"notification-clear-all",onClick:n,"aria-label":"Clear all notifications",children:[c.jsx($3,{size:16}),c.jsx("span",{children:"Clear All"})]})]}),c.jsx("div",{className:"notification-list",children:t.length===0?c.jsxs("div",{className:"notification-empty",children:[c.jsx(Ep,{size:24}),c.jsx("p",{children:"No notifications yet"})]}):t.map(i=>c.jsxs("div",{className:`notification-item ${i.read?"read":"unread"}`,children:[c.jsx("div",{className:`notification-icon ${i.type}`,children:c.jsx(Ep,{size:16})}),c.jsxs("div",{className:"notification-content",children:[c.jsx("p",{className:"notification-message",children:i.message}),c.jsx("span",{className:"notification-time",children:r(i.timestamp)})]}),!i.read&&c.jsx("button",{className:"notification-mark-read",onClick:()=>e(i.id),"aria-label":"Mark as read",children:c.jsx(z3,{size:16})})]},i.id))})]})},S8=()=>{const{t}=In(),{user:e,logout:n}=yr(),r=()=>!e||!e.role?"User":e.role||"User";return c.jsxs("div",{className:"user-menu",children:[c.jsxs("div",{className:"user-info",children:[e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:e.name,className:"user-menu-avatar"}):c.jsx("div",{className:"user-menu-avatar-placeholder",children:c.jsx(Yc,{size:24})}),c.jsxs("div",{className:"user-details",children:[c.jsx("p",{className:"user-name",children:(e==null?void 0:e.name)||"Guest"}),c.jsx("p",{className:"user-role",children:r()})]})]}),c.jsx("div",{className:"user-menu-divider"}),c.jsxs("ul",{className:"user-menu-list",children:[c.jsx("li",{children:c.jsxs(yc,{to:"/profile",className:"user-menu-link",children:[c.jsx(Yc,{size:18}),c.jsx("span",{children:t("header.profile")})]})}),c.jsx("li",{children:c.jsxs(yc,{to:"/settings",className:"user-menu-link",children:[c.jsx(Yv,{size:18}),c.jsx("span",{children:t("header.settings")})]})}),c.jsx("li",{children:c.jsxs(yc,{to:"/help",className:"user-menu-link",children:[c.jsx(oA,{size:18}),c.jsx("span",{children:t("header.help")})]})})]}),c.jsx("div",{className:"user-menu-divider"}),c.jsxs("button",{className:"user-menu-logout",onClick:n,children:[c.jsx(q3,{size:18}),c.jsx("span",{children:t("header.logout")})]})]})},N8=()=>{const{t,i18n:e}=In(),n=e.language,r=i=>{e.changeLanguage(i)};return c.jsxs("div",{className:"language-switcher",children:[c.jsxs("span",{className:"language-label",children:[t("common.language"),": "]}),c.jsxs("div",{className:"language-buttons",children:[c.jsx("button",{className:`language-button ${n==="en"?"active":""}`,onClick:()=>r("en"),"aria-label":t("common.english"),children:"EN"}),c.jsx("button",{className:`language-button ${n==="fr"?"active":""}`,onClick:()=>r("fr"),"aria-label":t("common.french"),children:"FR"})]})]})},_8=({onMenuClick:t})=>{const{t:e}=In(),{theme:n,toggleTheme:r}=T4(),{isAuthenticated:i,user:s}=yr(),{unreadCount:a}=I4(),[o,l]=Ce.useState(!1),[u,f]=Ce.useState(!1),h=()=>{l(m=>!m),f(!1)},g=()=>{f(m=>!m),l(!1)};return c.jsxs("header",{className:"app-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsx("button",{className:"menu-button",onClick:t,"aria-label":"Menu",children:c.jsx(fA,{size:24})}),c.jsx("div",{className:"logo",children:c.jsx("span",{className:"logo-text",children:e("branding.appName")})})]}),c.jsxs("div",{className:"search-container",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",className:"search-input",placeholder:e("header.search")})]}),c.jsxs("div",{className:"header-right",children:[c.jsx(N8,{}),c.jsx("button",{className:"header-icon-button",onClick:r,"aria-label":n==="light"?"Switch to dark mode":"Switch to light mode",children:n==="light"?c.jsx(pA,{size:20}):c.jsx(wA,{size:20})}),c.jsxs("div",{className:"notification-container",children:[c.jsxs("button",{className:"header-icon-button notification-button",onClick:h,"aria-label":e("header.notifications"),children:[c.jsx(Ep,{size:20}),a>0&&c.jsx("span",{className:"notification-badge",children:a})]}),o&&c.jsx(b8,{})]}),i&&s&&c.jsxs("div",{className:"user-container",children:[c.jsx("button",{className:"user-button",onClick:g,"aria-label":e("header.profile"),children:s.avatar?c.jsx("img",{src:s.avatar,alt:s.name,className:"user-avatar"}):c.jsx(Yc,{size:20})}),u&&c.jsx(S8,{})]})]})]})},k8=({path:t})=>{const e=t.split("/").filter(Boolean),n={bookings:"Bookings",fleet:"Fleet",clients:"Clients",representatives:"Sales Representatives",insurance:"Insurance",settings:"Settings"};return c.jsx("div",{className:"breadcrumbs",children:c.jsxs("div",{className:"breadcrumbs-container",children:[c.jsxs(yc,{to:"/",className:"breadcrumb-item",children:[c.jsx(lA,{size:16}),c.jsx("span",{className:"breadcrumb-text",children:"Home"})]}),e.map((r,i)=>{const s=`/${e.slice(0,i+1).join("/")}`,a=i===e.length-1;return c.jsxs(Ce.Fragment,{children:[c.jsx(tA,{size:16,className:"breadcrumb-separator"}),a?c.jsx("span",{className:"breadcrumb-item active",children:c.jsx("span",{className:"breadcrumb-text",children:n[r]||r.charAt(0).toUpperCase()+r.slice(1)})}):c.jsx(yc,{to:s,className:"breadcrumb-item",children:c.jsx("span",{className:"breadcrumb-text",children:n[r]||r.charAt(0).toUpperCase()+r.slice(1)})})]},s)})]})})},j8=({children:t})=>{const[e,n]=ce.useState(!1),r=il(),i=()=>{n(a=>!a)},s=()=>{n(!1)};return c.jsxs("div",{className:"app-layout",children:[c.jsx(y8,{isOpen:e,onClose:s}),c.jsxs("div",{className:"app-main",children:[c.jsx(_8,{onMenuClick:i}),c.jsxs("div",{className:"app-content",children:[c.jsx(k8,{path:r.pathname}),c.jsx("main",{className:"app-container",children:t})]})]})]})};function Ct(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Zs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function F1(t,e){const n=Ct(t);return isNaN(e)?Zs(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const R4=6048e5,A8=864e5,ay=6e4,oy=36e5,jf=43200,Z5=1440;let C8={};function lh(){return C8}function Kd(t,e){var o,l,u,f;const n=lh(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Ct(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Op(t){return Kd(t,{weekStartsOn:1})}function M4(t){const e=Ct(t),n=e.getFullYear(),r=Zs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Op(r),s=Zs(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Op(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ew(t){const e=Ct(t);return e.setHours(0,0,0,0),e}function Ip(t){const e=Ct(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function B4(t,e){const n=ew(t),r=ew(e),i=+n-Ip(n),s=+r-Ip(r);return Math.round((i-s)/A8)}function L8(t){const e=M4(t),n=Zs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Op(n)}function Kf(t,e){const n=Ct(t),r=Ct(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function P8(t){return Zs(t,Date.now())}function E8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function D8(t){if(!E8(t)&&typeof t!="number")return!1;const e=Ct(t);return!isNaN(Number(e))}function F8(t,e){const n=Ct(t),r=Ct(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function T8(t,e){const n=Ct(t),r=Ct(e),i=tw(n,r),s=Math.abs(B4(n,r));n.setDate(n.getDate()-i*s);const a=+(tw(n,r)===-i),o=i*(s-a);return o===0?0:o}function tw(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function ly(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function cy(t,e){return+Ct(t)-+Ct(e)}function nw(t,e,n){const r=cy(t,e)/oy;return ly(n==null?void 0:n.roundingMethod)(r)}function rw(t,e,n){const r=cy(t,e)/ay;return ly(n==null?void 0:n.roundingMethod)(r)}function O8(t){const e=Ct(t);return e.setHours(23,59,59,999),e}function Rp(t){const e=Ct(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function I8(t){const e=Ct(t);return+O8(e)==+Rp(e)}function R8(t,e){const n=Ct(t),r=Ct(e),i=Kf(n,r),s=Math.abs(F8(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let o=Kf(n,r)===-i;I8(Ct(t))&&s===1&&Kf(t,r)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function M8(t,e,n){const r=cy(t,e)/1e3;return ly(n==null?void 0:n.roundingMethod)(r)}function B8(t){const e=Ct(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function T1(t){const e=Ct(t);return e.setDate(1),e.setHours(0,0,0,0),e}function z4(t){const e=Ct(t),n=Zs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const z8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U8=(t,e,n)=>{let r;const i=z8[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const q8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H8={date:Qg({formats:q8,defaultWidth:"full"}),time:Qg({formats:$8,defaultWidth:"full"}),dateTime:Qg({formats:V8,defaultWidth:"full"})},W8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K8=(t,e,n,r)=>W8[t];function Ku(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const G8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eP=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tP={ordinalNumber:eP,era:Ku({values:G8,defaultWidth:"wide"}),quarter:Ku({values:Y8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ku({values:Q8,defaultWidth:"wide"}),day:Ku({values:J8,defaultWidth:"wide"}),dayPeriod:Ku({values:X8,defaultWidth:"wide",formattingValues:Z8,defaultFormattingWidth:"wide"})};function Gu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?rP(o,h=>h.test(a)):nP(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}function nP(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rP(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iP(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const sP=/^(\d+)(th|st|nd|rd)?/i,aP=/\d+/i,oP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lP={any:[/^b/i,/^(a|c)/i]},cP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uP={any:[/1/i,/2/i,/3/i,/4/i]},dP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vP={ordinalNumber:iP({matchPattern:sP,parsePattern:aP,valueCallback:t=>parseInt(t,10)}),era:Gu({matchPatterns:oP,defaultMatchWidth:"wide",parsePatterns:lP,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:cP,defaultMatchWidth:"wide",parsePatterns:uP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gu({matchPatterns:dP,defaultMatchWidth:"wide",parsePatterns:hP,defaultParseWidth:"any"}),day:Gu({matchPatterns:fP,defaultMatchWidth:"wide",parsePatterns:pP,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:mP,defaultMatchWidth:"any",parsePatterns:gP,defaultParseWidth:"any"})},U4={code:"en-US",formatDistance:U8,formatLong:H8,formatRelative:K8,localize:tP,match:vP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yP(t){const e=Ct(t);return B4(e,z4(e))+1}function wP(t){const e=Ct(t),n=+Op(e)-+L8(e);return Math.round(n/R4)+1}function q4(t,e){var f,h,g,m;const n=Ct(t),r=n.getFullYear(),i=lh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(g=i.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,a=Zs(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Kd(a,e),l=Zs(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Kd(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function xP(t,e){var o,l,u,f;const n=lh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=q4(t,e),s=Zs(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Kd(s,e)}function bP(t,e){const n=Ct(t),r=+Kd(n,e)-+xP(n,e);return Math.round(r/R4)+1}function Mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ya={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Mt(n+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Mt(i,e.length)}},Wl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ya.y(t,e)},Y:function(t,e,n,r){const i=q4(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Mt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Mt(s,e.length)},R:function(t,e){const n=M4(t);return Mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ya.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=bP(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Mt(i,e.length)},I:function(t,e,n){const r=wP(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ya.d(t,e)},D:function(t,e,n){const r=yP(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Mt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Wl.noon:r===0?i=Wl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Wl.evening:r>=12?i=Wl.afternoon:r>=4?i=Wl.morning:i=Wl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ya.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ya.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ya.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ya.s(t,e)},S:function(t,e){return ya.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return aw(r);case"XXXX":case"XX":return Co(r);case"XXXXX":case"XXX":default:return Co(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return aw(r);case"xxxx":case"xx":return Co(r);case"xxxxx":case"xxx":default:return Co(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sw(r,":");case"OOOO":default:return"GMT"+Co(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sw(r,":");case"zzzz":default:return"GMT"+Co(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Mt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Mt(r,e.length)}};function sw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Mt(s,2)}function aw(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):Co(t,e)}function Co(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Mt(Math.trunc(r/60),2),s=Mt(r%60,2);return n+i+e+s}const ow=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},SP=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ow(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ow(r,e)).replace("{{time}}",$4(i,e))},NP={p:$4,P:SP},_P=/^D+$/,kP=/^Y+$/,jP=["D","DD","YY","YYYY"];function AP(t){return _P.test(t)}function CP(t){return kP.test(t)}function LP(t,e,n){const r=PP(t,e,n);if(console.warn(r),jP.includes(t))throw new RangeError(r)}function PP(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FP=/^'([^]*?)'?$/,TP=/''/g,OP=/[a-zA-Z]/;function vt(t,e,n){var f,h,g,m;const r=lh(),i=r.locale??U4,s=r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,o=Ct(t);if(!D8(o))throw new RangeError("Invalid time value");let l=e.match(DP).map(S=>{const b=S[0];if(b==="p"||b==="P"){const k=NP[b];return k(S,i.formatLong)}return S}).join("").match(EP).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const b=S[0];if(b==="'")return{isToken:!1,value:IP(S)};if(iw[b])return{isToken:!0,value:S};if(b.match(OP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(S=>{if(!S.isToken)return S.value;const b=S.value;(CP(b)||AP(b))&&LP(b,e,String(t));const k=iw[b[0]];return k(o,b,i.localize,u)}).join("")}function IP(t){const e=t.match(FP);return e?e[1].replace(TP,"'"):t}function RP(t,e,n){const r=lh(),i=(n==null?void 0:n.locale)??r.locale??U4,s=2520,a=Kf(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let l,u;a>0?(l=Ct(e),u=Ct(t)):(l=Ct(t),u=Ct(e));const f=M8(u,l),h=(Ip(u)-Ip(l))/1e3,g=Math.round((f-h)/60);let m;if(g<2)return n!=null&&n.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,o):f<10?i.formatDistance("lessThanXSeconds",10,o):f<20?i.formatDistance("lessThanXSeconds",20,o):f<40?i.formatDistance("halfAMinute",0,o):f<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):g===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",g,o);if(g<45)return i.formatDistance("xMinutes",g,o);if(g<90)return i.formatDistance("aboutXHours",1,o);if(g<Z5){const S=Math.round(g/60);return i.formatDistance("aboutXHours",S,o)}else{if(g<s)return i.formatDistance("xDays",1,o);if(g<jf){const S=Math.round(g/Z5);return i.formatDistance("xDays",S,o)}else if(g<jf*2)return m=Math.round(g/jf),i.formatDistance("aboutXMonths",m,o)}if(m=R8(u,l),m<12){const S=Math.round(g/jf);return i.formatDistance("xMonths",S,o)}else{const S=m%12,b=Math.trunc(m/12);return S<3?i.formatDistance("aboutXYears",b,o):S<9?i.formatDistance("overXYears",b,o):i.formatDistance("almostXYears",b+1,o)}}function MP(t,e){return RP(t,P8(t),e)}function BP(t,e){const n=Ct(t),r=Ct(e);return n.getTime()>r.getTime()}function wa(t,e){return F1(t,-e)}function no(t,e){const r=$P(t);let i;if(r.date){const l=VP(r.date,2);i=HP(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(r.time&&(a=WP(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=KP(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(s+a+o)}const Af={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zP=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UP=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qP=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $P(t){const e={},n=t.split(Af.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Af.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Af.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Af.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function VP(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function HP(t,e){if(e===null)return new Date(NaN);const n=t.match(zP);if(!n)return new Date(NaN);const r=!!n[4],i=Yu(n[1]),s=Yu(n[2])-1,a=Yu(n[3]),o=Yu(n[4]),l=Yu(n[5])-1;if(r)return XP(e,o,l)?GP(e,o,l):new Date(NaN);{const u=new Date(0);return!QP(e,s,a)||!JP(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,a)),u)}}function Yu(t){return t?parseInt(t):1}function WP(t){const e=t.match(UP);if(!e)return NaN;const n=Jg(e[1]),r=Jg(e[2]),i=Jg(e[3]);return ZP(n,r,i)?n*oy+r*ay+i*1e3:NaN}function Jg(t){return t&&parseFloat(t.replace(",","."))||0}function KP(t){if(t==="Z")return 0;const e=t.match(qP);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return eE(r,i)?n*(r*oy+i*ay):NaN}function GP(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const YP=[31,null,31,30,31,30,31,31,30,31,30,31];function V4(t){return t%400===0||t%4===0&&t%100!==0}function QP(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(YP[e]||(V4(t)?29:28))}function JP(t,e){return e>=1&&e<=(V4(t)?366:365)}function XP(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ZP(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function eE(t,e){return e>=0&&e<=59}function tE(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const nE=t=>{switch(t){case"success":return sE;case"info":return oE;case"warning":return aE;case"error":return lE;default:return null}},rE=Array(12).fill(0),iE=({visible:t,className:e})=>Ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ce.createElement("div",{className:"sonner-spinner"},rE.map((n,r)=>Ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),sE=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aE=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oE=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lE=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cE=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uE=()=>{const[t,e]=Ce.useState(document.hidden);return Ce.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let O1=1;class dE{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:O1++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const o=i.then(async u=>{if(a=["resolve",u],Ce.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(fE(u)&&!u.ok){s=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,S=typeof h=="object"&&!Ce.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...S})}else if(u instanceof Error){s=!1;const h=typeof n.error=="function"?await n.error(u):n.error,g=typeof n.description=="function"?await n.description(u):n.description,S=typeof h=="object"&&!Ce.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...S})}else if(n.success!==void 0){s=!1;const h=typeof n.success=="function"?await n.success(u):n.success,g=typeof n.description=="function"?await n.description(u):n.description,S=typeof h=="object"&&!Ce.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:g,...S})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,m=typeof f=="object"&&!Ce.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...m})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,f)=>o.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||O1++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const qr=new dE,hE=(t,e)=>{const n=(e==null?void 0:e.id)||O1++;return qr.addToast({title:t,...e,id:n}),n},fE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",pE=hE,mE=()=>qr.toasts,gE=()=>qr.getActiveToasts(),_e=Object.assign(pE,{success:qr.success,info:qr.info,warning:qr.warning,error:qr.error,custom:qr.custom,message:qr.message,promise:qr.promise,dismiss:qr.dismiss,loading:qr.loading},{getHistory:mE,getToasts:gE});tE("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cf(t){return t.label!==void 0}const vE=3,yE="24px",wE="16px",lw=4e3,xE=356,bE=14,SE=45,NE=200;function ls(...t){return t.filter(Boolean).join(" ")}function _E(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const kE=t=>{var e,n,r,i,s,a,o,l,u;const{invert:f,toast:h,unstyled:g,interacting:m,setHeights:S,visibleToasts:b,heights:k,index:y,toasts:x,expanded:N,removeToast:E,defaultRichColors:L,closeButton:K,style:V,cancelButtonStyle:j,actionButtonStyle:$,className:J="",descriptionClassName:C="",duration:F,position:G,gap:z,expandByDefault:q,classNames:T,icons:X,closeButtonAriaLabel:H="Close toast"}=t,[R,ee]=Ce.useState(null),[fe,A]=Ce.useState(null),[B,Y]=Ce.useState(!1),[ne,re]=Ce.useState(!1),[de,me]=Ce.useState(!1),[we,Oe]=Ce.useState(!1),[Fe,Be]=Ce.useState(!1),[$e,rt]=Ce.useState(0),[be,te]=Ce.useState(0),it=Ce.useRef(h.duration||F||lw),Ye=Ce.useRef(null),Ee=Ce.useRef(null),ze=y===0,Ve=y+1<=b,W=h.type,se=h.dismissible!==!1,ge=h.className||"",je=h.descriptionClassName||"",Ne=Ce.useMemo(()=>k.findIndex(Ue=>Ue.toastId===h.id)||0,[k,h.id]),ke=Ce.useMemo(()=>{var Ue;return(Ue=h.closeButton)!=null?Ue:K},[h.closeButton,K]),Ie=Ce.useMemo(()=>h.duration||F||lw,[h.duration,F]),qe=Ce.useRef(0),Ze=Ce.useRef(0),Me=Ce.useRef(0),Jt=Ce.useRef(null),[bt,Yn]=G.split("-"),Et=Ce.useMemo(()=>k.reduce((Ue,ct,sn)=>sn>=Ne?Ue:Ue+ct.height,0),[k,Ne]),Tt=uE(),Dr=h.invert||f,St=W==="loading";Ze.current=Ce.useMemo(()=>Ne*z+Et,[Ne,Et]),Ce.useEffect(()=>{it.current=Ie},[Ie]),Ce.useEffect(()=>{Y(!0)},[]),Ce.useEffect(()=>{const Ue=Ee.current;if(Ue){const ct=Ue.getBoundingClientRect().height;return te(ct),S(sn=>[{toastId:h.id,height:ct,position:h.position},...sn]),()=>S(sn=>sn.filter(Dt=>Dt.toastId!==h.id))}},[S,h.id]),Ce.useLayoutEffect(()=>{if(!B)return;const Ue=Ee.current,ct=Ue.style.height;Ue.style.height="auto";const sn=Ue.getBoundingClientRect().height;Ue.style.height=ct,te(sn),S(Dt=>Dt.find(Ut=>Ut.toastId===h.id)?Dt.map(Ut=>Ut.toastId===h.id?{...Ut,height:sn}:Ut):[{toastId:h.id,height:sn,position:h.position},...Dt])},[B,h.title,h.description,S,h.id]);const nr=Ce.useCallback(()=>{re(!0),rt(Ze.current),S(Ue=>Ue.filter(ct=>ct.toastId!==h.id)),setTimeout(()=>{E(h)},NE)},[h,E,S,Ze]);Ce.useEffect(()=>{if(h.promise&&W==="loading"||h.duration===1/0||h.type==="loading")return;let Ue;return N||m||Tt?(()=>{if(Me.current<qe.current){const Dt=new Date().getTime()-qe.current;it.current=it.current-Dt}Me.current=new Date().getTime()})():(()=>{it.current!==1/0&&(qe.current=new Date().getTime(),Ue=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),nr()},it.current))})(),()=>clearTimeout(Ue)},[N,m,h,W,Tt,nr]),Ce.useEffect(()=>{h.delete&&nr()},[nr,h.delete]);function rn(){var Ue;if(X!=null&&X.loading){var ct;return Ce.createElement("div",{className:ls(T==null?void 0:T.loader,h==null||(ct=h.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":W==="loading"},X.loading)}return Ce.createElement(iE,{className:ls(T==null?void 0:T.loader,h==null||(Ue=h.classNames)==null?void 0:Ue.loader),visible:W==="loading"})}const Qr=h.icon||(X==null?void 0:X[W])||nE(W);var ui,Xt;return Ce.createElement("li",{tabIndex:0,ref:Ee,className:ls(J,ge,T==null?void 0:T.toast,h==null||(e=h.classNames)==null?void 0:e.toast,T==null?void 0:T.default,T==null?void 0:T[W],h==null||(n=h.classNames)==null?void 0:n[W]),"data-sonner-toast":"","data-rich-colors":(ui=h.richColors)!=null?ui:L,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":B,"data-promise":!!h.promise,"data-swiped":Fe,"data-removed":ne,"data-visible":Ve,"data-y-position":bt,"data-x-position":Yn,"data-index":y,"data-front":ze,"data-swiping":de,"data-dismissible":se,"data-type":W,"data-invert":Dr,"data-swipe-out":we,"data-swipe-direction":fe,"data-expanded":!!(N||q&&B),style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${ne?$e:Ze.current}px`,"--initial-height":q?"auto":`${be}px`,...V,...h.style},onDragEnd:()=>{me(!1),ee(null),Jt.current=null},onPointerDown:Ue=>{St||!se||(Ye.current=new Date,rt(Ze.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(me(!0),Jt.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,ct,sn;if(we||!se)return;Jt.current=null;const Dt=Number(((Ue=Ee.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wr=Number(((ct=Ee.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((sn=Ye.current)==null?void 0:sn.getTime()),tt=R==="x"?Dt:wr,rr=Math.abs(tt)/Ut;if(Math.abs(tt)>=SE||rr>.11){rt(Ze.current),h.onDismiss==null||h.onDismiss.call(h,h),A(R==="x"?Dt>0?"right":"left":wr>0?"down":"up"),nr(),Oe(!0);return}else{var hn,Wt;(hn=Ee.current)==null||hn.style.setProperty("--swipe-amount-x","0px"),(Wt=Ee.current)==null||Wt.style.setProperty("--swipe-amount-y","0px")}Be(!1),me(!1),ee(null)},onPointerMove:Ue=>{var ct,sn,Dt;if(!Jt.current||!se||((ct=window.getSelection())==null?void 0:ct.toString().length)>0)return;const Ut=Ue.clientY-Jt.current.y,tt=Ue.clientX-Jt.current.x;var rr;const hn=(rr=t.swipeDirections)!=null?rr:_E(G);!R&&(Math.abs(tt)>1||Math.abs(Ut)>1)&&ee(Math.abs(tt)>Math.abs(Ut)?"x":"y");let Wt={x:0,y:0};const fn=qt=>1/(1.5+Math.abs(qt)/20);if(R==="y"){if(hn.includes("top")||hn.includes("bottom"))if(hn.includes("top")&&Ut<0||hn.includes("bottom")&&Ut>0)Wt.y=Ut;else{const qt=Ut*fn(Ut);Wt.y=Math.abs(qt)<Math.abs(Ut)?qt:Ut}}else if(R==="x"&&(hn.includes("left")||hn.includes("right")))if(hn.includes("left")&&tt<0||hn.includes("right")&&tt>0)Wt.x=tt;else{const qt=tt*fn(tt);Wt.x=Math.abs(qt)<Math.abs(tt)?qt:tt}(Math.abs(Wt.x)>0||Math.abs(Wt.y)>0)&&Be(!0),(sn=Ee.current)==null||sn.style.setProperty("--swipe-amount-x",`${Wt.x}px`),(Dt=Ee.current)==null||Dt.style.setProperty("--swipe-amount-y",`${Wt.y}px`)}},ke&&!h.jsx&&W!=="loading"?Ce.createElement("button",{"aria-label":H,"data-disabled":St,"data-close-button":!0,onClick:St||!se?()=>{}:()=>{nr(),h.onDismiss==null||h.onDismiss.call(h,h)},className:ls(T==null?void 0:T.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(Xt=X==null?void 0:X.close)!=null?Xt:cE):null,(W||h.icon||h.promise)&&h.icon!==null&&((X==null?void 0:X[W])!==null||h.icon)?Ce.createElement("div",{"data-icon":"",className:ls(T==null?void 0:T.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||rn():null,h.type!=="loading"?Qr:null):null,Ce.createElement("div",{"data-content":"",className:ls(T==null?void 0:T.content,h==null||(s=h.classNames)==null?void 0:s.content)},Ce.createElement("div",{"data-title":"",className:ls(T==null?void 0:T.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Ce.createElement("div",{"data-description":"",className:ls(C,je,T==null?void 0:T.description,h==null||(o=h.classNames)==null?void 0:o.description)},typeof h.description=="function"?h.description():h.description):null),Ce.isValidElement(h.cancel)?h.cancel:h.cancel&&Cf(h.cancel)?Ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||j,onClick:Ue=>{Cf(h.cancel)&&se&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ue),nr())},className:ls(T==null?void 0:T.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,Ce.isValidElement(h.action)?h.action:h.action&&Cf(h.action)?Ce.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||$,onClick:Ue=>{Cf(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ue),!Ue.defaultPrevented&&nr())},className:ls(T==null?void 0:T.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function cw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jE(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?wE:yE;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),n}const AE=Ce.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:u,mobileOffset:f,theme:h="light",richColors:g,duration:m,style:S,visibleToasts:b=vE,toastOptions:k,dir:y=cw(),gap:x=bE,icons:N,containerAriaLabel:E="Notifications"}=e,[L,K]=Ce.useState([]),V=Ce.useMemo(()=>Array.from(new Set([i].concat(L.filter(fe=>fe.position).map(fe=>fe.position)))),[L,i]),[j,$]=Ce.useState([]),[J,C]=Ce.useState(!1),[F,G]=Ce.useState(!1),[z,q]=Ce.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=Ce.useRef(null),X=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Ce.useRef(null),R=Ce.useRef(!1),ee=Ce.useCallback(fe=>{K(A=>{var B;return(B=A.find(Y=>Y.id===fe.id))!=null&&B.delete||qr.dismiss(fe.id),A.filter(({id:Y})=>Y!==fe.id)})},[]);return Ce.useEffect(()=>qr.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{K(A=>A.map(B=>B.id===fe.id?{...B,delete:!0}:B))});return}setTimeout(()=>{Kk.flushSync(()=>{K(A=>{const B=A.findIndex(Y=>Y.id===fe.id);return B!==-1?[...A.slice(0,B),{...A[B],...fe},...A.slice(B+1)]:[fe,...A]})})})}),[L]),Ce.useEffect(()=>{if(h!=="system"){q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:A})=>{q(A?"dark":"light")})}catch{fe.addListener(({matches:B})=>{try{q(B?"dark":"light")}catch(Y){console.error(Y)}})}},[h]),Ce.useEffect(()=>{L.length<=1&&C(!1)},[L]),Ce.useEffect(()=>{const fe=A=>{var B;if(s.every(re=>A[re]||A.code===re)){var ne;C(!0),(ne=T.current)==null||ne.focus()}A.code==="Escape"&&(document.activeElement===T.current||(B=T.current)!=null&&B.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[s]),Ce.useEffect(()=>{if(T.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,R.current=!1)}},[T.current]),Ce.createElement("section",{ref:n,"aria-label":`${E} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((fe,A)=>{var B;const[Y,ne]=fe.split("-");return L.length?Ce.createElement("ol",{key:fe,dir:y==="auto"?cw():y,tabIndex:-1,ref:T,className:l,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":Y,"data-lifted":J&&L.length>1&&!a,"data-x-position":ne,style:{"--front-toast-height":`${((B=j[0])==null?void 0:B.height)||0}px`,"--width":`${xE}px`,"--gap":`${x}px`,...S,...jE(u,f)},onBlur:re=>{R.current&&!re.currentTarget.contains(re.relatedTarget)&&(R.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||R.current||(R.current=!0,H.current=re.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{F||C(!1)},onDragEnd:()=>C(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},L.filter(re=>!re.position&&A===0||re.position===fe).map((re,de)=>{var me,we;return Ce.createElement(kE,{key:re.id,icons:N,index:de,toast:re,defaultRichColors:g,duration:(me=k==null?void 0:k.duration)!=null?me:m,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:r,visibleToasts:b,closeButton:(we=k==null?void 0:k.closeButton)!=null?we:o,interacting:F,position:fe,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:ee,toasts:L.filter(Oe=>Oe.position==re.position),heights:j.filter(Oe=>Oe.position==re.position),setHeights:$,expandByDefault:a,gap:x,expanded:J,swipeDirections:e.swipeDirections})})):null}))}),CE=t=>{if(t){if("role"in t&&t.role)return t.role;if("user_metadata"in t&&t.user_metadata)return t.user_metadata.role}},_n=t=>t?CE(t)==="admin":!1,LE=()=>{const{t}=In(),{user:e}=yr(),[n,r]=ce.useState("today"),[i,s]=ce.useState("30d"),{data:a,isLoading:o}=On({queryKey:["dashboardKpis",n],queryFn:async()=>{try{const y=new Date;let x=y,N=wa(y,1),E=wa(y,1);switch(n){case"today":break;case"week":x=new Date,x.setDate(y.getDate()-y.getDay()),N=wa(x,7),E=wa(y,7);break;case"month":x=new Date(y.getFullYear(),y.getMonth(),1),N=new Date(y.getFullYear(),y.getMonth()-1,1),E=new Date(y.getFullYear(),y.getMonth(),0);break;case"custom":x=wa(y,30),N=wa(y,60),E=wa(y,31);break}const L=vt(x,"yyyy-MM-dd"),K=vt(y,"yyyy-MM-dd 23:59:59"),V=vt(N,"yyyy-MM-dd"),j=vt(E,"yyyy-MM-dd 23:59:59"),{data:$,error:J}=await Je.from("bookings").select("id, created_at, amount").gte("created_at",L).lte("created_at",K);if(J)throw J;const{data:C,error:F}=await Je.from("bookings").select("id, amount").gte("created_at",V).lte("created_at",j);if(F)throw F;const G=($==null?void 0:$.length)||0,z=(C==null?void 0:C.length)||0,q=($==null?void 0:$.reduce((je,Ne)=>je+(Ne.amount||0),0))||0,T=(C==null?void 0:C.reduce((je,Ne)=>je+(Ne.amount||0),0))||0,X=z===0?100:Math.round((G-z)/z*100),H=T===0?100:Math.round((q-T)/T*100),R=new Date,ee=new Date(R.getTime()-24*60*60*1e3),fe=new Date(R.getTime()+24*60*60*1e3);console.log("Checking for cars returning between:",{from:vt(ee,"yyyy-MM-dd HH:mm:ss"),to:vt(fe,"yyyy-MM-dd HH:mm:ss")});const{data:A,error:B}=await Je.from("bookings").select("id, end_date").gte("end_date",vt(ee,"yyyy-MM-dd HH:mm:ss")).lte("end_date",vt(fe,"yyyy-MM-dd HH:mm:ss"));if(console.log({carsReturningToday:A,returningError:B}),console.log("Cars returning today query result:",A),B)throw console.error("Error fetching cars returning today:",B),B;const Y=(A==null?void 0:A.length)||0;console.log("Cars returning today count:",Y);let ne=Je.from("expenses").select("amount").gte("date",L).lte("date",vt(y,"yyyy-MM-dd"));!_n(e)&&(e!=null&&e.id)&&(ne=ne.eq("user_id",e.id));const{data:re,error:de}=await ne;console.log("Expenses query result:",{currentExpenses:re,expensesError:de}),de&&console.error("Error fetching expenses:",de);let me=Je.from("expenses").select("amount").gte("date",V).lte("date",vt(E,"yyyy-MM-dd"));!_n(e)&&(e!=null&&e.id)&&(me=me.eq("user_id",e.id));const{data:we,error:Oe}=await me;console.log("Previous expenses query result:",{previousExpenses:we,previousExpensesError:Oe}),Oe&&console.error("Error fetching previous expenses:",Oe);const Fe=(re==null?void 0:re.reduce((je,Ne)=>je+(Ne.amount||0),0))||0,Be=(we==null?void 0:we.reduce((je,Ne)=>je+(Ne.amount||0),0))||0;console.log("Expenses totals:",{currentExpensesTotal:Fe,previousExpensesTotal:Be});const $e=Be===0?Fe>0?100:0:Math.round((Fe-Be)/Be*100),{data:rt,error:be}=await Je.from("vehicles").select("id").eq("status","available");if(be)throw be;const{data:te,error:it}=await Je.from("vehicles").select("count").eq("status","available").single();if(it&&it.code!=="PGRST116")throw it;const Ye=(rt==null?void 0:rt.length)||0,Ee=(te==null?void 0:te.count)||Ye,ze=Ee===0?0:Math.round((Ye-Ee)/Ee*100),{data:Ve,error:W}=await Je.from("clients").select("id, status").eq("status","active");if(W)throw W;const se=(Ve==null?void 0:Ve.length)||0;return[{title:t("dashboard.totalRevenue"),value:`$${q.toFixed(2)}`,change:H,isIncrease:H>=0,icon:c.jsx(Vd,{size:24,className:"kpi-icon"})},{title:t("dashboard.carsReturningToday"),value:Y,change:0,isIncrease:!0,icon:c.jsx(C5,{size:24,className:"kpi-icon"}),isAlert:Y>0},{title:t("dashboard.totalExpenses"),value:`$${Fe.toFixed(2)}`,change:Math.abs($e),isIncrease:$e<=0,icon:c.jsx(H3,{size:24,className:"kpi-icon"})},{title:t(n==="today"?"dashboard.todaysBookings":"dashboard.bookings"),value:G,change:X,isIncrease:X>=0,icon:c.jsx(ih,{size:24,className:"kpi-icon"})},{title:t("dashboard.availableVehicles"),value:Ye,change:Math.abs(ze),isIncrease:ze>=0,icon:c.jsx(Gc,{size:24,className:"kpi-icon"})},{title:t("dashboard.activeClients"),value:se,change:8,isIncrease:!0,icon:c.jsx(Qv,{size:24,className:"kpi-icon"})}]}catch(y){return console.error("Error fetching KPI data:",y),_e.error("Failed to load dashboard KPIs"),[]}},staleTime:60*1e3}),{data:l,isLoading:u}=On({queryKey:["recentActivities",n],queryFn:async()=>{try{const y=new Date;let x=y;switch(n){case"today":x=new Date(y.setHours(0,0,0,0));break;case"week":x=new Date,x.setDate(y.getDate()-y.getDay()),x.setHours(0,0,0,0);break;case"month":x=new Date(y.getFullYear(),y.getMonth(),1);break;case"custom":x=wa(y,30);break}const N=vt(x,"yyyy-MM-dd"),E=vt(y,"yyyy-MM-dd 23:59:59"),{data:L,error:K}=await Je.from("bookings").select(`
            id,
            created_at,
            clients (id, first_name, last_name),
            vehicles (id, brand, model)
          `).gte("created_at",N).lte("created_at",E).order("created_at",{ascending:!1}).limit(5);if(K)throw K;return(L||[]).map(j=>{const $=no(j.created_at||new Date().toISOString()),J=S($),C=j.clients?`${j.clients.first_name} ${j.clients.last_name}`:"-",F=j.vehicles?`${j.vehicles.brand} ${j.vehicles.model}`:"-";return{id:j.id,activity:"New Booking",client:C,vehicle:F,time:J,created_at:j.created_at||new Date().toISOString()}})}catch(y){return console.error("Error fetching activities:",y),_e.error("Failed to load recent activities"),[]}},staleTime:60*1e3}),{data:f,isLoading:h}=On({queryKey:["carsReturningToday"],queryFn:async()=>{try{const y=new Date,x=new Date(y.getTime()-24*60*60*1e3),N=new Date(y.getTime()+24*60*60*1e3);console.log("Fetching cars returning in 24h window:",{from:vt(x,"yyyy-MM-dd HH:mm:ss"),to:vt(N,"yyyy-MM-dd HH:mm:ss")});const{data:E,error:L}=await Je.from("bookings").select(`
            id,
            end_date,
            clients (first_name, last_name),
            vehicles (brand, model)
          `).gte("end_date",vt(x,"yyyy-MM-dd HH:mm:ss")).lte("end_date",vt(N,"yyyy-MM-dd HH:mm:ss"));if(console.log("Cars returning today details:",E),L)throw L;return(E||[]).map(K=>{const V=Array.isArray(K.clients)?K.clients[0]:K.clients,j=Array.isArray(K.vehicles)?K.vehicles[0]:K.vehicles;return{id:K.id,vehicle_brand:(j==null?void 0:j.brand)||"Unknown",vehicle_model:(j==null?void 0:j.model)||"Unknown",client_name:V?`${V.first_name} ${V.last_name}`:"Unknown",end_date:K.end_date}})}catch(y){return console.error("Error fetching cars returning today:",y),_e.error("Failed to load cars returning today"),[]}},staleTime:60*1e3}),{data:g=[],isLoading:m}=On({queryKey:["topVehicles"],queryFn:async()=>{try{const{data:y,error:x}=await Je.from("bookings").select(`
            vehicles (
              id,
              brand,
              model
            )
          `).not("vehicles","is",null);if(x)throw x;const N={};return y.forEach(E=>{const L=E.vehicles;if(!L)return;(Array.isArray(L)?L:[L]).forEach(V=>{if(!V)return;const j=V.id;N[j]||(N[j]={id:V.id,brand:V.brand,model:V.model,booking_count:0}),N[j].booking_count++})}),Object.values(N).sort((E,L)=>L.booking_count-E.booking_count).slice(0,5)}catch(y){return console.error("Error fetching top vehicles:",y),_e.error("Failed to load top vehicles"),[]}},staleTime:5*60*1e3}),S=y=>{const N=Math.floor((new Date().getTime()-y.getTime())/(1e3*60));if(N<1)return"Just now";if(N<60)return`${N} mins ago`;const E=Math.floor(N/60);if(E<24)return`${E} hour${E===1?"":"s"} ago`;const L=Math.floor(E/24);return L<7?`${L} day${L===1?"":"s"} ago`:vt(y,"MMM d, yyyy")},b=y=>{r(y)},k=y=>{s(y.target.value)};return c.jsxs("div",{className:"dashboard",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx("h1",{children:t("nav.dashboard")}),c.jsxs("div",{className:"date-filter",children:[c.jsx("span",{className:n==="today"?"selected":"",onClick:()=>b("today"),children:t("dashboard.today")}),c.jsx("span",{className:n==="week"?"selected":"",onClick:()=>b("week"),children:t("dashboard.thisWeek")}),c.jsx("span",{className:n==="month"?"selected":"",onClick:()=>b("month"),children:t("dashboard.thisMonth")}),c.jsx("span",{className:n==="custom"?"selected":"",onClick:()=>b("custom"),children:t("dashboard.custom")})]})]}),c.jsx("div",{className:"kpi-grid",children:o?Array(6).fill(0).map((y,x)=>c.jsxs("div",{className:"kpi-card skeleton",children:[c.jsxs("div",{className:"kpi-card-header",children:[c.jsx("div",{className:"skeleton-text"}),c.jsx("div",{className:"skeleton-icon"})]}),c.jsx("div",{className:"skeleton-value"}),c.jsx("div",{className:"skeleton-text"})]},x)):(a||[]).map((y,x)=>c.jsxs("div",{className:`kpi-card ${y.isAlert?"alert":""}`,children:[c.jsxs("div",{className:"kpi-card-header",children:[c.jsx("h3",{className:"kpi-title",children:y.title}),y.icon]}),c.jsx("div",{className:"kpi-value",children:y.value}),c.jsx("div",{className:`kpi-change ${y.isIncrease?"increase":"decrease"}`,children:y.change>0&&c.jsxs(c.Fragment,{children:[y.isIncrease?c.jsx(J6,{size:16}):c.jsx(Q6,{size:16}),c.jsxs("span",{children:[Math.abs(y.change),"% ",t("dashboard.fromYesterday")]})]})})]},x))}),f&&f.length>0&&c.jsxs("div",{className:"cars-returning-alert card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{children:t("dashboard.carsReturningToday")}),c.jsxs("span",{className:"alert-badge",children:[f.length," ",t("dashboard.returningToday")]})]}),c.jsx("div",{className:"returning-cars-list",children:h?Array(3).fill(0).map((y,x)=>c.jsxs("div",{className:"returning-car-item skeleton",children:[c.jsx("div",{className:"skeleton-text"}),c.jsx("div",{className:"skeleton-text small"})]},x)):f.map(y=>c.jsxs("div",{className:"returning-car-item",children:[c.jsxs("div",{className:"car-info",children:[c.jsxs("span",{className:"car-name",children:[y.vehicle_brand," ",y.vehicle_model]}),c.jsxs("span",{className:"client-name",children:[t("dashboard.client"),": ",y.client_name]})]}),c.jsxs("div",{className:"return-date",children:[c.jsx(C5,{size:16,className:"alert-icon"}),c.jsx("span",{children:"Today"})]})]},y.id))})]}),c.jsxs("div",{className:"dashboard-grid",children:[c.jsxs("div",{className:"dashboard-chart card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{children:t("dashboard.bookingsOverview")}),c.jsx("div",{className:"card-header-actions",children:c.jsxs("select",{value:i,onChange:k,className:"chart-period-select",children:[c.jsx("option",{value:"7d",children:"Last 7 days"}),c.jsx("option",{value:"30d",children:"Last 30 days"}),c.jsx("option",{value:"90d",children:"Last 90 days"})]})})]}),c.jsx("div",{className:"chart-container",children:c.jsxs("div",{className:"chart-placeholder",children:[c.jsx(Z6,{size:36}),c.jsxs("p",{children:[t("dashboard.bookingData")," ",i==="7d"?"7":i==="30d"?"30":"90"," ",t("dashboard.days")]})]})})]}),c.jsxs("div",{className:"dashboard-activities card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{children:t("dashboard.recentBookings")}),c.jsx("button",{className:"view-all-btn",children:t("dashboard.viewAll")})]}),c.jsx("div",{className:"activities-list",children:u?Array(5).fill(0).map((y,x)=>c.jsxs("div",{className:"activity-item skeleton",children:[c.jsxs("div",{className:"activity-content",children:[c.jsx("div",{className:"skeleton-text"}),c.jsx("div",{className:"skeleton-text small"})]}),c.jsx("div",{className:"skeleton-text tiny"})]},x)):l&&l.length===0?c.jsx("div",{className:"no-activities",children:c.jsx("p",{children:t("dashboard.noActivities")})}):l&&l.map(y=>c.jsxs("div",{className:"activity-item",children:[c.jsxs("div",{className:"activity-content",children:[c.jsx("p",{className:"activity-text",children:y.activity}),c.jsxs("div",{className:"activity-details",children:[c.jsx("span",{className:"activity-client",children:y.client!=="-"&&`${t("dashboard.client")}: ${y.client}`}),c.jsx("span",{className:"activity-vehicle",children:y.vehicle!=="-"&&`${t("dashboard.vehicle")}: ${y.vehicle}`})]})]}),c.jsx("span",{className:"activity-time",children:y.time})]},y.id))})]})]}),c.jsxs("div",{className:"dashboard-lower-grid",children:[c.jsxs("div",{className:"top-vehicles card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{children:t("dashboard.topVehicles")})}),c.jsx("div",{className:"top-vehicles-list",children:m?Array(5).fill(0).map((y,x)=>c.jsxs("div",{className:"vehicle-item skeleton",children:[c.jsx("div",{className:"skeleton-text"}),c.jsx("div",{className:"skeleton-text small"})]},x)):g.length===0?c.jsx("div",{className:"no-vehicles",children:c.jsx("p",{children:t("dashboard.noVehicles")})}):g.map(y=>c.jsxs("div",{className:"vehicle-item",children:[c.jsxs("div",{className:"vehicle-info",children:[c.jsxs("span",{className:"vehicle-name",children:[y.brand," ",y.model]}),c.jsxs("span",{className:"booking-count",children:[y.booking_count," ",t("dashboard.bookings")]})]}),c.jsx("div",{className:"vehicle-rank",children:c.jsx(Gc,{size:16,className:"vehicle-icon"})})]},y.id))})]}),c.jsxs("div",{className:"weather-widget card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{children:t("dashboard.weatherForecast")}),c.jsx("span",{className:"location-badge",children:"New York, NY"})]}),c.jsxs("div",{className:"weather-content",children:[c.jsxs("div",{className:"weather-current",children:[c.jsx(ql,{size:48,className:"weather-icon"}),c.jsx("div",{className:"weather-temp",children:"72°F"}),c.jsx("div",{className:"weather-desc",children:t("dashboard.partlyCloudy")})]}),c.jsxs("div",{className:"weather-forecast",children:[c.jsxs("div",{className:"forecast-day",children:[c.jsx("span",{className:"day",children:"Mon"}),c.jsx(ql,{size:20}),c.jsx("span",{className:"temp",children:"74°F"})]}),c.jsxs("div",{className:"forecast-day",children:[c.jsx("span",{className:"day",children:"Tue"}),c.jsx(ql,{size:20}),c.jsx("span",{className:"temp",children:"76°F"})]}),c.jsxs("div",{className:"forecast-day",children:[c.jsx("span",{className:"day",children:"Wed"}),c.jsx(ql,{size:20}),c.jsx("span",{className:"temp",children:"78°F"})]}),c.jsxs("div",{className:"forecast-day",children:[c.jsx("span",{className:"day",children:"Thu"}),c.jsx(ql,{size:20}),c.jsx("span",{className:"temp",children:"75°F"})]}),c.jsxs("div",{className:"forecast-day",children:[c.jsx("span",{className:"day",children:"Fri"}),c.jsx(ql,{size:20}),c.jsx("span",{className:"temp",children:"72°F"})]})]})]})]})]})]})};var ch=t=>t.type==="checkbox",Oo=t=>t instanceof Date,Cr=t=>t==null;const H4=t=>typeof t=="object";var Ln=t=>!Cr(t)&&!Array.isArray(t)&&H4(t)&&!Oo(t),PE=t=>Ln(t)&&t.target?ch(t.target)?t.target.checked:t.target.value:t,EE=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DE=(t,e)=>t.has(EE(e)),FE=t=>{const e=t.constructor&&t.constructor.prototype;return Ln(e)&&e.hasOwnProperty("isPrototypeOf")},uy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(uy&&(t instanceof Blob||r))&&(n||Ln(t)))if(e=n?[]:{},!n&&!FE(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=hr(t[i]));else return t;return e}var xm=t=>Array.isArray(t)?t.filter(Boolean):[],Fn=t=>t===void 0,nt=(t,e,n)=>{if(!e||!Ln(t))return n;const r=xm(e.split(/[,[\].]+?/)).reduce((i,s)=>Cr(i)?i:i[s],t);return Fn(r)||r===t?Fn(t[e])?n:t[e]:r},hs=t=>typeof t=="boolean",dy=t=>/^\w*$/.test(t),W4=t=>xm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),en=(t,e,n)=>{let r=-1;const i=dy(e)?[e]:W4(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let l=n;if(r!==a){const u=t[o];l=Ln(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const uw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ki={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ce.createContext(null);var TE=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ki.all&&(e._proxyFormState[a]=!r||Ki.all),t[a]}});return i};const OE=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;var ys=t=>typeof t=="string",IE=(t,e,n,r,i)=>ys(t)?(r&&e.watch.add(t),nt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),nt(n,s))):(r&&(e.watchAll=!0),n),RE=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},xd=t=>Array.isArray(t)?t:[t],dw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},I1=t=>Cr(t)||!H4(t);function Da(t,e){if(I1(t)||I1(e))return t===e;if(Oo(t)&&Oo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Oo(s)&&Oo(a)||Ln(s)&&Ln(a)||Array.isArray(s)&&Array.isArray(a)?!Da(s,a):s!==a)return!1}}return!0}var kr=t=>Ln(t)&&!Object.keys(t).length,hy=t=>t.type==="file",Gi=t=>typeof t=="function",Mp=t=>{if(!uy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},K4=t=>t.type==="select-multiple",fy=t=>t.type==="radio",ME=t=>fy(t)||ch(t),Xg=t=>Mp(t)&&t.isConnected;function BE(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Fn(t)?r++:t[e[r++]];return t}function zE(t){for(const e in t)if(t.hasOwnProperty(e)&&!Fn(t[e]))return!1;return!0}function Mn(t,e){const n=Array.isArray(e)?e:dy(e)?[e]:W4(e),r=n.length===1?t:BE(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ln(r)&&kr(r)||Array.isArray(r)&&zE(r))&&Mn(t,n.slice(0,-1)),t}var G4=t=>{for(const e in t)if(Gi(t[e]))return!0;return!1};function Bp(t,e={}){const n=Array.isArray(t);if(Ln(t)||n)for(const r in t)Array.isArray(t[r])||Ln(t[r])&&!G4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Bp(t[r],e[r])):Cr(t[r])||(e[r]=!0);return e}function Y4(t,e,n){const r=Array.isArray(t);if(Ln(t)||r)for(const i in t)Array.isArray(t[i])||Ln(t[i])&&!G4(t[i])?Fn(e)||I1(n[i])?n[i]=Array.isArray(t[i])?Bp(t[i],[]):{...Bp(t[i])}:Y4(t[i],Cr(e)?{}:e[i],n[i]):n[i]=!Da(t[i],e[i]);return n}var Qu=(t,e)=>Y4(t,e,Bp(e));const hw={value:!1,isValid:!1},fw={value:!0,isValid:!0};var Q4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Fn(t[0].attributes.value)?Fn(t[0].value)||t[0].value===""?fw:{value:t[0].value,isValid:!0}:fw:hw}return hw},J4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Fn(t)?t:e?t===""?NaN:t&&+t:n&&ys(t)?new Date(t):r?r(t):t;const pw={isValid:!1,value:null};var X4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pw):pw;function mw(t){const e=t.ref;return hy(e)?e.files:fy(e)?X4(t.refs).value:K4(e)?[...e.selectedOptions].map(({value:n})=>n):ch(e)?Q4(t.refs).value:J4(Fn(e.value)?t.ref.value:e.value,t)}var UE=(t,e,n,r)=>{const i={};for(const s of t){const a=nt(e,s);a&&en(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},zp=t=>t instanceof RegExp,Ju=t=>Fn(t)?t:zp(t)?t.source:Ln(t)?zp(t.value)?t.value.source:t.value:t,gw=t=>({isOnSubmit:!t||t===Ki.onSubmit,isOnBlur:t===Ki.onBlur,isOnChange:t===Ki.onChange,isOnAll:t===Ki.all,isOnTouch:t===Ki.onTouched});const vw="AsyncFunction";var qE=t=>!!t&&!!t.validate&&!!(Gi(t.validate)&&t.validate.constructor.name===vw||Ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vw)),$E=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),yw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const bd=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=nt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(bd(o,e))break}else if(Ln(o)&&bd(o,e))break}}};function ww(t,e,n){const r=nt(t,n);if(r||dy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=nt(e,s),o=nt(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var VE=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return kr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Ki.all))},HE=(t,e,n)=>!t||!e||t===e||xd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),WE=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,KE=(t,e)=>!xm(nt(t,e)).length&&Mn(t,e),GE=(t,e,n)=>{const r=xd(nt(t,n));return en(r,"root",e[n]),en(t,n,r),t},Gf=t=>ys(t);function xw(t,e,n="validate"){if(Gf(t)||Array.isArray(t)&&t.every(Gf)||hs(t)&&!t)return{type:n,message:Gf(t)?t:"",ref:e}}var Kl=t=>Ln(t)&&!zp(t)?t:{value:t,message:""},bw=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:f,min:h,max:g,pattern:m,validate:S,name:b,valueAsNumber:k,mount:y}=t._f,x=nt(n,b);if(!y||e.has(b))return{};const N=o?o[0]:a,E=F=>{i&&N.reportValidity&&(N.setCustomValidity(hs(F)?"":F||""),N.reportValidity())},L={},K=fy(a),V=ch(a),j=K||V,$=(k||hy(a))&&Fn(a.value)&&Fn(x)||Mp(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,J=RE.bind(null,b,r,L),C=(F,G,z,q=Os.maxLength,T=Os.minLength)=>{const X=F?G:z;L[b]={type:F?q:T,message:X,ref:a,...J(F?q:T,X)}};if(s?!Array.isArray(x)||!x.length:l&&(!j&&($||Cr(x))||hs(x)&&!x||V&&!Q4(o).isValid||K&&!X4(o).isValid)){const{value:F,message:G}=Gf(l)?{value:!!l,message:l}:Kl(l);if(F&&(L[b]={type:Os.required,message:G,ref:N,...J(Os.required,G)},!r))return E(G),L}if(!$&&(!Cr(h)||!Cr(g))){let F,G;const z=Kl(g),q=Kl(h);if(!Cr(x)&&!isNaN(x)){const T=a.valueAsNumber||x&&+x;Cr(z.value)||(F=T>z.value),Cr(q.value)||(G=T<q.value)}else{const T=a.valueAsDate||new Date(x),X=ee=>new Date(new Date().toDateString()+" "+ee),H=a.type=="time",R=a.type=="week";ys(z.value)&&x&&(F=H?X(x)>X(z.value):R?x>z.value:T>new Date(z.value)),ys(q.value)&&x&&(G=H?X(x)<X(q.value):R?x<q.value:T<new Date(q.value))}if((F||G)&&(C(!!F,z.message,q.message,Os.max,Os.min),!r))return E(L[b].message),L}if((u||f)&&!$&&(ys(x)||s&&Array.isArray(x))){const F=Kl(u),G=Kl(f),z=!Cr(F.value)&&x.length>+F.value,q=!Cr(G.value)&&x.length<+G.value;if((z||q)&&(C(z,F.message,G.message),!r))return E(L[b].message),L}if(m&&!$&&ys(x)){const{value:F,message:G}=Kl(m);if(zp(F)&&!x.match(F)&&(L[b]={type:Os.pattern,message:G,ref:a,...J(Os.pattern,G)},!r))return E(G),L}if(S){if(Gi(S)){const F=await S(x,n),G=xw(F,N);if(G&&(L[b]={...G,...J(Os.validate,G.message)},!r))return E(G.message),L}else if(Ln(S)){let F={};for(const G in S){if(!kr(F)&&!r)break;const z=xw(await S[G](x,n),N,G);z&&(F={...z,...J(G,z.message)},E(z.message),r&&(L[b]=F))}if(!kr(F)&&(L[b]={ref:N,...F},!r))return L}}return E(!0),L};const YE={mode:Ki.onSubmit,reValidateMode:Ki.onChange,shouldFocusError:!0};function QE(t={}){let e={...YE,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Ln(e.defaultValues)||Ln(e.values)?hr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:hr(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const g={array:dw(),state:dw()},m=gw(e.mode),S=gw(e.reValidateMode),b=e.criteriaMode===Ki.all,k=W=>se=>{clearTimeout(u),u=setTimeout(W,se)},y=async W=>{if(!e.disabled&&(f.isValid||h.isValid||W)){const se=e.resolver?kr((await $()).errors):await C(r,!0);se!==n.isValid&&g.state.next({isValid:se})}},x=(W,se)=>{!e.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((W||Array.from(o.mount)).forEach(ge=>{ge&&(se?en(n.validatingFields,ge,se):Mn(n.validatingFields,ge))}),g.state.next({validatingFields:n.validatingFields,isValidating:!kr(n.validatingFields)}))},N=(W,se=[],ge,je,Ne=!0,ke=!0)=>{if(je&&ge&&!e.disabled){if(a.action=!0,ke&&Array.isArray(nt(r,W))){const Ie=ge(nt(r,W),je.argA,je.argB);Ne&&en(r,W,Ie)}if(ke&&Array.isArray(nt(n.errors,W))){const Ie=ge(nt(n.errors,W),je.argA,je.argB);Ne&&en(n.errors,W,Ie),KE(n.errors,W)}if((f.touchedFields||h.touchedFields)&&ke&&Array.isArray(nt(n.touchedFields,W))){const Ie=ge(nt(n.touchedFields,W),je.argA,je.argB);Ne&&en(n.touchedFields,W,Ie)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Qu(i,s)),g.state.next({name:W,isDirty:G(W,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else en(s,W,se)},E=(W,se)=>{en(n.errors,W,se),g.state.next({errors:n.errors})},L=W=>{n.errors=W,g.state.next({errors:n.errors,isValid:!1})},K=(W,se,ge,je)=>{const Ne=nt(r,W);if(Ne){const ke=nt(s,W,Fn(ge)?nt(i,W):ge);Fn(ke)||je&&je.defaultChecked||se?en(s,W,se?ke:mw(Ne._f)):T(W,ke),a.mount&&y()}},V=(W,se,ge,je,Ne)=>{let ke=!1,Ie=!1;const qe={name:W};if(!e.disabled){if(!ge||je){(f.isDirty||h.isDirty)&&(Ie=n.isDirty,n.isDirty=qe.isDirty=G(),ke=Ie!==qe.isDirty);const Ze=Da(nt(i,W),se);Ie=!!nt(n.dirtyFields,W),Ze?Mn(n.dirtyFields,W):en(n.dirtyFields,W,!0),qe.dirtyFields=n.dirtyFields,ke=ke||(f.dirtyFields||h.dirtyFields)&&Ie!==!Ze}if(ge){const Ze=nt(n.touchedFields,W);Ze||(en(n.touchedFields,W,ge),qe.touchedFields=n.touchedFields,ke=ke||(f.touchedFields||h.touchedFields)&&Ze!==ge)}ke&&Ne&&g.state.next(qe)}return ke?qe:{}},j=(W,se,ge,je)=>{const Ne=nt(n.errors,W),ke=(f.isValid||h.isValid)&&hs(se)&&n.isValid!==se;if(e.delayError&&ge?(l=k(()=>E(W,ge)),l(e.delayError)):(clearTimeout(u),l=null,ge?en(n.errors,W,ge):Mn(n.errors,W)),(ge?!Da(Ne,ge):Ne)||!kr(je)||ke){const Ie={...je,...ke&&hs(se)?{isValid:se}:{},errors:n.errors,name:W};n={...n,...Ie},g.state.next(Ie)}},$=async W=>{x(W,!0);const se=await e.resolver(s,e.context,UE(W||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(W),se},J=async W=>{const{errors:se}=await $(W);if(W)for(const ge of W){const je=nt(se,ge);je?en(n.errors,ge,je):Mn(n.errors,ge)}else n.errors=se;return se},C=async(W,se,ge={valid:!0})=>{for(const je in W){const Ne=W[je];if(Ne){const{_f:ke,...Ie}=Ne;if(ke){const qe=o.array.has(ke.name),Ze=Ne._f&&qE(Ne._f);Ze&&f.validatingFields&&x([je],!0);const Me=await bw(Ne,o.disabled,s,b,e.shouldUseNativeValidation&&!se,qe);if(Ze&&f.validatingFields&&x([je]),Me[ke.name]&&(ge.valid=!1,se))break;!se&&(nt(Me,ke.name)?qe?GE(n.errors,Me,ke.name):en(n.errors,ke.name,Me[ke.name]):Mn(n.errors,ke.name))}!kr(Ie)&&await C(Ie,se,ge)}}return ge.valid},F=()=>{for(const W of o.unMount){const se=nt(r,W);se&&(se._f.refs?se._f.refs.every(ge=>!Xg(ge)):!Xg(se._f.ref))&&we(W)}o.unMount=new Set},G=(W,se)=>!e.disabled&&(W&&se&&en(s,W,se),!Da(A(),i)),z=(W,se,ge)=>IE(W,o,{...a.mount?s:Fn(se)?i:ys(W)?{[W]:se}:se},ge,se),q=W=>xm(nt(a.mount?s:i,W,e.shouldUnregister?nt(i,W,[]):[])),T=(W,se,ge={})=>{const je=nt(r,W);let Ne=se;if(je){const ke=je._f;ke&&(!ke.disabled&&en(s,W,J4(se,ke)),Ne=Mp(ke.ref)&&Cr(se)?"":se,K4(ke.ref)?[...ke.ref.options].forEach(Ie=>Ie.selected=Ne.includes(Ie.value)):ke.refs?ch(ke.ref)?ke.refs.length>1?ke.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Ne)?!!Ne.find(qe=>qe===Ie.value):Ne===Ie.value)):ke.refs[0]&&(ke.refs[0].checked=!!Ne):ke.refs.forEach(Ie=>Ie.checked=Ie.value===Ne):hy(ke.ref)?ke.ref.value="":(ke.ref.value=Ne,ke.ref.type||g.state.next({name:W,values:hr(s)})))}(ge.shouldDirty||ge.shouldTouch)&&V(W,Ne,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&fe(W)},X=(W,se,ge)=>{for(const je in se){const Ne=se[je],ke=`${W}.${je}`,Ie=nt(r,ke);(o.array.has(W)||Ln(Ne)||Ie&&!Ie._f)&&!Oo(Ne)?X(ke,Ne,ge):T(ke,Ne,ge)}},H=(W,se,ge={})=>{const je=nt(r,W),Ne=o.array.has(W),ke=hr(se);en(s,W,ke),Ne?(g.array.next({name:W,values:hr(s)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ge.shouldDirty&&g.state.next({name:W,dirtyFields:Qu(i,s),isDirty:G(W,ke)})):je&&!je._f&&!Cr(ke)?X(W,ke,ge):T(W,ke,ge),yw(W,o)&&g.state.next({...n}),g.state.next({name:a.mount?W:void 0,values:hr(s)})},R=async W=>{a.mount=!0;const se=W.target;let ge=se.name,je=!0;const Ne=nt(r,ge),ke=Ie=>{je=Number.isNaN(Ie)||Oo(Ie)&&isNaN(Ie.getTime())||Da(Ie,nt(s,ge,Ie))};if(Ne){let Ie,qe;const Ze=se.type?mw(Ne._f):PE(W),Me=W.type===uw.BLUR||W.type===uw.FOCUS_OUT,Jt=!$E(Ne._f)&&!e.resolver&&!nt(n.errors,ge)&&!Ne._f.deps||WE(Me,nt(n.touchedFields,ge),n.isSubmitted,S,m),bt=yw(ge,o,Me);en(s,ge,Ze),Me?(Ne._f.onBlur&&Ne._f.onBlur(W),l&&l(0)):Ne._f.onChange&&Ne._f.onChange(W);const Yn=V(ge,Ze,Me),Et=!kr(Yn)||bt;if(!Me&&g.state.next({name:ge,type:W.type,values:hr(s)}),Jt)return(f.isValid||h.isValid)&&(e.mode==="onBlur"?Me&&y():Me||y()),Et&&g.state.next({name:ge,...bt?{}:Yn});if(!Me&&bt&&g.state.next({...n}),e.resolver){const{errors:Tt}=await $([ge]);if(ke(Ze),je){const Dr=ww(n.errors,r,ge),St=ww(Tt,r,Dr.name||ge);Ie=St.error,ge=St.name,qe=kr(Tt)}}else x([ge],!0),Ie=(await bw(Ne,o.disabled,s,b,e.shouldUseNativeValidation))[ge],x([ge]),ke(Ze),je&&(Ie?qe=!1:(f.isValid||h.isValid)&&(qe=await C(r,!0)));je&&(Ne._f.deps&&fe(Ne._f.deps),j(ge,qe,Ie,Yn))}},ee=(W,se)=>{if(nt(n.errors,se)&&W.focus)return W.focus(),1},fe=async(W,se={})=>{let ge,je;const Ne=xd(W);if(e.resolver){const ke=await J(Fn(W)?W:Ne);ge=kr(ke),je=W?!Ne.some(Ie=>nt(ke,Ie)):ge}else W?(je=(await Promise.all(Ne.map(async ke=>{const Ie=nt(r,ke);return await C(Ie&&Ie._f?{[ke]:Ie}:Ie)}))).every(Boolean),!(!je&&!n.isValid)&&y()):je=ge=await C(r);return g.state.next({...!ys(W)||(f.isValid||h.isValid)&&ge!==n.isValid?{}:{name:W},...e.resolver||!W?{isValid:ge}:{},errors:n.errors}),se.shouldFocus&&!je&&bd(r,ee,W?Ne:o.mount),je},A=W=>{const se={...a.mount?s:i};return Fn(W)?se:ys(W)?nt(se,W):W.map(ge=>nt(se,ge))},B=(W,se)=>({invalid:!!nt((se||n).errors,W),isDirty:!!nt((se||n).dirtyFields,W),error:nt((se||n).errors,W),isValidating:!!nt(n.validatingFields,W),isTouched:!!nt((se||n).touchedFields,W)}),Y=W=>{W&&xd(W).forEach(se=>Mn(n.errors,se)),g.state.next({errors:W?n.errors:{}})},ne=(W,se,ge)=>{const je=(nt(r,W,{_f:{}})._f||{}).ref,Ne=nt(n.errors,W)||{},{ref:ke,message:Ie,type:qe,...Ze}=Ne;en(n.errors,W,{...Ze,...se,ref:je}),g.state.next({name:W,errors:n.errors,isValid:!1}),ge&&ge.shouldFocus&&je&&je.focus&&je.focus()},re=(W,se)=>Gi(W)?g.state.subscribe({next:ge=>W(z(void 0,se),ge)}):z(W,se,!0),de=W=>g.state.subscribe({next:se=>{HE(W.name,se.name,W.exact)&&VE(se,W.formState||f,Ee,W.reRenderRoot)&&W.callback({values:{...s},...n,...se})}}).unsubscribe,me=W=>(a.mount=!0,h={...h,...W.formState},de({...W,formState:h})),we=(W,se={})=>{for(const ge of W?xd(W):o.mount)o.mount.delete(ge),o.array.delete(ge),se.keepValue||(Mn(r,ge),Mn(s,ge)),!se.keepError&&Mn(n.errors,ge),!se.keepDirty&&Mn(n.dirtyFields,ge),!se.keepTouched&&Mn(n.touchedFields,ge),!se.keepIsValidating&&Mn(n.validatingFields,ge),!e.shouldUnregister&&!se.keepDefaultValue&&Mn(i,ge);g.state.next({values:hr(s)}),g.state.next({...n,...se.keepDirty?{isDirty:G()}:{}}),!se.keepIsValid&&y()},Oe=({disabled:W,name:se})=>{(hs(W)&&a.mount||W||o.disabled.has(se))&&(W?o.disabled.add(se):o.disabled.delete(se))},Fe=(W,se={})=>{let ge=nt(r,W);const je=hs(se.disabled)||hs(e.disabled);return en(r,W,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:W}},name:W,mount:!0,...se}}),o.mount.add(W),ge?Oe({disabled:hs(se.disabled)?se.disabled:e.disabled,name:W}):K(W,!0,se.value),{...je?{disabled:se.disabled||e.disabled}:{},...e.progressive?{required:!!se.required,min:Ju(se.min),max:Ju(se.max),minLength:Ju(se.minLength),maxLength:Ju(se.maxLength),pattern:Ju(se.pattern)}:{},name:W,onChange:R,onBlur:R,ref:Ne=>{if(Ne){Fe(W,se),ge=nt(r,W);const ke=Fn(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Ie=ME(ke),qe=ge._f.refs||[];if(Ie?qe.find(Ze=>Ze===ke):ke===ge._f.ref)return;en(r,W,{_f:{...ge._f,...Ie?{refs:[...qe.filter(Xg),ke,...Array.isArray(nt(i,W))?[{}]:[]],ref:{type:ke.type,name:W}}:{ref:ke}}}),K(W,!1,void 0,ke)}else ge=nt(r,W,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(DE(o.array,W)&&a.action)&&o.unMount.add(W)}}},Be=()=>e.shouldFocusError&&bd(r,ee,o.mount),$e=W=>{hs(W)&&(g.state.next({disabled:W}),bd(r,(se,ge)=>{const je=nt(r,ge);je&&(se.disabled=je._f.disabled||W,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ne=>{Ne.disabled=je._f.disabled||W}))},0,!1))},rt=(W,se)=>async ge=>{let je;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let Ne=hr(s);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:Ie}=await $();n.errors=ke,Ne=Ie}else await C(r);if(o.disabled.size)for(const ke of o.disabled)en(Ne,ke,void 0);if(Mn(n.errors,"root"),kr(n.errors)){g.state.next({errors:{}});try{await W(Ne,ge)}catch(ke){je=ke}}else se&&await se({...n.errors},ge),Be(),setTimeout(Be);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kr(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je},be=(W,se={})=>{nt(r,W)&&(Fn(se.defaultValue)?H(W,hr(nt(i,W))):(H(W,se.defaultValue),en(i,W,hr(se.defaultValue))),se.keepTouched||Mn(n.touchedFields,W),se.keepDirty||(Mn(n.dirtyFields,W),n.isDirty=se.defaultValue?G(W,hr(nt(i,W))):G()),se.keepError||(Mn(n.errors,W),f.isValid&&y()),g.state.next({...n}))},te=(W,se={})=>{const ge=W?hr(W):i,je=hr(ge),Ne=kr(W),ke=Ne?i:je;if(se.keepDefaultValues||(i=ge),!se.keepValues){if(se.keepDirtyValues){const Ie=new Set([...o.mount,...Object.keys(Qu(i,s))]);for(const qe of Array.from(Ie))nt(n.dirtyFields,qe)?en(ke,qe,nt(s,qe)):H(qe,nt(ke,qe))}else{if(uy&&Fn(W))for(const Ie of o.mount){const qe=nt(r,Ie);if(qe&&qe._f){const Ze=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Mp(Ze)){const Me=Ze.closest("form");if(Me){Me.reset();break}}}}for(const Ie of o.mount)H(Ie,nt(ke,Ie))}s=hr(ke),g.array.next({values:{...ke}}),g.state.next({values:{...ke}})}o={mount:se.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!se.keepIsValid||!!se.keepDirtyValues,a.watch=!!e.shouldUnregister,g.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Ne?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!Da(W,i)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ne?{}:se.keepDirtyValues?se.keepDefaultValues&&s?Qu(i,s):n.dirtyFields:se.keepDefaultValues&&W?Qu(i,W):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},it=(W,se)=>te(Gi(W)?W(s):W,se),Ye=(W,se={})=>{const ge=nt(r,W),je=ge&&ge._f;if(je){const Ne=je.refs?je.refs[0]:je.ref;Ne.focus&&(Ne.focus(),se.shouldSelect&&Gi(Ne.select)&&Ne.select())}},Ee=W=>{n={...n,...W}},Ve={control:{register:Fe,unregister:we,getFieldState:B,handleSubmit:rt,setError:ne,_subscribe:de,_runSchema:$,_getWatch:z,_getDirty:G,_setValid:y,_setFieldArray:N,_setDisabledField:Oe,_setErrors:L,_getFieldArray:q,_reset:te,_resetDefaultValues:()=>Gi(e.defaultValues)&&e.defaultValues().then(W=>{it(W,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:$e,_subjects:g,_proxyFormState:f,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(W){a=W},get _defaultValues(){return i},get _names(){return o},set _names(W){o=W},get _formState(){return n},get _options(){return e},set _options(W){e={...e,...W}}},subscribe:me,trigger:fe,register:Fe,handleSubmit:rt,watch:re,setValue:H,getValues:A,reset:it,resetField:be,clearErrors:Y,unregister:we,setError:ne,setFocus:Ye,getFieldState:B};return{...Ve,formControl:Ve}}function uh(t={}){const e=Ce.useRef(void 0),n=Ce.useRef(void 0),[r,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:Gi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Gi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:QE(t),formState:r},t.formControl&&t.defaultValues&&!Gi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,OE(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!kr(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Ce.useEffect(()=>{t.values&&!Da(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=TE(r,s),e.current}const JE=({isOpen:t,onClose:e,onSubmit:n,booking:r,clients:i=[],vehicles:s=[],agents:a=[],isSubmitting:o=!1})=>{const{t:l}=In(),u=j=>{try{const $=no(j);return vt($,"yyyy-MM-dd'T'HH:mm")}catch{return vt(new Date,"yyyy-MM-dd'T'HH:mm")}},{register:f,handleSubmit:h,formState:{errors:g},watch:m,reset:S,setValue:b,trigger:k}=uh({defaultValues:r?{clientId:r.clientId,clientName:r.clientName,vehicleId:r.vehicleId,vehicle:r.vehicle,startDate:u(r.startDate),endDate:u(r.endDate),status:r.status,paymentStatus:r.paymentStatus,amount:r.amount,agentId:r.agentId,agentName:r.agentName,commission:r.commission||0,commissionRate:r.commissionRate||.08,pickupLocation:r.pickupLocation||"",returnLocation:r.returnLocation||""}:{clientId:"",clientName:"",vehicleId:"",vehicle:"",startDate:vt(new Date,"yyyy-MM-dd'T'HH:mm"),endDate:vt(F1(new Date,1),"yyyy-MM-dd'T'HH:mm"),status:"pending",paymentStatus:"pending",agentId:"",agentName:"",commission:0,commissionRate:.08,amount:0,pickupLocation:"",returnLocation:""}}),y=m("amount"),x=m("commissionRate"),N=m("vehicleId");ce.useEffect(()=>{y&&x&&b("commission",Number((y*x).toFixed(2)))},[y,x,b]),ce.useEffect(()=>{if(N){const j=s.find($=>$.id===N);j&&j.price&&(b("amount",j.price),b("vehicle",j.name))}},[N,s,b]),ce.useEffect(()=>{r?(b("startDate",u(r.startDate)),b("endDate",u(r.endDate)),Object.entries(r).forEach(([j,$])=>{j!=="id"&&j!=="startDate"&&j!=="endDate"&&j in r&&b(j,$)})):S({clientId:"",clientName:"",vehicleId:"",vehicle:"",startDate:vt(new Date,"yyyy-MM-dd'T'HH:mm"),endDate:vt(F1(new Date,1),"yyyy-MM-dd'T'HH:mm"),status:"pending",paymentStatus:"pending",agentId:"",agentName:"",commission:0,commissionRate:.08,amount:0,pickupLocation:"",returnLocation:""})},[r,b,S]);const E=j=>{const $=j.target.value;b("clientId",$);const J=i.find(C=>C.id===$);J&&b("clientName",J.name)},L=j=>{const $=j.target.value;b("agentId",$);const J=a.find(C=>C.id===$);J&&b("agentName",J.name)},K=j=>{const $=j.target.value,J=parseFloat($);!isNaN(J)&&J>=0&&J<=1&&(b("commissionRate",J),k("commissionRate"))},V=j=>{n(j)};return t?c.jsx("div",{className:"modal-overlay",onClick:j=>j.target===j.currentTarget&&e(),children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:l(r?"bookingDialog.editBooking":"bookingDialog.addBooking")}),c.jsx("button",{className:"close-button",onClick:e,disabled:o,children:c.jsx(al,{size:20})})]}),c.jsxs("form",{onSubmit:h(V),children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"clientId",children:l("bookingDialog.client")}),c.jsxs("select",{id:"clientId",className:`form-input bg-white ${g.clientId?"error":""}`,disabled:o,...f("clientId",{required:"Client is required"}),onChange:E,children:[c.jsx("option",{value:"",children:l("bookingDialog.selectClient")}),i.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id))]}),g.clientId&&c.jsx("span",{className:"error-message",children:g.clientId.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"vehicleId",children:l("bookingDialog.vehicle")}),c.jsxs("select",{id:"vehicleId",className:`form-input bg-white ${g.vehicleId?"error":""}`,disabled:o,...f("vehicleId",{required:"Vehicle is required"}),children:[c.jsx("option",{value:"",children:l("bookingDialog.selectVehicle")}),s.map(j=>c.jsxs("option",{value:j.id,children:[j.name," - $",j.price,"/day"]},j.id))]}),g.vehicleId&&c.jsx("span",{className:"error-message",children:g.vehicleId.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"agentId",children:l("bookingDialog.agent")}),c.jsxs("select",{id:"agentId",className:`form-input bg-white ${g.agentId?"error":""}`,disabled:o,...f("agentId",{required:"Agent is required"}),onChange:L,children:[c.jsx("option",{value:"",children:l("bookingDialog.selectAgent")}),a.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id))]}),g.agentId&&c.jsx("span",{className:"error-message",children:g.agentId.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"startDate",children:l("bookingDialog.startDate")}),c.jsx("input",{type:"datetime-local",id:"startDate",className:`form-input ${g.startDate?"error":""}`,disabled:o,...f("startDate",{required:"Start date is required"})}),g.startDate&&c.jsx("span",{className:"error-message",children:g.startDate.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"endDate",children:l("bookingDialog.endDate")}),c.jsx("input",{type:"datetime-local",id:"endDate",className:`form-input ${g.endDate?"error":""}`,disabled:o,...f("endDate",{required:"End date is required"})}),g.endDate&&c.jsx("span",{className:"error-message",children:g.endDate.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"status",children:l("bookingDialog.status")}),c.jsxs("select",{id:"status",className:`form-input bg-white ${g.status?"error":""}`,disabled:o,...f("status",{required:"Status is required"}),children:[c.jsx("option",{value:"confirmed",children:l("bookingDialog.confirmed")}),c.jsx("option",{value:"pending",children:l("bookingDialog.pending")}),c.jsx("option",{value:"completed",children:l("bookingDialog.completed")}),c.jsx("option",{value:"cancelled",children:l("bookingDialog.cancelled")})]}),g.status&&c.jsx("span",{className:"error-message",children:g.status.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"paymentStatus",children:l("bookingDialog.payment")}),c.jsxs("select",{id:"paymentStatus",className:`form-input bg-white ${g.paymentStatus?"error":""}`,disabled:o,...f("paymentStatus",{required:"Payment status is required"}),children:[c.jsx("option",{value:"paid",children:l("bookingDialog.paid")}),c.jsx("option",{value:"pending",children:l("bookingDialog.paymentPending")})]}),g.paymentStatus&&c.jsx("span",{className:"error-message",children:g.paymentStatus.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"amount",children:l("bookingDialog.amount")}),c.jsx("input",{type:"number",id:"amount",className:`form-input ${g.amount?"error":""}`,min:"0",step:"0.01",disabled:o,...f("amount",{required:"Amount is required",min:{value:0,message:"Amount must be positive"},valueAsNumber:!0})}),g.amount&&c.jsx("span",{className:"error-message",children:g.amount.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"commissionRate",children:"Commission Rate (0-1)"}),c.jsx("input",{type:"number",id:"commissionRate",className:`form-input ${g.commissionRate?"error":""}`,min:"0",max:"1",step:"0.01",disabled:o,...f("commissionRate",{required:"Commission rate is required",min:{value:0,message:"Rate must be between 0 and 1"},max:{value:1,message:"Rate must be between 0 and 1"},valueAsNumber:!0,onChange:K})}),g.commissionRate&&c.jsx("span",{className:"error-message",children:g.commissionRate.message}),c.jsx("small",{className:"form-hint",children:"Enter as decimal (e.g., 0.08 for 8%)"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"commission",children:"Commission Amount ($)"}),c.jsx("input",{type:"number",id:"commission",className:"form-input",readOnly:!0,disabled:!0,...f("commission",{valueAsNumber:!0})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"pickupLocation",children:l("bookingDialog.pickupLocation")}),c.jsx("input",{type:"text",id:"pickupLocation",className:`form-input ${g.pickupLocation?"error":""}`,disabled:o,...f("pickupLocation",{required:"Pickup location is required"})}),g.pickupLocation&&c.jsx("span",{className:"error-message",children:g.pickupLocation.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"returnLocation",children:l("bookingDialog.returnLocation")}),c.jsx("input",{type:"text",id:"returnLocation",className:`form-input ${g.returnLocation?"error":""}`,disabled:o,...f("returnLocation",{required:"Return location is required"})}),g.returnLocation&&c.jsx("span",{className:"error-message",children:g.returnLocation.message})]})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:o,children:l("bookingDialog.cancel")}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:l(o?"bookingDialog.saving":"bookingDialog.save")})]})]})]})}):null};function Bt(t){"@babel/helpers - typeof";return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(t)}var mr=Uint8Array,si=Uint16Array,py=Int32Array,bm=new mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sm=new mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R1=new mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z4=function(t,e){for(var n=new si(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new py(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},eS=Z4(bm,2),tS=eS.b,M1=eS.r;tS[28]=258,M1[258]=28;var nS=Z4(Sm,0),XE=nS.b,Sw=nS.r,B1=new si(32768);for(var tn=0;tn<32768;++tn){var xa=(tn&43690)>>1|(tn&21845)<<1;xa=(xa&52428)>>2|(xa&13107)<<2,xa=(xa&61680)>>4|(xa&3855)<<4,B1[tn]=((xa&65280)>>8|(xa&255)<<8)>>1}var Ss=function(t,e,n){for(var r=t.length,i=0,s=new si(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new si(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new si(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],h=a[t[i]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)o[B1[h]>>l]=u}else for(o=new si(r),i=0;i<r;++i)t[i]&&(o[i]=B1[a[t[i]-1]++]>>15-t[i]);return o},so=new mr(288);for(var tn=0;tn<144;++tn)so[tn]=8;for(var tn=144;tn<256;++tn)so[tn]=9;for(var tn=256;tn<280;++tn)so[tn]=7;for(var tn=280;tn<288;++tn)so[tn]=8;var Gd=new mr(32);for(var tn=0;tn<32;++tn)Gd[tn]=5;var ZE=Ss(so,9,0),e7=Ss(so,9,1),t7=Ss(Gd,5,0),n7=Ss(Gd,5,1),Zg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ri=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},e0=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},my=function(t){return(t+7)/8|0},rS=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new mr(t.subarray(e,n))},r7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zi=function(t,e,n){var r=new Error(e||r7[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,zi),!n)throw r;return r},i7=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new mr(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new mr(i*3));var u=function(Fe){var Be=n.length;if(Fe>Be){var $e=new mr(Math.max(Be*2,Fe));$e.set(n),n=$e}},f=e.f||0,h=e.p||0,g=e.b||0,m=e.l,S=e.d,b=e.m,k=e.n,y=i*8;do{if(!m){f=Ri(t,h,1);var x=Ri(t,h+1,3);if(h+=3,x)if(x==1)m=e7,S=n7,b=9,k=5;else if(x==2){var K=Ri(t,h,31)+257,V=Ri(t,h+10,15)+4,j=K+Ri(t,h+5,31)+1;h+=14;for(var $=new mr(j),J=new mr(19),C=0;C<V;++C)J[R1[C]]=Ri(t,h+C*3,7);h+=V*3;for(var F=Zg(J),G=(1<<F)-1,z=Ss(J,F,1),C=0;C<j;){var q=z[Ri(t,h,G)];h+=q&15;var N=q>>4;if(N<16)$[C++]=N;else{var T=0,X=0;for(N==16?(X=3+Ri(t,h,3),h+=2,T=$[C-1]):N==17?(X=3+Ri(t,h,7),h+=3):N==18&&(X=11+Ri(t,h,127),h+=7);X--;)$[C++]=T}}var H=$.subarray(0,K),R=$.subarray(K);b=Zg(H),k=Zg(R),m=Ss(H,b,1),S=Ss(R,k,1)}else zi(1);else{var N=my(h)+4,E=t[N-4]|t[N-3]<<8,L=N+E;if(L>i){l&&zi(0);break}o&&u(g+E),n.set(t.subarray(N,L),g),e.b=g+=E,e.p=h=L*8,e.f=f;continue}if(h>y){l&&zi(0);break}}o&&u(g+131072);for(var ee=(1<<b)-1,fe=(1<<k)-1,A=h;;A=h){var T=m[e0(t,h)&ee],B=T>>4;if(h+=T&15,h>y){l&&zi(0);break}if(T||zi(2),B<256)n[g++]=B;else if(B==256){A=h,m=null;break}else{var Y=B-254;if(B>264){var C=B-257,ne=bm[C];Y=Ri(t,h,(1<<ne)-1)+tS[C],h+=ne}var re=S[e0(t,h)&fe],de=re>>4;re||zi(3),h+=re&15;var R=XE[de];if(de>3){var ne=Sm[de];R+=e0(t,h)&(1<<ne)-1,h+=ne}if(h>y){l&&zi(0);break}o&&u(g+131072);var me=g+Y;if(g<R){var we=s-R,Oe=Math.min(R,me);for(we+g<0&&zi(3);g<Oe;++g)n[g]=r[we+g]}for(;g<me;++g)n[g]=n[g-R]}}e.l=m,e.p=A,e.b=g,e.f=f,m&&(f=1,e.m=b,e.d=S,e.n=k)}while(!f);return g!=n.length&&a?rS(n,0,g):n.subarray(0,g)},Is=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Xu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},t0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:sS,l:0};if(i==1){var a=new mr(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(L,K){return L.f-K.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,f=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=n[n[u].f<n[h].f?u++:h++],l=n[u!=f&&n[u].f<n[h].f?u++:h++],n[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new si(g+1),S=z1(n[f-1],m,0);if(S>e){var r=0,b=0,k=S-e,y=1<<k;for(s.sort(function(K,V){return m[V.s]-m[K.s]||K.f-V.f});r<i;++r){var x=s[r].s;if(m[x]>e)b+=y-(1<<S-m[x]),m[x]=e;else break}for(b>>=k;b>0;){var N=s[r].s;m[N]<e?b-=1<<e-m[N]++-1:++r}for(;r>=0&&b;--r){var E=s[r].s;m[E]==e&&(--m[E],++b)}S=e}return{t:new mr(m),l:S}},z1=function(t,e,n){return t.s==-1?Math.max(z1(t.l,e,n+1),z1(t.r,e,n+1)):e[t.s]=n},Nw=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new si(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Zu=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},iS=function(t,e,n){var r=n.length,i=my(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},_w=function(t,e,n,r,i,s,a,o,l,u,f){Is(e,f++,n),++i[256];for(var h=t0(i,15),g=h.t,m=h.l,S=t0(s,15),b=S.t,k=S.l,y=Nw(g),x=y.c,N=y.n,E=Nw(b),L=E.c,K=E.n,V=new si(19),j=0;j<x.length;++j)++V[x[j]&31];for(var j=0;j<L.length;++j)++V[L[j]&31];for(var $=t0(V,7),J=$.t,C=$.l,F=19;F>4&&!J[R1[F-1]];--F);var G=u+5<<3,z=Zu(i,so)+Zu(s,Gd)+a,q=Zu(i,g)+Zu(s,b)+a+14+3*F+Zu(V,J)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&G<=z&&G<=q)return iS(e,f,t.subarray(l,l+u));var T,X,H,R;if(Is(e,f,1+(q<z)),f+=2,q<z){T=Ss(g,m,0),X=g,H=Ss(b,k,0),R=b;var ee=Ss(J,C,0);Is(e,f,N-257),Is(e,f+5,K-1),Is(e,f+10,F-4),f+=14;for(var j=0;j<F;++j)Is(e,f+3*j,J[R1[j]]);f+=3*F;for(var fe=[x,L],A=0;A<2;++A)for(var B=fe[A],j=0;j<B.length;++j){var Y=B[j]&31;Is(e,f,ee[Y]),f+=J[Y],Y>15&&(Is(e,f,B[j]>>5&127),f+=B[j]>>12)}}else T=ZE,X=so,H=t7,R=Gd;for(var j=0;j<o;++j){var ne=r[j];if(ne>255){var Y=ne>>18&31;Xu(e,f,T[Y+257]),f+=X[Y+257],Y>7&&(Is(e,f,ne>>23&31),f+=bm[Y]);var re=ne&31;Xu(e,f,H[re]),f+=R[re],re>3&&(Xu(e,f,ne>>5&8191),f+=Sm[re])}else Xu(e,f,T[ne]),f+=X[ne]}return Xu(e,f,T[256]),f+X[256]},s7=new py([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sS=new mr(0),a7=function(t,e,n,r,i,s){var a=s.z||t.length,o=new mr(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var h=s7[e-1],g=h>>13,m=h&8191,S=(1<<n)-1,b=s.p||new si(32768),k=s.h||new si(S+1),y=Math.ceil(n/3),x=2*y,N=function(rt){return(t[rt]^t[rt+1]<<y^t[rt+2]<<x)&S},E=new py(25e3),L=new si(288),K=new si(32),V=0,j=0,$=s.i||0,J=0,C=s.w||0,F=0;$+2<a;++$){var G=N($),z=$&32767,q=k[G];if(b[z]=q,k[G]=z,C<=$){var T=a-$;if((V>7e3||J>24576)&&(T>423||!u)){f=_w(t,l,0,E,L,K,j,J,F,$-F,f),J=V=j=0,F=$;for(var X=0;X<286;++X)L[X]=0;for(var X=0;X<30;++X)K[X]=0}var H=2,R=0,ee=m,fe=z-q&32767;if(T>2&&G==N($-fe))for(var A=Math.min(g,T)-1,B=Math.min(32767,$),Y=Math.min(258,T);fe<=B&&--ee&&z!=q;){if(t[$+H]==t[$+H-fe]){for(var ne=0;ne<Y&&t[$+ne]==t[$+ne-fe];++ne);if(ne>H){if(H=ne,R=fe,ne>A)break;for(var re=Math.min(fe,ne-2),de=0,X=0;X<re;++X){var me=$-fe+X&32767,we=b[me],Oe=me-we&32767;Oe>de&&(de=Oe,q=me)}}}z=q,q=b[z],fe+=z-q&32767}if(R){E[J++]=268435456|M1[H]<<18|Sw[R];var Fe=M1[H]&31,Be=Sw[R]&31;j+=bm[Fe]+Sm[Be],++L[257+Fe],++K[Be],C=$+H,++V}else E[J++]=t[$],++L[t[$]]}}for($=Math.max($,C);$<a;++$)E[J++]=t[$],++L[t[$]];f=_w(t,l,u,E,L,K,j,J,F,$-F,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=k,s.p=b,s.i=$,s.w=C)}else{for(var $=s.w||0;$<a+u;$+=65535){var $e=$+65535;$e>=a&&(l[f/8|0]=u,$e=a),f=iS(l,f+1,t.subarray($,$e))}s.i=a}return rS(o,0,r+my(f)+i)},aS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},o7=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new mr(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return a7(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},oS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},l7=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=aS();i.p(e.dictionary),oS(t,2,i.d())}},c7=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&zi(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&zi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function U1(t,e){e||(e={});var n=aS();n.p(t);var r=o7(t,e,e.dictionary?6:2,4);return l7(r,e),oS(r,r.length-4,n.d()),r}function u7(t,e){return i7(t.subarray(c7(t,e),-4),{i:2},e,e)}var d7=typeof TextDecoder<"u"&&new TextDecoder,h7=0;try{d7.decode(sS,{stream:!0}),h7=1}catch{}var dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function n0(){dt.console&&typeof dt.console.log=="function"&&dt.console.log.apply(dt.console,arguments)}var Ht={log:n0,warn:function(t){dt.console&&(typeof dt.console.warn=="function"?dt.console.warn.apply(dt.console,arguments):n0.call(null,arguments))},error:function(t){dt.console&&(typeof dt.console.error=="function"?dt.console.error.apply(dt.console,arguments):n0(t))}};function r0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Lo(r.response,e,n)},r.onerror=function(){Ht.error("could not download file")},r.send()}function kw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sd,q1,Lo=dt.saveAs||((typeof window>"u"?"undefined":Bt(window))!=="object"||window!==dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=dt.URL||dt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?kw(i.href)?r0(t,e,n):Lf(i,i.target="_blank"):Lf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(kw(t))r0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Lf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Bt(s)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return r0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(dt.HTMLElement)||dt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Bt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(t)}else{var l=dt.URL||dt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function i0(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=lr(n,r,i,s,e[0],7,-680876936),s=lr(s,n,r,i,e[1],12,-389564586),i=lr(i,s,n,r,e[2],17,606105819),r=lr(r,i,s,n,e[3],22,-1044525330),n=lr(n,r,i,s,e[4],7,-176418897),s=lr(s,n,r,i,e[5],12,1200080426),i=lr(i,s,n,r,e[6],17,-1473231341),r=lr(r,i,s,n,e[7],22,-45705983),n=lr(n,r,i,s,e[8],7,1770035416),s=lr(s,n,r,i,e[9],12,-1958414417),i=lr(i,s,n,r,e[10],17,-42063),r=lr(r,i,s,n,e[11],22,-1990404162),n=lr(n,r,i,s,e[12],7,1804603682),s=lr(s,n,r,i,e[13],12,-40341101),i=lr(i,s,n,r,e[14],17,-1502002290),n=cr(n,r=lr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=cr(s,n,r,i,e[6],9,-1069501632),i=cr(i,s,n,r,e[11],14,643717713),r=cr(r,i,s,n,e[0],20,-373897302),n=cr(n,r,i,s,e[5],5,-701558691),s=cr(s,n,r,i,e[10],9,38016083),i=cr(i,s,n,r,e[15],14,-660478335),r=cr(r,i,s,n,e[4],20,-405537848),n=cr(n,r,i,s,e[9],5,568446438),s=cr(s,n,r,i,e[14],9,-1019803690),i=cr(i,s,n,r,e[3],14,-187363961),r=cr(r,i,s,n,e[8],20,1163531501),n=cr(n,r,i,s,e[13],5,-1444681467),s=cr(s,n,r,i,e[2],9,-51403784),i=cr(i,s,n,r,e[7],14,1735328473),n=ur(n,r=cr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ur(s,n,r,i,e[8],11,-2022574463),i=ur(i,s,n,r,e[11],16,1839030562),r=ur(r,i,s,n,e[14],23,-35309556),n=ur(n,r,i,s,e[1],4,-1530992060),s=ur(s,n,r,i,e[4],11,1272893353),i=ur(i,s,n,r,e[7],16,-155497632),r=ur(r,i,s,n,e[10],23,-1094730640),n=ur(n,r,i,s,e[13],4,681279174),s=ur(s,n,r,i,e[0],11,-358537222),i=ur(i,s,n,r,e[3],16,-722521979),r=ur(r,i,s,n,e[6],23,76029189),n=ur(n,r,i,s,e[9],4,-640364487),s=ur(s,n,r,i,e[12],11,-421815835),i=ur(i,s,n,r,e[15],16,530742520),n=dr(n,r=ur(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=dr(s,n,r,i,e[7],10,1126891415),i=dr(i,s,n,r,e[14],15,-1416354905),r=dr(r,i,s,n,e[5],21,-57434055),n=dr(n,r,i,s,e[12],6,1700485571),s=dr(s,n,r,i,e[3],10,-1894986606),i=dr(i,s,n,r,e[10],15,-1051523),r=dr(r,i,s,n,e[1],21,-2054922799),n=dr(n,r,i,s,e[8],6,1873313359),s=dr(s,n,r,i,e[15],10,-30611744),i=dr(i,s,n,r,e[6],15,-1560198380),r=dr(r,i,s,n,e[13],21,1309151649),n=dr(n,r,i,s,e[4],6,-145523070),s=dr(s,n,r,i,e[11],10,-1120210379),i=dr(i,s,n,r,e[2],15,718787259),r=dr(r,i,s,n,e[9],21,-343485551),t[0]=Wa(n,t[0]),t[1]=Wa(r,t[1]),t[2]=Wa(i,t[2]),t[3]=Wa(s,t[3])}function Nm(t,e,n,r,i,s){return e=Wa(Wa(e,t),Wa(r,s)),Wa(e<<i|e>>>32-i,n)}function lr(t,e,n,r,i,s,a){return Nm(e&n|~e&r,t,e,i,s,a)}function cr(t,e,n,r,i,s,a){return Nm(e&r|n&~r,t,e,i,s,a)}function ur(t,e,n,r,i,s,a){return Nm(e^n^r,t,e,i,s,a)}function dr(t,e,n,r,i,s,a){return Nm(n^(e|~r),t,e,i,s,a)}function cS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)i0(r,f7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(i0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,i0(r,i),r}function f7(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Sd=dt.atob.bind(dt),q1=dt.btoa.bind(dt);var jw="0123456789abcdef".split("");function p7(t){for(var e="",n=0;n<4;n++)e+=jw[t>>8*n+4&15]+jw[t>>8*n&15];return e}function m7(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $1(t){return cS(t).map(m7).join("")}var g7=function(t){for(var e=0;e<t.length;e++)t[e]=p7(t[e]);return t.join("")}(cS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wa(t,e){if(g7){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function V1(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var f=o[l];u=(u+f+a.charCodeAt(l))%256,o[l]=o[u],o[u]=f}n=t,r=o}else o=r;var h=e.length,g=0,m=0,S="";for(l=0;l<h;l++)m=(m+(f=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=f,a=o[(o[g]+o[m])%256],S+=String.fromCharCode(e.charCodeAt(l)^a);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Aw={print:4,modify:8,copy:16,"annot-forms":32};function Jl(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Aw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Aw[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=$1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=V1(this.encryptionKey,this.padding)}function Xl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Cw(t){if(Bt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){dt.console&&Ht.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Up(t){if(!(this instanceof Up))return new Up(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Eo(t,e,n,r,i){if(!(this instanceof Eo))return new Eo(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uS.call(this,r,i)}function dc(t,e,n,r,i){if(!(this instanceof dc))return new dc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uS.call(this,r,i)}function ut(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",f=null;Bt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=Cw;var S="1.3",b=m.__private__.getPdfVersion=function(){return S};m.__private__.setPdfVersion=function(v){S=v};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return k};var y=m.__private__.getPageFormat=function(v){return k[v]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},N=x.COMPAT;function E(){this.saveGraphicsState(),te(new tt(Me,0,0,-Me,0,sa()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),u="n",N=x.ADVANCED}function L(){this.restoreGraphicsState(),u="S",N=x.COMPAT}var K=m.__private__.combineFontStyleAndFontWeight=function(v,D){if(v=="bold"&&D=="normal"||v=="bold"&&D==400||v=="normal"&&D=="italic"||v=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(v=D==400||D==="normal"?v==="italic"?"italic":"normal":D!=700&&D!=="bold"||v!=="normal"?(D==700?"bold":D)+""+v:"bold"),v};m.advancedAPI=function(v){var D=N===x.COMPAT;return D&&E.call(this),typeof v!="function"||(v(this),D&&L.call(this)),this},m.compatAPI=function(v){var D=N===x.ADVANCED;return D&&L.call(this),typeof v!="function"||(v(this),D&&E.call(this)),this},m.isAdvancedAPI=function(){return N===x.ADVANCED};var V,j=function(v){if(N!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=m.roundToPrecision=m.__private__.roundToPrecision=function(v,D){var Z=e||D;if(isNaN(v)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Z).replace(/0+$/,"")};V=m.hpf=m.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,16)};var J=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return $(v,2)},C=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return $(v,3)},F=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return N===x.COMPAT?v*Me:N===x.ADVANCED?v:void 0},G=function(v){return N===x.COMPAT?sa()-v:N===x.ADVANCED?v:void 0},z=function(v){return F(G(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var q,T="00000000000000000000000000000000",X=m.__private__.getFileId=function(){return T},H=m.__private__.setFileId=function(v){return T=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ir=new Jl(f.userPermissions,f.userPassword,f.ownerPassword,T)),T};m.setFileId=function(v){return H(v),this},m.getFileId=function(){return X()};var R=m.__private__.convertDateToPDFDate=function(v){var D=v.getTimezoneOffset(),Z=D<0?"+":"-",ae=Math.floor(Math.abs(D/60)),pe=Math.abs(D%60),Se=[Z,Y(ae),"'",Y(pe),"'"].join("");return["D:",v.getFullYear(),Y(v.getMonth()+1),Y(v.getDate()),Y(v.getHours()),Y(v.getMinutes()),Y(v.getSeconds()),Se].join("")},ee=m.__private__.convertPDFDateToDate=function(v){var D=parseInt(v.substr(2,4),10),Z=parseInt(v.substr(6,2),10)-1,ae=parseInt(v.substr(8,2),10),pe=parseInt(v.substr(10,2),10),Se=parseInt(v.substr(12,2),10),Te=parseInt(v.substr(14,2),10);return new Date(D,Z,ae,pe,Se,Te,0)},fe=m.__private__.setCreationDate=function(v){var D;if(v===void 0&&(v=new Date),v instanceof Date)D=R(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=v}return q=D},A=m.__private__.getCreationDate=function(v){var D=q;return v==="jsDate"&&(D=ee(q)),D};m.setCreationDate=function(v){return fe(v),this},m.getCreationDate=function(v){return A(v)};var B,Y=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ne=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},re=0,de=[],me=[],we=0,Oe=[],Fe=[],Be=!1,$e=me,rt=function(){re=0,we=0,me=[],de=[],Oe=[],ks=qt(),Ci=qt()};m.__private__.setCustomOutputDestination=function(v){Be=!0,$e=v};var be=function(v){Be||($e=v)};m.__private__.resetCustomOutputDestination=function(){Be=!1,$e=me};var te=m.__private__.out=function(v){return v=v.toString(),we+=v.length+1,$e.push(v),$e},it=m.__private__.write=function(v){return te(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ye=m.__private__.getArrayBuffer=function(v){for(var D=v.length,Z=new ArrayBuffer(D),ae=new Uint8Array(Z);D--;)ae[D]=v.charCodeAt(D);return Z},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ee};var ze=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return ze=N===x.ADVANCED?v/Me:v,this};var Ve,W=m.__private__.getFontSize=m.getFontSize=function(){return N===x.COMPAT?ze:ze*Me},se=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return se=v,this},m.__private__.getR2L=m.getR2L=function(){return se};var ge,je=m.__private__.setZoomMode=function(v){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ve=v;else if(isNaN(v)){if(D.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ve=v}else Ve=parseInt(v,10)};m.__private__.getZoomMode=function(){return Ve};var Ne,ke=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');ge=v};m.__private__.getPageMode=function(){return ge};var Ie=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Ne=v};m.__private__.getLayoutMode=function(){return Ne},m.__private__.setDisplayMode=m.setDisplayMode=function(v,D,Z){return je(v),Ie(D),ke(Z),this};var qe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(qe).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qe[v]},m.__private__.getDocumentProperties=function(){return qe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var D in qe)qe.hasOwnProperty(D)&&v[D]&&(qe[D]=v[D]);return this},m.__private__.setDocumentProperty=function(v,D){if(Object.keys(qe).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qe[v]=D};var Ze,Me,Jt,bt,Yn,Et={},Tt={},Dr=[],St={},nr={},rn={},Qr={},ui=null,Xt=0,Ue=[],ct=new Cw(m),sn=t.hotfixes||[],Dt={},wr={},Ut=[],tt=function v(D,Z,ae,pe,Se,Te){if(!(this instanceof v))return new v(D,Z,ae,pe,Se,Te);isNaN(D)&&(D=1),isNaN(Z)&&(Z=0),isNaN(ae)&&(ae=0),isNaN(pe)&&(pe=1),isNaN(Se)&&(Se=0),isNaN(Te)&&(Te=0),this._matrix=[D,Z,ae,pe,Se,Te]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(v)},tt.prototype.multiply=function(v){var D=v.sx*this.sx+v.shy*this.shx,Z=v.sx*this.shy+v.shy*this.sy,ae=v.shx*this.sx+v.sy*this.shx,pe=v.shx*this.shy+v.sy*this.sy,Se=v.tx*this.sx+v.ty*this.shx+this.tx,Te=v.tx*this.shy+v.ty*this.sy+this.ty;return new tt(D,Z,ae,pe,Se,Te)},tt.prototype.decompose=function(){var v=this.sx,D=this.shy,Z=this.shx,ae=this.sy,pe=this.tx,Se=this.ty,Te=Math.sqrt(v*v+D*D),Ke=(v/=Te)*Z+(D/=Te)*ae;Z-=v*Ke,ae-=D*Ke;var st=Math.sqrt(Z*Z+ae*ae);return Ke/=st,v*(ae/=st)<D*(Z/=st)&&(v=-v,D=-D,Ke=-Ke,Te=-Te),{scale:new tt(Te,0,0,st,0,0),translate:new tt(1,0,0,1,pe,Se),rotate:new tt(v,D,-D,v,0,0),skew:new tt(1,0,Ke,1,0,0)}},tt.prototype.toString=function(v){return this.join(" ")},tt.prototype.inversed=function(){var v=this.sx,D=this.shy,Z=this.shx,ae=this.sy,pe=this.tx,Se=this.ty,Te=1/(v*ae-D*Z),Ke=ae*Te,st=-D*Te,gt=-Z*Te,pt=v*Te;return new tt(Ke,st,gt,pt,-Ke*pe-gt*Se,-st*pe-pt*Se)},tt.prototype.applyToPoint=function(v){var D=v.x*this.sx+v.y*this.shx+this.tx,Z=v.x*this.shy+v.y*this.sy+this.ty;return new Sl(D,Z)},tt.prototype.applyToRectangle=function(v){var D=this.applyToPoint(v),Z=this.applyToPoint(new Sl(v.x+v.w,v.y+v.h));return new vu(D.x,D.y,Z.x-D.x,Z.y-D.y)},tt.prototype.clone=function(){var v=this.sx,D=this.shy,Z=this.shx,ae=this.sy,pe=this.tx,Se=this.ty;return new tt(v,D,Z,ae,pe,Se)},m.Matrix=tt;var rr=m.matrixMult=function(v,D){return D.multiply(v)},hn=new tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=hn;var Wt=function(v,D){if(!nr[v]){var Z=(D instanceof Eo?"Sh":"P")+(Object.keys(St).length+1).toString(10);D.id=Z,nr[v]=Z,St[Z]=D,ct.publish("addPattern",D)}};m.ShadingPattern=Eo,m.TilingPattern=dc,m.addShadingPattern=function(v,D){return j("addShadingPattern()"),Wt(v,D),this},m.beginTilingPattern=function(v){j("beginTilingPattern()"),Lh(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,D){j("endTilingPattern()"),D.stream=Fe[B].join(`
`),Wt(v,D),ct.publish("endTilingPattern",D),Ut.pop().restore()};var fn=m.__private__.newObject=function(){var v=qt();return Fr(v,!0),v},qt=m.__private__.newObjectDeferred=function(){return re++,de[re]=function(){return we},re},Fr=function(v,D){return D=typeof D=="boolean"&&D,de[v]=we,D&&te(v+" 0 obj"),v},cl=m.__private__.newAdditionalObject=function(){var v={objId:qt(),content:""};return Oe.push(v),v},ks=qt(),Ci=qt(),Li=m.__private__.decodeColorString=function(v){var D=v.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var Z=parseFloat(D[0]);D=[Z,Z,Z,"r"]}for(var ae="#",pe=0;pe<3;pe++)ae+=("0"+Math.floor(255*parseFloat(D[pe])).toString(16)).slice(-2);return ae},Pi=m.__private__.encodeColorString=function(v){var D;typeof v=="string"&&(v={ch1:v});var Z=v.ch1,ae=v.ch2,pe=v.ch3,Se=v.ch4,Te=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var Ke=new lS(Z);if(Ke.ok)Z=Ke.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var st=parseInt(Z.substr(1),16);Z=st>>16&255,ae=st>>8&255,pe=255&st}if(ae===void 0||Se===void 0&&Z===ae&&ae===pe)if(typeof Z=="string")D=Z+" "+Te[0];else switch(v.precision){case 2:D=J(Z/255)+" "+Te[0];break;case 3:default:D=C(Z/255)+" "+Te[0]}else if(Se===void 0||Bt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return D=["1.","1.","1.",Te[1]].join(" ");if(typeof Z=="string")D=[Z,ae,pe,Te[1]].join(" ");else switch(v.precision){case 2:D=[J(Z/255),J(ae/255),J(pe/255),Te[1]].join(" ");break;default:case 3:D=[C(Z/255),C(ae/255),C(pe/255),Te[1]].join(" ")}}else if(typeof Z=="string")D=[Z,ae,pe,Se,Te[2]].join(" ");else switch(v.precision){case 2:D=[J(Z),J(ae),J(pe),J(Se),Te[2]].join(" ");break;case 3:default:D=[C(Z),C(ae),C(pe),C(Se),Te[2]].join(" ")}return D},es=m.__private__.getFilters=function(){return a},di=m.__private__.putStream=function(v){var D=(v=v||{}).data||"",Z=v.filters||es(),ae=v.alreadyAppliedFilters||[],pe=v.addLength1||!1,Se=D.length,Te=v.objectId,Ke=function(sr){return sr};if(f!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ke=ir.encryptor(Te,0));var st={};Z===!0&&(Z=["FlateEncode"]);var gt=v.additionalKeyValues||[],pt=(st=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(D,Z):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(st.data.length!==0&&(gt.push({key:"Length",value:st.data.length}),pe===!0&&gt.push({key:"Length1",value:Se})),pt.length!=0)if(pt.split("/").length-1==1)gt.push({key:"Filter",value:pt});else{gt.push({key:"Filter",value:"["+pt+"]"});for(var At=0;At<gt.length;At+=1)if(gt[At].key==="DecodeParms"){for(var on=[],pn=0;pn<st.reverseChain.split("/").length-1;pn+=1)on.push("null");on.push(gt[At].value),gt[At].value="["+on.join(" ")+"]"}}te("<<");for(var Pn=0;Pn<gt.length;Pn++)te("/"+gt[Pn].key+" "+gt[Pn].value);te(">>"),st.data.length!==0&&(te("stream"),te(Ke(st.data)),te("endstream"))},ts=m.__private__.putPage=function(v){var D=v.number,Z=v.data,ae=v.objId,pe=v.contentsObjId;Fr(ae,!0),te("<</Type /Page"),te("/Parent "+v.rootDictionaryObjId+" 0 R"),te("/Resources "+v.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(V(v.mediaBox.bottomLeftX))+" "+parseFloat(V(v.mediaBox.bottomLeftY))+" "+V(v.mediaBox.topRightX)+" "+V(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&te("/CropBox ["+V(v.cropBox.bottomLeftX)+" "+V(v.cropBox.bottomLeftY)+" "+V(v.cropBox.topRightX)+" "+V(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&te("/BleedBox ["+V(v.bleedBox.bottomLeftX)+" "+V(v.bleedBox.bottomLeftY)+" "+V(v.bleedBox.topRightX)+" "+V(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&te("/TrimBox ["+V(v.trimBox.bottomLeftX)+" "+V(v.trimBox.bottomLeftY)+" "+V(v.trimBox.topRightX)+" "+V(v.trimBox.topRightY)+"]"),v.artBox!==null&&te("/ArtBox ["+V(v.artBox.bottomLeftX)+" "+V(v.artBox.bottomLeftY)+" "+V(v.artBox.topRightX)+" "+V(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&te("/UserUnit "+v.userUnit),ct.publish("putPage",{objId:ae,pageContext:Ue[D],pageNumber:D,page:Z}),te("/Contents "+pe+" 0 R"),te(">>"),te("endobj");var Se=Z.join(`
`);return N===x.ADVANCED&&(Se+=`
Q`),Fr(pe,!0),di({data:Se,filters:es(),objectId:pe}),te("endobj"),ae},fo=m.__private__.putPages=function(){var v,D,Z=[];for(v=1;v<=Xt;v++)Ue[v].objId=qt(),Ue[v].contentsObjId=qt();for(v=1;v<=Xt;v++)Z.push(ts({number:v,data:Fe[v],objId:Ue[v].objId,contentsObjId:Ue[v].contentsObjId,mediaBox:Ue[v].mediaBox,cropBox:Ue[v].cropBox,bleedBox:Ue[v].bleedBox,trimBox:Ue[v].trimBox,artBox:Ue[v].artBox,userUnit:Ue[v].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:Ci}));Fr(ks,!0),te("<</Type /Pages");var ae="/Kids [";for(D=0;D<Xt;D++)ae+=Z[D]+" 0 R ";te(ae+"]"),te("/Count "+Xt),te(">>"),te("endobj"),ct.publish("postPutPages")},ul=function(v){ct.publish("putFont",{font:v,out:te,newObject:fn,putStream:di}),v.isAlreadyPutted!==!0&&(v.objectNumber=fn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Xl(v.postScriptName)),te("/Subtype /Type1"),typeof v.encoding=="string"&&te("/Encoding /"+v.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},dl=function(){for(var v in Et)Et.hasOwnProperty(v)&&(h===!1||h===!0&&g.hasOwnProperty(v))&&ul(Et[v])},hl=function(v){v.objectNumber=fn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[V(v.x),V(v.y),V(v.x+v.width),V(v.y+v.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Z=v.pages[1].join(`
`);di({data:Z,additionalKeyValues:D,objectId:v.objectNumber}),te("endobj")},fl=function(){for(var v in Dt)Dt.hasOwnProperty(v)&&hl(Dt[v])},dh=function(v,D){var Z,ae=[],pe=1/(D-1);for(Z=0;Z<1;Z+=pe)ae.push(Z);if(ae.push(1),v[0].offset!=0){var Se={offset:0,color:v[0].color};v.unshift(Se)}if(v[v.length-1].offset!=1){var Te={offset:1,color:v[v.length-1].color};v.push(Te)}for(var Ke="",st=0,gt=0;gt<ae.length;gt++){for(Z=ae[gt];Z>v[st+1].offset;)st++;var pt=v[st].offset,At=(Z-pt)/(v[st+1].offset-pt),on=v[st].color,pn=v[st+1].color;Ke+=ne(Math.round((1-At)*on[0]+At*pn[0]).toString(16))+ne(Math.round((1-At)*on[1]+At*pn[1]).toString(16))+ne(Math.round((1-At)*on[2]+At*pn[2]).toString(16))}return Ke.trim()},km=function(v,D){D||(D=21);var Z=fn(),ae=dh(v.colors,D),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+D+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),di({data:ae,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),te("endobj"),v.objectNumber=fn(),te("<< /ShadingType "+v.type),te("/ColorSpace /DeviceRGB");var Se="/Coords ["+V(parseFloat(v.coords[0]))+" "+V(parseFloat(v.coords[1]))+" ";v.type===2?Se+=V(parseFloat(v.coords[2]))+" "+V(parseFloat(v.coords[3])):Se+=V(parseFloat(v.coords[2]))+" "+V(parseFloat(v.coords[3]))+" "+V(parseFloat(v.coords[4]))+" "+V(parseFloat(v.coords[5])),te(Se+="]"),v.matrix&&te("/Matrix ["+v.matrix.toString()+"]"),te("/Function "+Z+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},jm=function(v,D){var Z=qt(),ae=fn();D.push({resourcesOid:Z,objectOid:ae}),v.objectNumber=ae;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+v.boundingBox.map(V).join(" ")+"]"}),pe.push({key:"XStep",value:V(v.xStep)}),pe.push({key:"YStep",value:V(v.yStep)}),pe.push({key:"Resources",value:Z+" 0 R"}),v.matrix&&pe.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),di({data:v.stream,additionalKeyValues:pe,objectId:v.objectNumber}),te("endobj")},pl=function(v){var D;for(D in St)St.hasOwnProperty(D)&&(St[D]instanceof Eo?km(St[D]):St[D]instanceof dc&&jm(St[D],v))},hh=function(v){for(var D in v.objectNumber=fn(),te("<<"),v)switch(D){case"opacity":te("/ca "+J(v[D]));break;case"stroke-opacity":te("/CA "+J(v[D]))}te(">>"),te("endobj")},Am=function(){var v;for(v in rn)rn.hasOwnProperty(v)&&hh(rn[v])},ou=function(){for(var v in te("/XObject <<"),Dt)Dt.hasOwnProperty(v)&&Dt[v].objectNumber>=0&&te("/"+v+" "+Dt[v].objectNumber+" 0 R");ct.publish("putXobjectDict"),te(">>")},Cm=function(){ir.oid=fn(),te("<<"),te("/Filter /Standard"),te("/V "+ir.v),te("/R "+ir.r),te("/U <"+ir.toHexString(ir.U)+">"),te("/O <"+ir.toHexString(ir.O)+">"),te("/P "+ir.P),te(">>"),te("endobj")},fh=function(){for(var v in te("/Font <<"),Et)Et.hasOwnProperty(v)&&(h===!1||h===!0&&g.hasOwnProperty(v))&&te("/"+v+" "+Et[v].objectNumber+" 0 R");te(">>")},Lm=function(){if(Object.keys(St).length>0){for(var v in te("/Shading <<"),St)St.hasOwnProperty(v)&&St[v]instanceof Eo&&St[v].objectNumber>=0&&te("/"+v+" "+St[v].objectNumber+" 0 R");ct.publish("putShadingPatternDict"),te(">>")}},ml=function(v){if(Object.keys(St).length>0){for(var D in te("/Pattern <<"),St)St.hasOwnProperty(D)&&St[D]instanceof m.TilingPattern&&St[D].objectNumber>=0&&St[D].objectNumber<v&&te("/"+D+" "+St[D].objectNumber+" 0 R");ct.publish("putTilingPatternDict"),te(">>")}},Pm=function(){if(Object.keys(rn).length>0){var v;for(v in te("/ExtGState <<"),rn)rn.hasOwnProperty(v)&&rn[v].objectNumber>=0&&te("/"+v+" "+rn[v].objectNumber+" 0 R");ct.publish("putGStateDict"),te(">>")}},wn=function(v){Fr(v.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fh(),Lm(),ml(v.objectOid),Pm(),ou(),te(">>"),te("endobj")},ph=function(){var v=[];dl(),Am(),fl(),pl(v),ct.publish("putResources"),v.forEach(wn),wn({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),ct.publish("postPutResources")},mh=function(){ct.publish("putAdditionalObjects");for(var v=0;v<Oe.length;v++){var D=Oe[v];Fr(D.objId,!0),te(D.content),te("endobj")}ct.publish("postPutAdditionalObjects")},gh=function(v){Tt[v.fontName]=Tt[v.fontName]||{},Tt[v.fontName][v.fontStyle]=v.id},lu=function(v,D,Z,ae,pe){var Se={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:v,fontName:D,fontStyle:Z,encoding:ae,isStandardFont:pe||!1,metadata:{}};return ct.publish("addFont",{font:Se,instance:this}),Et[Se.id]=Se,gh(Se),Se.id},Em=function(v){for(var D=0,Z=Ee.length;D<Z;D++){var ae=lu.call(this,v[D][0],v[D][1],v[D][2],Ee[D][3],!0);h===!1&&(g[ae]=!0);var pe=v[D][0].split("-");gh({id:ae,fontName:pe[0],fontStyle:pe[1]||""})}ct.publish("addFonts",{fonts:Et,dictionary:Tt})},Ei=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ae){var D=ae.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var Z="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ae.message;if(!dt.console)throw new Error(Z);dt.console.error(Z,ae),dt.alert&&alert(Z)}},v.foo.bar=v,v.foo},gl=function(v,D){var Z,ae,pe,Se,Te,Ke,st,gt,pt;if(pe=(D=D||{}).sourceEncoding||"Unicode",Te=D.outputEncoding,(D.autoencode||Te)&&Et[Ze].metadata&&Et[Ze].metadata[pe]&&Et[Ze].metadata[pe].encoding&&(Se=Et[Ze].metadata[pe].encoding,!Te&&Et[Ze].encoding&&(Te=Et[Ze].encoding),!Te&&Se.codePages&&(Te=Se.codePages[0]),typeof Te=="string"&&(Te=Se[Te]),Te)){for(st=!1,Ke=[],Z=0,ae=v.length;Z<ae;Z++)(gt=Te[v.charCodeAt(Z)])?Ke.push(String.fromCharCode(gt)):Ke.push(v[Z]),Ke[Z].charCodeAt(0)>>8&&(st=!0);v=Ke.join("")}for(Z=v.length;st===void 0&&Z!==0;)v.charCodeAt(Z-1)>>8&&(st=!0),Z--;if(!st)return v;for(Ke=D.noBOM?[]:[254,255],Z=0,ae=v.length;Z<ae;Z++){if((pt=(gt=v.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ke.push(pt),Ke.push(gt-(pt<<8))}return String.fromCharCode.apply(void 0,Ke)},Tr=m.__private__.pdfEscape=m.pdfEscape=function(v,D){return gl(v,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cu=m.__private__.beginPage=function(v){Fe[++Xt]=[],Ue[Xt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},yh(Xt),be(Fe[B])},vh=function(v,D){var Z,ae,pe;switch(n=D||n,typeof v=="string"&&(Z=y(v.toLowerCase()),Array.isArray(Z)&&(ae=Z[0],pe=Z[1])),Array.isArray(v)&&(ae=v[0]*Me,pe=v[1]*Me),isNaN(ae)&&(ae=i[0],pe=i[1]),(ae>14400||pe>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),pe=Math.min(14400,pe)),i=[ae,pe],n.substr(0,1)){case"l":pe>ae&&(i=[pe,ae]);break;case"p":ae>pe&&(i=[pe,ae])}cu(i),_h(fu),te(Di),mu!==0&&te(mu+" J"),gu!==0&&te(gu+" j"),ct.publish("addPage",{pageNumber:Xt})},Dm=function(v){v>0&&v<=Xt&&(Fe.splice(v,1),Ue.splice(v,1),Xt--,B>Xt&&(B=Xt),this.setPage(B))},yh=function(v){v>0&&v<=Xt&&(B=v)},Fm=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Fe.length-1},wh=function(v,D,Z){var ae,pe=void 0;return Z=Z||{},v=v!==void 0?v:Et[Ze].fontName,D=D!==void 0?D:Et[Ze].fontStyle,ae=v.toLowerCase(),Tt[ae]!==void 0&&Tt[ae][D]!==void 0?pe=Tt[ae][D]:Tt[v]!==void 0&&Tt[v][D]!==void 0?pe=Tt[v][D]:Z.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+v+"', '"+D+"'. Refer to getFontList() for available fonts."),pe||Z.noFallback||(pe=Tt.times[D])==null&&(pe=Tt.times.normal),pe},Tm=m.__private__.putInfo=function(){var v=fn(),D=function(ae){return ae};for(var Z in f!==null&&(D=ir.encryptor(v,0)),te("<<"),te("/Producer ("+Tr(D("jsPDF "+ut.version))+")"),qe)qe.hasOwnProperty(Z)&&qe[Z]&&te("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+Tr(D(qe[Z]))+")");te("/CreationDate ("+Tr(D(q))+")"),te(">>"),te("endobj")},uu=m.__private__.putCatalog=function(v){var D=(v=v||{}).rootDictionaryObjId||ks;switch(fn(),te("<<"),te("/Type /Catalog"),te("/Pages "+D+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+Ve;Z.substr(Z.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&te("/OpenAction [3 0 R /XYZ null null "+J(Ve)+"]")}switch(Ne||(Ne="continuous"),Ne){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ge&&te("/PageMode /"+ge),ct.publish("putCatalog"),te(">>"),te("endobj")},Om=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(re+1)),te("/Root "+re+" 0 R"),te("/Info "+(re-1)+" 0 R"),f!==null&&te("/Encrypt "+ir.oid+" 0 R"),te("/ID [ <"+T+"> <"+T+"> ]"),te(">>")},Im=m.__private__.putHeader=function(){te("%PDF-"+S),te("%ºß¬à")},Rm=m.__private__.putXRef=function(){var v="0000000000";te("xref"),te("0 "+(re+1)),te("0000000000 65535 f ");for(var D=1;D<=re;D++)typeof de[D]=="function"?te((v+de[D]()).slice(-10)+" 00000 n "):de[D]!==void 0?te((v+de[D]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},js=m.__private__.buildDocument=function(){rt(),be(me),ct.publish("buildDocument"),Im(),fo(),mh(),ph(),f!==null&&Cm(),Tm(),uu();var v=we;return Rm(),Om(),te("startxref"),te(""+v),te("%%EOF"),be(Fe[B]),me.join(`
`)},vl=m.__private__.getBlob=function(v){return new Blob([Ye(v)],{type:"application/pdf"})},yl=m.output=m.__private__.output=Ei(function(v,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",v){case void 0:return js();case"save":m.save(D.filename);break;case"arraybuffer":return Ye(js());case"blob":return vl(js());case"bloburi":case"bloburl":if(dt.URL!==void 0&&typeof dt.URL.createObjectURL=="function")return dt.URL&&dt.URL.createObjectURL(vl(js()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",ae=js();try{Z=q1(ae)}catch{Z=q1(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+D.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(pe=D.pdfObjectUrl,Se="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Ke=dt.open();return Ke!==null&&Ke.document.write(Te),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',gt=dt.open();if(gt!==null){gt.document.write(st);var pt=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=D.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',on=dt.open();if(on!==null&&(on.document.write(At),on.document.title=D.filename),on||typeof safari>"u")return on;break;case"datauri":case"dataurl":return dt.document.location.href=this.output("datauristring",D);default:return null}}),xh=function(v){return Array.isArray(sn)===!0&&sn.indexOf(v)>-1};switch(r){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=xh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Me=r}var ir=null;fe(),H();var Mm=function(v){return f!==null?ir.encryptor(v,0):function(D){return D}},bh=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ue[v].objId,pageNumber:v,pageContext:Ue[v]}},ft=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in Ue)if(Ue[D].objId===v)break;return bh(D)},Bm=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ue[B].objId,pageNumber:B,pageContext:Ue[B]}};m.addPage=function(){return vh.apply(this,arguments),this},m.setPage=function(){return yh.apply(this,arguments),be.call(this,Fe[B]),this},m.insertPage=function(v){return this.addPage(),this.movePage(B,v),this},m.movePage=function(v,D){var Z,ae;if(v>D){Z=Fe[v],ae=Ue[v];for(var pe=v;pe>D;pe--)Fe[pe]=Fe[pe-1],Ue[pe]=Ue[pe-1];Fe[D]=Z,Ue[D]=ae,this.setPage(D)}else if(v<D){Z=Fe[v],ae=Ue[v];for(var Se=v;Se<D;Se++)Fe[Se]=Fe[Se+1],Ue[Se]=Ue[Se+1];Fe[D]=Z,Ue[D]=ae,this.setPage(D)}return this},m.deletePage=function(){return Dm.apply(this,arguments),this},m.__private__.text=m.text=function(v,D,Z,ae,pe){var Se,Te,Ke,st,gt,pt,At,on,pn,Pn=(ae=ae||{}).scope||this;if(typeof v=="number"&&typeof D=="number"&&(typeof Z=="string"||Array.isArray(Z))){var sr=Z;Z=D,D=v,v=sr}if(arguments[3]instanceof tt?(j("The transform parameter of text() with a Matrix value"),pn=pe):(Ke=arguments[4],st=arguments[5],Bt(At=arguments[3])==="object"&&At!==null||(typeof Ke=="string"&&(st=Ke,Ke=null),typeof At=="string"&&(st=At,At=null),typeof At=="number"&&(Ke=At,At=null),ae={flags:At,angle:Ke,align:st})),isNaN(D)||isNaN(Z)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Pn;var qn="",Fi=!1,Jr=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:mo,is=Pn.internal.scaleFactor;function Ph(Kt){return Kt=Kt.split("	").join(Array(ae.TabLen||9).join(" ")),Tr(Kt,At)}function bu(Kt){for(var Gt,bn=Kt.concat(),Rn=[],Es=bn.length;Es--;)typeof(Gt=bn.shift())=="string"?Rn.push(Gt):Array.isArray(Kt)&&(Gt.length===1||Gt[1]===void 0&&Gt[2]===void 0)?Rn.push(Gt[0]):Rn.push([Gt[0],Gt[1],Gt[2]]);return Rn}function Su(Kt,Gt){var bn;if(typeof Kt=="string")bn=Gt(Kt)[0];else if(Array.isArray(Kt)){for(var Rn,Es,Pu=Kt.concat(),Fl=[],Oh=Pu.length;Oh--;)typeof(Rn=Pu.shift())=="string"?Fl.push(Gt(Rn)[0]):Array.isArray(Rn)&&typeof Rn[0]=="string"&&(Es=Gt(Rn[0],Rn[1],Rn[2]),Fl.push([Es[0],Es[1],Es[2]]));bn=Fl}return bn}var _l=!1,Nu=!0;if(typeof v=="string")_l=!0;else if(Array.isArray(v)){var _u=v.concat();Te=[];for(var kl,Qn=_u.length;Qn--;)(typeof(kl=_u.shift())!="string"||Array.isArray(kl)&&typeof kl[0]!="string")&&(Nu=!1);_l=Nu}if(_l===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var jl=ze/Pn.internal.scaleFactor,Al=jl*(Jr-1);switch(ae.baseline){case"bottom":Z-=Al;break;case"top":Z+=jl-Al;break;case"hanging":Z+=jl-2*Al;break;case"middle":Z+=jl/2-Al}if((pt=ae.maxWidth||0)>0&&(typeof v=="string"?v=Pn.splitTextToSize(v,pt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Kt,Gt){return Kt.concat(Pn.splitTextToSize(Gt,pt))},[]))),Se={text:v,x:D,y:Z,options:ae,mutex:{pdfEscape:Tr,activeFontKey:Ze,fonts:Et,activeFontSize:ze}},ct.publish("preProcessText",Se),v=Se.text,Ke=(ae=Se.options).angle,!(pn instanceof tt)&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,ae.rotationDirection===0&&(Ke=-Ke),N===x.ADVANCED&&(Ke=-Ke);var Cl=Math.cos(Ke),ku=Math.sin(Ke);pn=new tt(Cl,ku,-ku,Cl,0,0)}else Ke&&Ke instanceof tt&&(pn=Ke);N!==x.ADVANCED||pn||(pn=hn),(gt=ae.charSpace||bl)!==void 0&&(qn+=V(F(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(on=ae.horizontalScale)!==void 0&&(qn+=V(100*on)+` Tz
`),ae.lang;var Or=-1,Ym=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,ju=Pn.internal.getCurrentPageInfo().pageContext;switch(Ym){case 0:case!1:case"fill":Or=0;break;case 1:case!0:case"stroke":Or=1;break;case 2:case"fillThenStroke":Or=2;break;case 3:case"invisible":Or=3;break;case 4:case"fillAndAddForClipping":Or=4;break;case 5:case"strokeAndAddPathForClipping":Or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Or=6;break;case 7:case"addToPathForClipping":Or=7}var Eh=ju.usedRenderingMode!==void 0?ju.usedRenderingMode:-1;Or!==-1?qn+=Or+` Tr
`:Eh!==-1&&(qn+=`0 Tr
`),Or!==-1&&(ju.usedRenderingMode=Or),st=ae.align||"left";var hi,Ll=ze*Jr,Dh=Pn.internal.pageSize.getWidth(),Fh=Et[Ze];gt=ae.charSpace||bl,pt=ae.maxWidth||0,At=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var aa=[],yo=function(Kt){return Pn.getStringUnitWidth(Kt,{font:Fh,charSpace:gt,fontSize:ze,doKerning:!1})*ze/is};if(Object.prototype.toString.call(v)==="[object Array]"){var Ir;Te=bu(v),st!=="left"&&(hi=Te.map(yo));var xr,oa=0;if(st==="right"){D-=hi[0],v=[],Qn=Te.length;for(var Cs=0;Cs<Qn;Cs++)Cs===0?(xr=rs(D),Ir=As(Z)):(xr=F(oa-hi[Cs]),Ir=-Ll),v.push([Te[Cs],xr,Ir]),oa=hi[Cs]}else if(st==="center"){D-=hi[0]/2,v=[],Qn=Te.length;for(var Ls=0;Ls<Qn;Ls++)Ls===0?(xr=rs(D),Ir=As(Z)):(xr=F((oa-hi[Ls])/2),Ir=-Ll),v.push([Te[Ls],xr,Ir]),oa=hi[Ls]}else if(st==="left"){v=[],Qn=Te.length;for(var Pl=0;Pl<Qn;Pl++)v.push(Te[Pl])}else if(st==="justify"&&Fh.encoding==="Identity-H"){v=[],Qn=Te.length,pt=pt!==0?pt:Dh;for(var Ps=0,xn=0;xn<Qn;xn++)if(Ir=xn===0?As(Z):-Ll,xr=xn===0?rs(D):Ps,xn<Qn-1){var Au=F((pt-hi[xn])/(Te[xn].split(" ").length-1)),br=Te[xn].split(" ");v.push([br[0]+" ",xr,Ir]),Ps=0;for(var fi=1;fi<br.length;fi++){var El=(yo(br[fi-1]+" "+br[fi])-yo(br[fi]))*is+Au;fi==br.length-1?v.push([br[fi],El,0]):v.push([br[fi]+" ",El,0]),Ps-=El}}else v.push([Te[xn],xr,Ir]);v.push(["",Ps,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Qn=Te.length,pt=pt!==0?pt:Dh,xn=0;xn<Qn;xn++)Ir=xn===0?As(Z):-Ll,xr=xn===0?rs(D):0,xn<Qn-1?aa.push(V(F((pt-hi[xn])/(Te[xn].split(" ").length-1)))):aa.push(0),v.push([Te[xn],xr,Ir])}}var Th=typeof ae.R2L=="boolean"?ae.R2L:se;Th===!0&&(v=Su(v,function(Kt,Gt,bn){return[Kt.split("").reverse().join(""),Gt,bn]})),Se={text:v,x:D,y:Z,options:ae,mutex:{pdfEscape:Tr,activeFontKey:Ze,fonts:Et,activeFontSize:ze}},ct.publish("postProcessText",Se),v=Se.text,Fi=Se.mutex.isHex||!1;var Cu=Et[Ze].encoding;Cu!=="WinAnsiEncoding"&&Cu!=="StandardEncoding"||(v=Su(v,function(Kt,Gt,bn){return[Ph(Kt),Gt,bn]})),Te=bu(v),v=[];for(var wo,xo,la,bo=0,Dl=1,So=Array.isArray(Te[0])?Dl:bo,ca="",Lu=function(Kt,Gt,bn){var Rn="";return bn instanceof tt?(bn=typeof ae.angle=="number"?rr(bn,new tt(1,0,0,1,Kt,Gt)):rr(new tt(1,0,0,1,Kt,Gt),bn),N===x.ADVANCED&&(bn=rr(new tt(1,0,0,-1,0,0),bn)),Rn=bn.join(" ")+` Tm
`):Rn=V(Kt)+" "+V(Gt)+` Td
`,Rn},pi=0;pi<Te.length;pi++){switch(ca="",So){case Dl:la=(Fi?"<":"(")+Te[pi][0]+(Fi?">":")"),wo=parseFloat(Te[pi][1]),xo=parseFloat(Te[pi][2]);break;case bo:la=(Fi?"<":"(")+Te[pi]+(Fi?">":")"),wo=rs(D),xo=As(Z)}aa!==void 0&&aa[pi]!==void 0&&(ca=aa[pi]+` Tw
`),pi===0?v.push(ca+Lu(wo,xo,pn)+la):So===bo?v.push(ca+la):So===Dl&&v.push(ca+Lu(wo,xo,pn)+la)}v=So===bo?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var mi=`BT
/`;return mi+=Ze+" "+ze+` Tf
`,mi+=V(ze*Jr)+` TL
`,mi+=go+`
`,mi+=qn,mi+=v,te(mi+="ET"),g[Ze]=!0,Pn};var zm=m.__private__.clip=m.clip=function(v){return te(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return zm("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var ns=m.__private__.isValidStyle=function(v){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(D=!0),D};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return ns(v)&&(u=v),this};var Sh=m.__private__.getStyle=m.getStyle=function(v){var D=u;switch(v){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=v}return D},Nh=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(v){return wl("f",v),this},m.fillEvenOdd=function(v){return wl("f*",v),this},m.fillStroke=function(v){return wl("B",v),this},m.fillStrokeEvenOdd=function(v){return wl("B*",v),this};var wl=function(v,D){Bt(D)==="object"?qm(D,v):te(v)},du=function(v){v===null||N===x.ADVANCED&&v===void 0||(v=Sh(v),te(v))};function Um(v,D,Z,ae,pe){var Se=new dc(D||this.boundingBox,Z||this.xStep,ae||this.yStep,this.gState,pe||this.matrix);Se.stream=this.stream;var Te=v+"$$"+this.cloneIndex+++"$$";return Wt(Te,Se),Se}var qm=function(v,D){var Z=nr[v.key],ae=St[Z];if(ae instanceof Eo)te("q"),te($m(D)),ae.gState&&m.setGState(ae.gState),te(v.matrix.toString()+" cm"),te("/"+Z+" sh"),te("Q");else if(ae instanceof dc){var pe=new tt(1,0,0,-1,0,sa());v.matrix&&(pe=pe.multiply(v.matrix||hn),Z=Um.call(ae,v.key,v.boundingBox,v.xStep,v.yStep,pe).id),te("q"),te("/Pattern cs"),te("/"+Z+" scn"),ae.gState&&m.setGState(ae.gState),te(D),te("Q")}},$m=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hu=m.moveTo=function(v,D){return te(V(F(v))+" "+V(z(D))+" m"),this},po=m.lineTo=function(v,D){return te(V(F(v))+" "+V(z(D))+" l"),this},ra=m.curveTo=function(v,D,Z,ae,pe,Se){return te([V(F(v)),V(z(D)),V(F(Z)),V(z(ae)),V(F(pe)),V(z(Se)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,D,Z,ae,pe){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(ae)||!ns(pe))throw new Error("Invalid arguments passed to jsPDF.line");return N===x.COMPAT?this.lines([[Z-v,ae-D]],v,D,[1,1],pe||"S"):this.lines([[Z-v,ae-D]],v,D,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,D,Z,ae,pe,Se){var Te,Ke,st,gt,pt,At,on,pn,Pn,sr,qn,Fi;if(typeof v=="number"&&(Fi=Z,Z=D,D=v,v=Fi),ae=ae||[1,1],Se=Se||!1,isNaN(D)||isNaN(Z)||!Array.isArray(v)||!Array.isArray(ae)||!ns(pe)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hu(D,Z),Te=ae[0],Ke=ae[1],gt=v.length,sr=D,qn=Z,st=0;st<gt;st++)(pt=v[st]).length===2?(sr=pt[0]*Te+sr,qn=pt[1]*Ke+qn,po(sr,qn)):(At=pt[0]*Te+sr,on=pt[1]*Ke+qn,pn=pt[2]*Te+sr,Pn=pt[3]*Ke+qn,sr=pt[4]*Te+sr,qn=pt[5]*Ke+qn,ra(At,on,pn,Pn,sr,qn));return Se&&Nh(),du(pe),this},m.path=function(v){for(var D=0;D<v.length;D++){var Z=v[D],ae=Z.c;switch(Z.op){case"m":hu(ae[0],ae[1]);break;case"l":po(ae[0],ae[1]);break;case"c":ra.apply(this,ae);break;case"h":Nh()}}return this},m.__private__.rect=m.rect=function(v,D,Z,ae,pe){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(ae)||!ns(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===x.COMPAT&&(ae=-ae),te([V(F(v)),V(z(D)),V(F(Z)),V(F(ae)),"re"].join(" ")),du(pe),this},m.__private__.triangle=m.triangle=function(v,D,Z,ae,pe,Se,Te){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(ae)||isNaN(pe)||isNaN(Se)||!ns(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-v,ae-D],[pe-Z,Se-ae],[v-pe,D-Se]],v,D,[1,1],Te,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,D,Z,ae,pe,Se,Te){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(ae)||isNaN(pe)||isNaN(Se)||!ns(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*Z),Se=Math.min(Se,.5*ae),this.lines([[Z-2*pe,0],[pe*Ke,0,pe,Se-Se*Ke,pe,Se],[0,ae-2*Se],[0,Se*Ke,-pe*Ke,Se,-pe,Se],[2*pe-Z,0],[-pe*Ke,0,-pe,-Se*Ke,-pe,-Se],[0,2*Se-ae],[0,-Se*Ke,pe*Ke,-Se,pe,-Se]],v+pe,D,[1,1],Te,!0),this},m.__private__.ellipse=m.ellipse=function(v,D,Z,ae,pe){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(ae)||!ns(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*Z,Te=4/3*(Math.SQRT2-1)*ae;return hu(v+Z,D),ra(v+Z,D-Te,v+Se,D-ae,v,D-ae),ra(v-Se,D-ae,v-Z,D-Te,v-Z,D),ra(v-Z,D+Te,v-Se,D+ae,v,D+ae),ra(v+Se,D+ae,v+Z,D+Te,v+Z,D),du(pe),this},m.__private__.circle=m.circle=function(v,D,Z,ae){if(isNaN(v)||isNaN(D)||isNaN(Z)||!ns(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,D,Z,Z,ae)},m.setFont=function(v,D,Z){return Z&&(D=K(D,Z)),Ze=wh(v,D,{disableWarning:!1}),this};var Vm=m.__private__.getFont=m.getFont=function(){return Et[wh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,D,Z={};for(v in Tt)if(Tt.hasOwnProperty(v))for(D in Z[v]=[],Tt[v])Tt[v].hasOwnProperty(D)&&Z[v].push(D);return Z},m.addFont=function(v,D,Z,ae,pe){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(Z=K(Z,ae)),pe=pe||"Identity-H",lu.call(this,v,D,Z,pe)};var mo,fu=t.lineWidth||.200025,xl=m.__private__.getLineWidth=m.getLineWidth=function(){return fu},_h=m.__private__.setLineWidth=m.setLineWidth=function(v){return fu=v,te(V(F(v))+" w"),this};m.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(v,D){if(v=v||[],D=D||0,isNaN(D)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Z){return V(F(Z))}).join(" "),D=V(F(D)),te("["+v+"] "+D+" d"),this};var kh=m.__private__.getLineHeight=m.getLineHeight=function(){return ze*mo};m.__private__.getLineHeight=m.getLineHeight=function(){return ze*mo};var jh=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(mo=v),this},Ah=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return mo};jh(t.lineHeight);var rs=m.__private__.getHorizontalCoordinate=function(v){return F(v)},As=m.__private__.getVerticalCoordinate=function(v){return N===x.ADVANCED?v:Ue[B].mediaBox.topRightY-Ue[B].mediaBox.bottomLeftY-F(v)},Hm=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return V(rs(v))},ia=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return V(As(v))},Di=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Li(Di)},m.__private__.setStrokeColor=m.setDrawColor=function(v,D,Z,ae){return Di=Pi({ch1:v,ch2:D,ch3:Z,ch4:ae,pdfColorType:"draw",precision:2}),te(Di),this};var pu=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Li(pu)},m.__private__.setFillColor=m.setFillColor=function(v,D,Z,ae){return pu=Pi({ch1:v,ch2:D,ch3:Z,ch4:ae,pdfColorType:"fill",precision:2}),te(pu),this};var go=t.textColor||"0 g",Wm=m.__private__.getTextColor=m.getTextColor=function(){return Li(go)};m.__private__.setTextColor=m.setTextColor=function(v,D,Z,ae){return go=Pi({ch1:v,ch2:D,ch3:Z,ch4:ae,pdfColorType:"text",precision:3}),this};var bl=t.charSpace,Km=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(bl||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bl=v,this};var mu=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var D=m.CapJoinStyles[v];if(D===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mu=D,te(D+" J"),this};var gu=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var D=m.CapJoinStyles[v];if(D===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gu=D,te(D+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(V(F(v))+" M"),this},m.GState=Up,m.setGState=function(v){(v=typeof v=="string"?rn[Qr[v]]:Ch(null,v)).equals(ui)||(te("/"+v.id+" gs"),ui=v)};var Ch=function(v,D){if(!v||!Qr[v]){var Z=!1;for(var ae in rn)if(rn.hasOwnProperty(ae)&&rn[ae].equals(D)){Z=!0;break}if(Z)D=rn[ae];else{var pe="GS"+(Object.keys(rn).length+1).toString(10);rn[pe]=D,D.id=pe}return v&&(Qr[v]=D.id),ct.publish("addGState",D),D}};m.addGState=function(v,D){return Ch(v,D),this},m.saveGraphicsState=function(){return te("q"),Dr.push({key:Ze,size:ze,color:go}),this},m.restoreGraphicsState=function(){te("Q");var v=Dr.pop();return Ze=v.key,ze=v.size,go=v.color,ui=null,this},m.setCurrentTransformationMatrix=function(v){return te(v.toString()+" cm"),this},m.comment=function(v){return te("#"+v),this};var Sl=function(v,D){var Z=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Se){isNaN(Se)||(Z=parseFloat(Se))}});var ae=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Se){isNaN(Se)||(ae=parseFloat(Se))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Se){pe=Se.toString()}}),this},vu=function(v,D,Z,ae){Sl.call(this,v,D),this.type="rect";var pe=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Te){isNaN(Te)||(pe=parseFloat(Te))}});var Se=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Te){isNaN(Te)||(Se=parseFloat(Te))}}),this},yu=function(){this.page=Xt,this.currentPage=B,this.pages=Fe.slice(0),this.pagesContext=Ue.slice(0),this.x=Jt,this.y=bt,this.matrix=Yn,this.width=vo(B),this.height=sa(B),this.outputDestination=$e,this.id="",this.objectNumber=-1};yu.prototype.restore=function(){Xt=this.page,B=this.currentPage,Ue=this.pagesContext,Fe=this.pages,Jt=this.x,bt=this.y,Yn=this.matrix,wu(B,this.width),xu(B,this.height),$e=this.outputDestination};var Lh=function(v,D,Z,ae,pe){Ut.push(new yu),Xt=B=0,Fe=[],Jt=v,bt=D,Yn=pe,cu([Z,ae])},Gm=function(v){if(wr[v])Ut.pop().restore();else{var D=new yu,Z="Xo"+(Object.keys(Dt).length+1).toString(10);D.id=Z,wr[v]=Z,Dt[Z]=D,ct.publish("addFormObject",D),Ut.pop().restore()}};for(var Nl in m.beginFormObject=function(v,D,Z,ae,pe){return Lh(v,D,Z,ae,pe),this},m.endFormObject=function(v){return Gm(v),this},m.doFormObject=function(v,D){var Z=Dt[wr[v]];return te("q"),te(D.toString()+" cm"),te("/"+Z.id+" Do"),te("Q"),this},m.getFormObject=function(v){var D=Dt[wr[v]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},m.save=function(v,D){return v=v||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Lo(vl(js()),v),typeof Lo.unload=="function"&&dt.setTimeout&&setTimeout(Lo.unload,911),this):new Promise(function(Z,ae){try{var pe=Lo(vl(js()),v);typeof Lo.unload=="function"&&dt.setTimeout&&setTimeout(Lo.unload,911),Z(pe)}catch(Se){ae(Se.message)}})},ut.API)ut.API.hasOwnProperty(Nl)&&(Nl==="events"&&ut.API.events.length?function(v,D){var Z,ae,pe;for(pe=D.length-1;pe!==-1;pe--)Z=D[pe][0],ae=D[pe][1],v.subscribe.apply(v,[Z].concat(typeof ae=="function"?[ae]:ae))}(ct,ut.API.events):m[Nl]=ut.API[Nl]);var vo=m.getPageWidth=function(v){return(Ue[v=v||B].mediaBox.topRightX-Ue[v].mediaBox.bottomLeftX)/Me},wu=m.setPageWidth=function(v,D){Ue[v].mediaBox.topRightX=D*Me+Ue[v].mediaBox.bottomLeftX},sa=m.getPageHeight=function(v){return(Ue[v=v||B].mediaBox.topRightY-Ue[v].mediaBox.bottomLeftY)/Me},xu=m.setPageHeight=function(v,D){Ue[v].mediaBox.topRightY=D*Me+Ue[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:Tr,getStyle:Sh,getFont:Vm,getFontSize:W,getCharSpace:Km,getTextColor:Wm,getLineHeight:kh,getLineHeightFactor:Ah,getLineWidth:xl,write:it,getHorizontalCoordinate:rs,getVerticalCoordinate:As,getCoordinateString:Hm,getVerticalCoordinateString:ia,collections:{},newObject:fn,newAdditionalObject:cl,newObjectDeferred:qt,newObjectDeferredBegin:Fr,getFilters:es,putStream:di,events:ct,scaleFactor:Me,pageSize:{getWidth:function(){return vo(B)},setWidth:function(v){wu(B,v)},getHeight:function(){return sa(B)},setHeight:function(v){xu(B,v)}},encryptionOptions:f,encryption:ir,getEncryptor:Mm,output:yl,getNumberOfPages:Fm,pages:Fe,out:te,f2:J,f3:C,getPageInfo:bh,getPageInfoByObjId:ft,getCurrentPageInfo:Bm,getPDFVersion:b,Point:Sl,Rectangle:vu,Matrix:tt,hasHotfix:xh},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return vo(B)},set:function(v){wu(B,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return sa(B)},set:function(v){xu(B,v)},enumerable:!0,configurable:!0}),Em.call(m,Ee),Ze="F1",vh(i,n),ct.publish("initialized"),m}Jl.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Jl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jl.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Jl.prototype.processOwnerPassword=function(t,e){return V1($1(e).substr(0,5),t)},Jl.prototype.encryptor=function(t,e){var n=$1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return V1(n,r)}},Up.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Bt(t)!==Bt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ut.API={events:[]},ut.version="3.0.1";var vn=ut.API,gy=1,ll=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(t){return t.toFixed(2)},ba=function(t){return t.toFixed(5)};vn.__acroform__={};var Yr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Lw=function(t){return t*gy},us=function(t){var e=new hS,n=et.internal.getHeight(t)||0,r=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(mt(r)),Number(mt(n))],e},v7=vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},y7=vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},w7=vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},jn=vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return w7(t,e-1)},An=vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return v7(t,e-1)},Cn=vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return y7(t,e-1)},x7=vn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(mt(l.lowerLeft_X)),Number(mt(l.lowerLeft_Y)),Number(mt(l.upperRight_X)),Number(mt(l.upperRight_Y))]},b7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=H1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+mt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=us(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},H1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=n,a=et.internal.getHeight(t)||0;a=a<0?-a:a;var o=et.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(C,F,G){if(C+1<i.length){var z=F+" "+i[C+1][0];return Pf(z,t,G).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,h=Pf("3",t,s).height,g=t.multiline?a-s:(a-h)/2,m=g+=2,S=0,b=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pf(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",x=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var E=!1;if(i[N].length!==1&&k!==i[N].length-1){if((h+2)*(x+2)+2>a)continue e;y+=i[N][k],E=!0,b=N,N--}else{y=(y+=i[N][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var L=parseInt(N),K=l(L,y,s),V=N>=i.length-1;if(K&&!V){y+=" ",k=0;continue}if(K||V){if(V)b=L;else if(t.multiline&&(h+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(x+2)+2>a)continue e;b=L}}for(var j="",$=S;$<=b;$++){var J=i[$];if(t.multiline){if($===b){j+=J[k]+" ",k=(k+1)%J.length;continue}if($===S){j+=J[J.length-1]+" ";continue}}j+=J[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,f=Pf(j,t,s).width,t.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}e+=mt(u)+" "+mt(m)+` Td
`,e+="("+ll(j)+`) Tj
`,e+=-mt(u)+` 0 Td
`,m=-(s+2),f=0,S=E?b:b+1,x++,y=""}break}return r.text=e,r.fontSize=s,r},Pf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},S7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},N7=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},_7=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Bt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},k7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(S7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new fS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&N7(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=x7(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=et.createDefaultAppearanceStream(o),Bt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=b7(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var h="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var S=m[a];typeof S=="function"&&(S=S.call(i,o)),h+="/"+a+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=m)=="function"&&(S=S.call(i,o)),h+="/"+a+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&_7(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},dS=vn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Bt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ll(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ll(r(t))+")"},ws=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ws.prototype.toString=function(){return this.objId+" 0 R"},ws.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ws.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:dS(i,this.objId,this.scope)}):i instanceof ws?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var hS=function(){ws.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Yr(hS,ws);var fS=function(){ws.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ll(n(t))+")"}},set:function(n){t=n}})};Yr(fS,ws);var Xi=function t(){ws.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jn(e,3)},set:function(y){y?this.F=An(e,3):this.F=Cn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof qp)return;s="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+ll(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/gy:u},set:function(y){u=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof qp||this instanceof Ko))return s0(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Kn?g:s0(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof Kn?y:y.substr(0,1)==="("?Gl(y.substr(1,y.length-2)):Gl(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kn?Gl(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof Kn?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Kn?m:s0(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Kn?y:y.substr(0,1)==="("?Gl(y.substr(1,y.length-2)):Gl(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kn?Gl(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Kn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(y){S=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,1)},set:function(y){y?this.Ff=An(this.Ff,1):this.Ff=Cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,2)},set:function(y){y?this.Ff=An(this.Ff,2):this.Ff=Cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,3)},set:function(y){y?this.Ff=An(this.Ff,3):this.Ff=Cn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Yr(Xi,ws);var bc=function(){Xi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dS(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,18)},set:function(n){n?this.Ff=An(this.Ff,18):this.Ff=Cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=An(this.Ff,19):this.Ff=Cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,20)},set:function(n){n?(this.Ff=An(this.Ff,20),e.sort()):this.Ff=Cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,22)},set:function(n){n?this.Ff=An(this.Ff,22):this.Ff=Cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(n){n?this.Ff=An(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,27)},set:function(n){n?this.Ff=An(this.Ff,27):this.Ff=Cn(this.Ff,27)}}),this.hasAppearanceStream=!1};Yr(bc,Xi);var Sc=function(){bc.call(this),this.fontName="helvetica",this.combo=!1};Yr(Sc,bc);var Nc=function(){Sc.call(this),this.combo=!0};Yr(Nc,Sc);var Yf=function(){Nc.call(this),this.edit=!0};Yr(Yf,Nc);var Kn=function(){Xi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,15)},set:function(n){n?this.Ff=An(this.Ff,15):this.Ff=Cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,16)},set:function(n){n?this.Ff=An(this.Ff,16):this.Ff=Cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,17)},set:function(n){n?this.Ff=An(this.Ff,17):this.Ff=Cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(n){n?this.Ff=An(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ll(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Bt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Yr(Kn,Xi);var Qf=function(){Kn.call(this),this.pushButton=!0};Yr(Qf,Kn);var _c=function(){Kn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Yr(_c,Kn);var qp=function(){var t,e;Xi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+ll(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Bt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yr(qp,Xi),_c.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},_c.prototype.createOption=function(t){var e=new qp;return e.Parent=this,e.optionName=t,this.Kids.push(e),j7.call(this.scope,e),e};var Jf=function(){Kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Yr(Jf,Kn);var Ko=function(){Xi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,13)},set:function(e){e?this.Ff=An(this.Ff,13):this.Ff=Cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,21)},set:function(e){e?this.Ff=An(this.Ff,21):this.Ff=Cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(e){e?this.Ff=An(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,24)},set:function(e){e?this.Ff=An(this.Ff,24):this.Ff=Cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,25)},set:function(e){e?this.Ff=An(this.Ff,25):this.Ff=Cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(e){e?this.Ff=An(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yr(Ko,Xi);var Xf=function(){Ko.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,14)},set:function(t){t?this.Ff=An(this.Ff,14):this.Ff=Cn(this.Ff,14)}}),this.password=!0};Yr(Xf,Ko);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=us(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=H1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=us(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=et.internal.getHeight(t),a=et.internal.getWidth(t),o=H1(t,t.caption);return i.push("1 g"),i.push("0 0 "+mt(a)+" "+mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+mt(a-1)+" "+mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+mt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=us(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=us(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=et.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ba(et.internal.getWidth(t)/2)+" "+ba(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=us(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5)),a=Number((r*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ba(et.internal.getWidth(t)/2)+" "+ba(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ba(et.internal.getWidth(t)/2)+" "+ba(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=us(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ba(et.internal.getWidth(t)/2)+" "+ba(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=us(t);e.scope=t.scope;var n=[],r=et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+mt(et.internal.getWidth(t)-2)+" "+mt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(mt(r.x1.x)+" "+mt(r.x1.y)+" m"),n.push(mt(r.x2.x)+" "+mt(r.x2.y)+" l"),n.push(mt(r.x4.x)+" "+mt(r.x4.y)+" m"),n.push(mt(r.x3.x)+" "+mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=us(t);e.scope=t.scope;var n=et.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mt(et.internal.getWidth(t)-2)+" "+mt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(mt(n.x1.x)+" "+mt(n.x1.y)+" m"),r.push(mt(n.x2.x)+" "+mt(n.x2.y)+" l"),r.push(mt(n.x4.x)+" "+mt(n.x4.y)+" m"),r.push(mt(n.x3.x)+" "+mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=us(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),n=et.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},et.internal.getWidth=function(t){var e=0;return Bt(t)==="object"&&(e=Lw(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return Bt(t)==="object"&&(e=Lw(t.Rect[3])),e};var j7=vn.addField=function(t){if(k7(this,t),!(t instanceof Xi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=bc,vn.AcroFormListBox=Sc,vn.AcroFormComboBox=Nc,vn.AcroFormEditBox=Yf,vn.AcroFormButton=Kn,vn.AcroFormPushButton=Qf,vn.AcroFormRadioButton=_c,vn.AcroFormCheckBox=Jf,vn.AcroFormTextField=Ko,vn.AcroFormPasswordField=Xf,vn.AcroFormAppearance=et,vn.AcroForm={ChoiceField:bc,ListBox:Sc,ComboBox:Nc,EditBox:Yf,Button:Kn,PushButton:Qf,RadioButton:_c,CheckBox:Jf,TextField:Ko,PasswordField:Xf,Appearance:et},ut.AcroForm={ChoiceField:bc,ListBox:Sc,ComboBox:Nc,EditBox:Yf,Button:Kn,PushButton:Qf,RadioButton:_c,CheckBox:Jf,TextField:Ko,PasswordField:Xf,Appearance:et};function pS(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(C,F){var G,z,q,T,X,H=e;if((F=F||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(K(C))for(X in n)for(q=n[X],G=0;G<q.length;G+=1){for(T=!0,z=0;z<q[G].length;z+=1)if(q[G][z]!==void 0&&q[G][z]!==C[z]){T=!1;break}if(T===!0){H=X;break}}else for(X in n)for(q=n[X],G=0;G<q.length;G+=1){for(T=!0,z=0;z<q[G].length;z+=1)if(q[G][z]!==void 0&&q[G][z]!==C.charCodeAt(z)){T=!1;break}if(T===!0){H=X;break}}return H===e&&F!==e&&(H=F),H},i=function C(F){for(var G=this.internal.write,z=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var T=[];if(T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Image"}),T.push({key:"Width",value:F.width}),T.push({key:"Height",value:F.height}),F.colorSpace===k.INDEXED?T.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(T.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===k.DEVICE_CMYK&&T.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),T.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&T.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var X="",H=0,R=F.transparency.length;H<R;H++)X+=F.transparency[H]+" "+F.transparency[H]+" ";T.push({key:"Mask",value:"["+X+"]"})}F.sMask!==void 0&&T.push({key:"SMask",value:F.objectId+1+" 0 R"});var ee=F.filter!==void 0?["/"+F.filter]:void 0;if(z({data:F.data,additionalKeyValues:T,alreadyAppliedFilters:ee,objectId:F.objectId}),G("endobj"),"sMask"in F&&F.sMask!==void 0){var fe="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,A={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:fe,data:F.sMask};"filter"in F&&(A.filter=F.filter),C.call(this,A)}if(F.colorSpace===k.INDEXED){var B=this.internal.newObject();z({data:j(new Uint8Array(F.palette)),objectId:B}),G("endobj")}},s=function(){var C=this.internal.collections.addImage_images;for(var F in C)i.call(this,C[F])},a=function(){var C,F=this.internal.collections.addImage_images,G=this.internal.write;for(var z in F)G("/I"+(C=F[z]).index,C.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var C=this.internal.collections.addImage_images;return o.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(C){return typeof t["process"+C.toUpperCase()]=="function"},h=function(C){return Bt(C)==="object"&&C.nodeType===1},g=function(C,F){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var G=""+C.getAttribute("src");if(G.indexOf("data:image/")===0)return Sd(unescape(G).split("base64,").pop());var z=t.loadFile(G,!0);if(z!==void 0)return z}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var q;switch(F){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return Sd(C.toDataURL(q,1).split("base64,").pop())}},m=function(C){var F=this.internal.collections.addImage_images;if(F){for(var G in F)if(C===F[G].alias)return F[G]}},S=function(C,F,G){return C||F||(C=-96,F=-96),C<0&&(C=-1*G.width*72/C/this.internal.scaleFactor),F<0&&(F=-1*G.height*72/F/this.internal.scaleFactor),C===0&&(C=F*G.width/G.height),F===0&&(F=C*G.height/G.width),[C,F]},b=function(C,F,G,z,q,T){var X=S.call(this,G,z,q),H=this.internal.getCoordinateString,R=this.internal.getVerticalCoordinateString,ee=l.call(this);if(G=X[0],z=X[1],ee[q.index]=q,T){T*=Math.PI/180;var fe=Math.cos(T),A=Math.sin(T),B=function(ne){return ne.toFixed(4)},Y=[B(fe),B(A),B(-1*A),B(fe),0,0,"cm"]}this.internal.write("q"),T?(this.internal.write([1,"0","0",1,H(C),R(F+z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([H(G),"0","0",H(z),"0","0","cm"].join(" "))):this.internal.write([H(G),"0","0",H(z),H(C),R(F+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(C){var F,G,z=0;if(typeof C=="string")for(G=C.length,F=0;F<G;F++)z=(z<<5)-z+C.charCodeAt(F),z|=0;else if(K(C))for(G=C.byteLength/2,F=0;F<G;F++)z=(z<<5)-z+C[F],z|=0;return z},N=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var F=!0;return C.length===0&&(F=!1),C.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(F=!1),F},E=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var F=C.indexOf(",");return F<0?null:C.substring(0,F).trim().endsWith("base64")?C.substring(F+1):null},L=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return L()&&C instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(C){return L()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},V=t.__addimage__.binaryStringToUint8Array=function(C){for(var F=C.length,G=new Uint8Array(F),z=0;z<F;z++)G[z]=C.charCodeAt(z);return G},j=t.__addimage__.arrayBufferToBinaryString=function(C){for(var F="",G=K(C)?C:new Uint8Array(C),z=0;z<G.length;z+=8192)F+=String.fromCharCode.apply(null,G.subarray(z,z+8192));return F};t.addImage=function(){var C,F,G,z,q,T,X,H,R;if(typeof arguments[1]=="number"?(F=e,G=arguments[1],z=arguments[2],q=arguments[3],T=arguments[4],X=arguments[5],H=arguments[6],R=arguments[7]):(F=arguments[1],G=arguments[2],z=arguments[3],q=arguments[4],T=arguments[5],X=arguments[6],H=arguments[7],R=arguments[8]),Bt(C=arguments[0])==="object"&&!h(C)&&"imageData"in C){var ee=C;C=ee.imageData,F=ee.format||F||e,G=ee.x||G||0,z=ee.y||z||0,q=ee.w||ee.width||q,T=ee.h||ee.height||T,X=ee.alias||X,H=ee.compression||H,R=ee.rotation||ee.angle||R}var fe=this.internal.getFilters();if(H===void 0&&fe.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(G)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var A=$.call(this,C,F,X,H);return b.call(this,G,z,q,T,A,R),this};var $=function(C,F,G,z){var q,T,X;if(typeof C=="string"&&r(C)===e){C=unescape(C);var H=J(C,!1);(H!==""||(H=t.loadFile(C,!0))!==void 0)&&(C=H)}if(h(C)&&(C=g(C,F)),F=r(C,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((X=G)==null||X.length===0)&&(G=function(R){return typeof R=="string"||K(R)?x(R):K(R.data)?x(R.data):null}(C)),(q=m.call(this,G))||(L()&&(C instanceof Uint8Array||F==="RGBA"||(T=C,C=V(C))),q=this["process"+F.toUpperCase()](C,u.call(this),G,function(R){return R&&typeof R=="string"&&(R=R.toUpperCase()),R in t.image_compression?R:y.NONE}(z),T)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},J=t.__addimage__.convertBase64ToBinaryString=function(C,F){F=typeof F!="boolean"||F;var G,z="";if(typeof C=="string"){var q;G=(q=E(C))!==null&&q!==void 0?q:C;try{z=Sd(G)}catch(T){if(F)throw N(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+T.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(C){var F,G,z="";if(h(C)&&(C=g(C)),typeof C=="string"&&r(C)===e&&((z=J(C,!1))===""&&(z=t.loadFile(C)||""),C=z),G=r(C),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!L()||C instanceof Uint8Array||(C=V(C)),!(F=this["process"+G.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=G,F}})(ut.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(y(x))+") >>",b.content=s;var N=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(b.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var L=this.annotations._nameMap[r.options.name];r.options.pageNumber=L.page,r.options.top=L.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var K=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(n,o).length;a=Math.ceil(u*f)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ut.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var k=0,y=n,x="",N=0;for(k=0;k<b.length;k+=1)y[b.charCodeAt(k)]!==void 0?(N++,typeof(y=y[b.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(y),y=n,N=0),k===b.length-1&&(y=n,x+=b.charAt(k-(N-1)),k-=N-1,N=0)):(y=n,x+=b.charAt(k-N),k-=N,N=0);return x};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(b,k,y){return a(b)?s(b)===!1?-1:!u(b)||!a(k)&&!a(y)||!a(y)&&o(k)||o(b)&&!a(k)||o(b)&&l(k)||o(b)&&o(k)?0:f(b)&&a(k)&&!o(k)&&a(y)&&u(y)?3:o(b)||!a(y)?1:2:-1},m=function(b){var k=0,y=0,x=0,N="",E="",L="",K=(b=b||"").split("\\s+"),V=[];for(k=0;k<K.length;k+=1){for(V.push(""),y=0;y<K[k].length;y+=1)N=K[k][y],E=K[k][y-1],L=K[k][y+1],a(N)?(x=g(N,E,L),V[k]+=x!==-1?String.fromCharCode(e[N.charCodeAt(0)][x]):N):V[k]+=N;V[k]=h(V[k])}return V.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var b,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var x=0;for(y=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?y.push([m(k[x][0]),k[x][1],k[x][2]]):y.push([m(k[x])]);b=y}else b=m(k);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",S])}(ut.API),ut.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ut.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(b){S=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,S=0,b=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,E){return N.concat(k.splitTextToSize(E,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)m<(b=this.getStringUnitWidth(l[x],{font:h})*f)&&(m=b);return m!==0&&(S=l.length),{w:m/=g,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,h,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,S,b,k,y=[],x=[],N=[],E={},L={},K=[],V=[],j=(g=g||{}).autoSize||!1,$=g.printHeaders!==!1,J=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,C=g.margins||Object.assign({width:this.getPageWidth()},e),F=typeof g.padding=="number"?g.padding:3,G=g.headerBackgroundColor||"#c8c8c8",z=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=z,this.setFontSize(J),h==null)x=y=Object.keys(f[0]),N=y.map(function(){return"left"});else if(Array.isArray(h)&&Bt(h[0])==="object")for(y=h.map(function(ee){return ee.name}),x=h.map(function(ee){return ee.prompt||ee.name||""}),N=h.map(function(ee){return ee.align||"left"}),m=0;m<h.length;m+=1)L[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=y=h,N=y.map(function(){return"left"}));if(j||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<y.length;m+=1){for(E[k=y[m]]=f.map(function(ee){return ee[k]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=E[k],this.setFont(void 0,"normal"),b=0;b<S.length;b+=1)K.push(this.getTextDimensions(S[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[k]=Math.max.apply(null,K)+F+F,K=[]}if($){var q={};for(m=0;m<y.length;m+=1)q[y[m]]={},q[y[m]].text=x[m],q[y[m]].align=N[m];var T=o.call(this,q,L);V=y.map(function(ee){return new s(l,u,L[ee],T,q[ee].text,void 0,q[ee].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var X=h.reduce(function(ee,fe){return ee[fe.name]=fe.align,ee},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var H=o.call(this,f[m],L);for(b=0;b<y.length;b+=1){var R=f[m][y[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:R},this),a.call(this,new s(l,u,L[y[b]],H,R,m+2,X[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var S=l[m];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/g+f+f},this).reduce(function(m,S){return Math.max(m,S)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ut.API);var mS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W1=pS(gS),vS=[100,200,300,400,500,600,700,800,900],A7=pS(vS);function K1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return mS[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof W1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Pw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var C7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ew={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Dw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function L7(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},C7,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=K1(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+Dw(s)+"' and default family '"+r+"'.");if(a=function(l,u){if(u[l])return u[l];var f=W1[l],h=f<=W1.normal?-1:1,g=Pw(u,gS,f,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var f=mS[l],h=0;h<f.length;++h)if(u[f[h]])return u[f[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var f=A7[l],h=Pw(u,vS,f,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Dw(s)+"'.");return a}function Fw(t){return t.trimLeft()}function P7(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function E7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ef,Tw,Ow,a0=["times"];(function(t){var e,n,r,i,s,a,o,l,u,f=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new a,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new a,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var h=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=A;Object.defineProperty(this,"pdf",{get:function(){return B}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(be){Y=!!be}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(be){ne=!!be}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(be){isNaN(be)||(re=be)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(be){isNaN(be)||(de=be)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(be){var te;typeof be=="number"?te=[be,be,be,be]:((te=new Array(4))[0]=be[0],te[1]=be.length>=2?be[1]:te[0],te[2]=be.length>=3?be[2]:te[0],te[3]=be.length>=4?be[3]:te[1]),u.margin=te}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(be){me=be}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(be){we=be}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(be){Oe=be}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(be){be instanceof f&&(u=be)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(be){u.path=be}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(be){Fe=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var te;te=g(be),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var te=g(be);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var Be=null;function $e(be,te){if(Be===null){var it=function(Ye){var Ee=[];return Object.keys(Ye).forEach(function(ze){Ye[ze].forEach(function(Ve){var W=null;switch(Ve){case"bold":W={family:ze,weight:"bold"};break;case"italic":W={family:ze,style:"italic"};break;case"bolditalic":W={family:ze,weight:"bold",style:"italic"};break;case"":case"normal":W={family:ze}}W!==null&&(W.ref={name:ze,style:Ve},Ee.push(W))})}),Ee}(be.getFontList());Be=function(Ye){for(var Ee={},ze=0;ze<Ye.length;++ze){var Ve=K1(Ye[ze]),W=Ve.family,se=Ve.stretch,ge=Ve.style,je=Ve.weight;Ee[W]=Ee[W]||{},Ee[W][se]=Ee[W][se]||{},Ee[W][se][ge]=Ee[W][se][ge]||{},Ee[W][se][ge][je]=Ve}return Ee}(it.concat(te))}return Be}var rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(be){Be=null,rt=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var te;if(this.ctx.font=be,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var it=te[1];te[2];var Ye=te[3],Ee=te[4];te[5];var ze=te[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Ve==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var W=function(qe){var Ze,Me,Jt=[],bt=qe.trim();if(bt==="")return a0;if(bt in Ew)return[Ew[bt]];for(;bt!=="";){switch(Me=null,Ze=(bt=Fw(bt)).charAt(0)){case'"':case"'":Me=P7(bt.substring(1),Ze);break;default:Me=E7(bt)}if(Me===null||(Jt.push(Me[0]),(bt=Fw(Me[1]))!==""&&bt.charAt(0)!==","))return a0;bt=bt.replace(/^,/,"")}return Jt}(ze);if(this.fontFaces){var se=L7($e(this.pdf,this.fontFaces),W.map(function(qe){return{family:qe,stretch:"normal",weight:Ye,style:it}}));this.pdf.setFont(se.ref.name,se.ref.style)}else{var ge="";(Ye==="bold"||parseInt(Ye,10)>=700||it==="bold")&&(ge="bold"),it==="italic"&&(ge+="italic"),ge.length===0&&(ge="normal");for(var je="",Ne={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ke=0;ke<W.length;ke++){if(this.pdf.internal.getFont(W[ke],ge,{noFallback:!0,disableWarning:!0})!==void 0){je=W[ke];break}if(ge==="bolditalic"&&this.pdf.internal.getFont(W[ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)je=W[ke],ge="bold";else if(this.pdf.internal.getFont(W[ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){je=W[ke],ge="normal";break}}if(je===""){for(var Ie=0;Ie<W.length;Ie++)if(Ne[W[Ie]]){je=Ne[W[Ie]];break}}je=je===""?"Times":je,this.pdf.setFont(je,ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};h.prototype.setLineDash=function(A){this.lineDash=A},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(A,B){if(isNaN(A)||isNaN(B))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(A,B));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(A,B)},h.prototype.closePath=function(){var A=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Bt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){A=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(A.x,A.y)},h.prototype.lineTo=function(A,B){if(isNaN(A)||isNaN(B))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(A,B));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(A,B,Y,ne){if(isNaN(Y)||isNaN(ne)||isNaN(A)||isNaN(B))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(Y,ne)),de=this.ctx.transform.applyToPoint(new a(A,B));this.path.push({type:"qct",x1:de.x,y1:de.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},h.prototype.bezierCurveTo=function(A,B,Y,ne,re,de){if(isNaN(re)||isNaN(de)||isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(re,de)),we=this.ctx.transform.applyToPoint(new a(A,B)),Oe=this.ctx.transform.applyToPoint(new a(Y,ne));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Oe.x,y2:Oe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},h.prototype.arc=function(A,B,Y,ne,re,de){if(isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne)||isNaN(re))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(A,B));A=me.x,B=me.y;var we=this.ctx.transform.applyToPoint(new a(0,Y)),Oe=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(we.x-Oe.x,2)+Math.pow(we.y-Oe.y,2))}Math.abs(re-ne)>=2*Math.PI&&(ne=0,re=2*Math.PI),this.path.push({type:"arc",x:A,y:B,radius:Y,startAngle:ne,endAngle:re,counterclockwise:de})},h.prototype.arcTo=function(A,B,Y,ne,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function(A,B,Y,ne){if(isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,B),this.lineTo(A+Y,B),this.lineTo(A+Y,B+ne),this.lineTo(A,B+ne),this.lineTo(A,B),this.lineTo(A+Y,B),this.lineTo(A,B)},h.prototype.fillRect=function(A,B,Y,ne){if(isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,B,Y,ne),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function(A,B,Y,ne){if(isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(A,B,Y,ne),this.stroke())},h.prototype.clearRect=function(A,B,Y,ne){if(isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,B,Y,ne))},h.prototype.save=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(B),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(A){var B,Y,ne,re;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))B=0,Y=0,ne=0,re=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(de!==null)B=parseInt(de[1]),Y=parseInt(de[2]),ne=parseInt(de[3]),re=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)B=parseInt(de[1]),Y=parseInt(de[2]),ne=parseInt(de[3]),re=parseFloat(de[4]);else{if(re=1,typeof A=="string"&&A.charAt(0)!=="#"){var me=new lS(A);A=me.ok?me.toHex():"#000000"}A.length===4?(B=A.substring(1,2),B+=B,Y=A.substring(2,3),Y+=Y,ne=A.substring(3,4),ne+=ne):(B=A.substring(1,3),Y=A.substring(3,5),ne=A.substring(5,7)),B=parseInt(B,16),Y=parseInt(Y,16),ne=parseInt(ne,16)}}return{r:B,g:Y,b:ne,a:re,style:A}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(A,B,Y,ne){if(isNaN(B)||isNaN(Y)||typeof A!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var re=H(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;F.call(this,{text:A,x:B,y:Y,scale:de,angle:re,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(A,B,Y,ne){if(isNaN(B)||isNaN(Y)||typeof A!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ne=isNaN(ne)?void 0:ne;var re=H(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;F.call(this,{text:A,x:B,y:Y,scale:de,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(A){if(typeof A!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,Y=this.pdf.internal.scaleFactor,ne=B.internal.getFontSize(),re=B.getStringUnitWidth(A)*ne/B.internal.scaleFactor,de=function(me){var we=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new de({width:re*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(A,B){if(isNaN(A)||isNaN(B))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(A,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(A){if(isNaN(A))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.translate=function(A,B){if(isNaN(A)||isNaN(B))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,A,B);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(A,B,Y,ne,re,de){if(isNaN(A)||isNaN(B)||isNaN(Y)||isNaN(ne)||isNaN(re)||isNaN(de))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(A,B,Y,ne,re,de);this.ctx.transform=this.ctx.transform.multiply(me)},h.prototype.setTransform=function(A,B,Y,ne,re,de){A=isNaN(A)?1:A,B=isNaN(B)?0:B,Y=isNaN(Y)?0:Y,ne=isNaN(ne)?1:ne,re=isNaN(re)?0:re,de=isNaN(de)?0:de,this.ctx.transform=new l(A,B,Y,ne,re,de)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(A,B,Y,ne,re,de,me,we,Oe){var Fe=this.pdf.getImageProperties(A),Be=1,$e=1,rt=1,be=1;ne!==void 0&&we!==void 0&&(rt=we/ne,be=Oe/re,Be=Fe.width/ne*we/ne,$e=Fe.height/re*Oe/re),de===void 0&&(de=B,me=Y,B=0,Y=0),ne!==void 0&&we===void 0&&(we=ne,Oe=re),ne===void 0&&we===void 0&&(we=Fe.width,Oe=Fe.height);for(var te,it=this.ctx.transform.decompose(),Ye=H(it.rotate.shx),Ee=new l,ze=(Ee=(Ee=(Ee=Ee.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new o(de-B*rt,me-Y*be,ne*Be,re*$e)),Ve=k.call(this,ze),W=[],se=0;se<Ve.length;se+=1)W.indexOf(Ve[se])===-1&&W.push(Ve[se]);if(N(W),this.autoPaging)for(var ge=W[0],je=W[W.length-1],Ne=ge;Ne<je+1;Ne++){this.pdf.setPage(Ne);var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=Ne===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=Ne===1?0:qe+(Ne-2)*Ze;if(this.ctx.clip_path.length!==0){var Jt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(te,this.posX+this.margin[3],-Me+Ie+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Jt}var bt=JSON.parse(JSON.stringify(ze));bt=x([bt],this.posX+this.margin[3],-Me+Ie+this.ctx.prevPageLastElemOffset)[0];var Yn=(Ne>ge||Ne<je)&&b.call(this);Yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ze,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,Ye),Yn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Ye)};var k=function(A,B,Y){var ne=[];B=B||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":ne.push(Math.floor((A.y+re)/Y)+1);break;case"arc":ne.push(Math.floor((A.y+re-A.radius)/Y)+1),ne.push(Math.floor((A.y+re+A.radius)/Y)+1);break;case"qct":var de=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);ne.push(Math.floor((de.y+re)/Y)+1),ne.push(Math.floor((de.y+de.h+re)/Y)+1);break;case"bct":var me=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);ne.push(Math.floor((me.y+re)/Y)+1),ne.push(Math.floor((me.y+me.h+re)/Y)+1);break;case"rect":ne.push(Math.floor((A.y+re)/Y)+1),ne.push(Math.floor((A.y+A.h+re)/Y)+1)}for(var we=0;we<ne.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ne[we];)y.call(this);return ne},y=function(){var A=this.fillStyle,B=this.strokeStyle,Y=this.font,ne=this.lineCap,re=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=B,this.font=Y,this.lineCap=ne,this.lineWidth=re,this.lineJoin=de},x=function(A,B,Y){for(var ne=0;ne<A.length;ne++)switch(A[ne].type){case"bct":A[ne].x2+=B,A[ne].y2+=Y;case"qct":A[ne].x1+=B,A[ne].y1+=Y;case"mt":case"lt":case"arc":default:A[ne].x+=B,A[ne].y+=Y}return A},N=function(A){return A.sort(function(B,Y){return B-Y})},E=function(A,B){for(var Y,ne,re=this.fillStyle,de=this.strokeStyle,me=this.lineCap,we=this.lineWidth,Oe=Math.abs(we*this.ctx.transform.scaleX),Fe=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),rt=[],be=0;be<$e.length;be++)if($e[be].x!==void 0)for(var te=k.call(this,$e[be]),it=0;it<te.length;it+=1)rt.indexOf(te[it])===-1&&rt.push(te[it]);for(var Ye=0;Ye<rt.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<rt[Ye];)y.call(this);if(N(rt),this.autoPaging)for(var Ee=rt[0],ze=rt[rt.length-1],Ve=Ee;Ve<ze+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=re,this.strokeStyle=de,this.lineCap=me,this.lineWidth=Oe,this.lineJoin=Fe;var W=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],se=Ve===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=Ve===1?0:ge+(Ve-2)*je;if(this.ctx.clip_path.length!==0){var ke=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Y,this.posX+this.margin[3],-Ne+se+this.ctx.prevPageLastElemOffset),L.call(this,A,!0),this.path=ke}if(ne=JSON.parse(JSON.stringify(Be)),this.path=x(ne,this.posX+this.margin[3],-Ne+se+this.ctx.prevPageLastElemOffset),B===!1||Ve===0){var Ie=(Ve>Ee||Ve<ze)&&b.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],W,je,null).clip().discardPath()),L.call(this,A,B),Ie&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Oe,L.call(this,A,B),this.lineWidth=we;this.path=Be},L=function(A,B){if((A!=="stroke"||B||!S.call(this))&&(A==="stroke"||B||!m.call(this))){for(var Y,ne,re=[],de=this.path,me=0;me<de.length;me++){var we=de[me];switch(we.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:we,deltas:[],abs:[]});break;case"lt":var Oe=re.length;if(de[me-1]&&!isNaN(de[me-1].x)&&(Y=[we.x-de[me-1].x,we.y-de[me-1].y],Oe>0)){for(;Oe>=0;Oe--)if(re[Oe-1].close!==!0&&re[Oe-1].begin!==!0){re[Oe-1].deltas.push(Y),re[Oe-1].abs.push(we);break}}break;case"bct":Y=[we.x1-de[me-1].x,we.y1-de[me-1].y,we.x2-de[me-1].x,we.y2-de[me-1].y,we.x-de[me-1].x,we.y-de[me-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var Fe=de[me-1].x+2/3*(we.x1-de[me-1].x),Be=de[me-1].y+2/3*(we.y1-de[me-1].y),$e=we.x+2/3*(we.x1-we.x),rt=we.y+2/3*(we.y1-we.y),be=we.x,te=we.y;Y=[Fe-de[me-1].x,Be-de[me-1].y,$e-de[me-1].x,rt-de[me-1].y,be-de[me-1].x,te-de[me-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(we)}}ne=B?null:A==="stroke"?"stroke":"fill";for(var it=!1,Ye=0;Ye<re.length;Ye++)if(re[Ye].arc)for(var Ee=re[Ye].abs,ze=0;ze<Ee.length;ze++){var Ve=Ee[ze];Ve.type==="arc"?j.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,B,!it):G.call(this,Ve.x,Ve.y),it=!0}else if(re[Ye].close===!0)this.pdf.internal.out("h"),it=!1;else if(re[Ye].begin!==!0){var W=re[Ye].start.x,se=re[Ye].start.y;z.call(this,re[Ye].deltas,W,se),it=!0}ne&&$.call(this,ne),B&&J.call(this)}},K=function(A){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-Y;case"top":return A+B-Y;case"hanging":return A+B-2*Y;case"middle":return A+B/2-Y;case"ideographic":return A;case"alphabetic":default:return A}},V=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(B,Y){this.colorStops.push([B,Y])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(A,B,Y,ne,re,de,me,we,Oe){for(var Fe=T.call(this,Y,ne,re,de),Be=0;Be<Fe.length;Be++){var $e=Fe[Be];Be===0&&(Oe?C.call(this,$e.x1+A,$e.y1+B):G.call(this,$e.x1+A,$e.y1+B)),q.call(this,A,B,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}we?J.call(this):$.call(this,me)},$=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(A,B){this.pdf.internal.out(n(A)+" "+r(B)+" m")},F=function(A){var B;switch(A.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var Y=this.pdf.getTextDimensions(A.text),ne=K.call(this,A.y),re=V.call(this,ne)-Y.h,de=this.ctx.transform.applyToPoint(new a(A.x,ne)),me=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Oe,Fe,Be,$e=this.ctx.transform.applyToRectangle(new o(A.x,ne,Y.w,Y.h)),rt=we.applyToRectangle(new o(A.x,re,Y.w,Y.h)),be=k.call(this,rt),te=[],it=0;it<be.length;it+=1)te.indexOf(be[it])===-1&&te.push(be[it]);if(N(te),this.autoPaging)for(var Ye=te[0],Ee=te[te.length-1],ze=Ye;ze<Ee+1;ze++){this.pdf.setPage(ze);var Ve=ze===1?this.posY+this.margin[0]:this.margin[0],W=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[2],ge=se-this.margin[0],je=this.pdf.internal.pageSize.width-this.margin[1],Ne=je-this.margin[3],ke=ze===1?0:W+(ze-2)*ge;if(this.ctx.clip_path.length!==0){var Ie=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Oe,this.posX+this.margin[3],-1*ke+Ve),L.call(this,"fill",!0),this.path=Ie}var qe=x([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-ke+Ve+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*A.scale),Be=this.lineWidth,this.lineWidth=Be*A.scale);var Ze=this.autoPaging!=="text";if(Ze||qe.y+qe.h<=se){if(Ze||qe.y>=Ve&&qe.x<=je){var Me=Ze?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||je-qe.x)[0],Jt=x([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-ke+Ve+this.ctx.prevPageLastElemOffset)[0],bt=Ze&&(ze>Ye||ze<Ee)&&b.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,ge,null).clip().discardPath()),this.pdf.text(Me,Jt.x,Jt.y,{angle:A.angle,align:B,renderingMode:A.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else qe.y<se&&(this.ctx.prevPageLastElemOffset+=se-qe.y);A.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Be)}else A.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*A.scale),Be=this.lineWidth,this.lineWidth=Be*A.scale),this.pdf.text(A.text,de.x+this.posX,de.y+this.posY,{angle:A.angle,align:B,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Be)},G=function(A,B,Y,ne){Y=Y||0,ne=ne||0,this.pdf.internal.out(n(A+Y)+" "+r(B+ne)+" l")},z=function(A,B,Y){return this.pdf.lines(A,B,Y,null,null)},q=function(A,B,Y,ne,re,de,me,we){this.pdf.internal.out([e(i(Y+A)),e(s(ne+B)),e(i(re+A)),e(s(de+B)),e(i(me+A)),e(s(we+B)),"c"].join(" "))},T=function(A,B,Y,ne){for(var re=2*Math.PI,de=Math.PI/2;B>Y;)B-=re;var me=Math.abs(Y-B);me<re&&ne&&(me=re-me);for(var we=[],Oe=ne?-1:1,Fe=B;me>1e-5;){var Be=Fe+Oe*Math.min(me,de);we.push(X.call(this,A,Fe,Be)),me-=Math.abs(Be-Fe),Fe=Be}return we},X=function(A,B,Y){var ne=(Y-B)/2,re=A*Math.cos(ne),de=A*Math.sin(ne),me=re,we=-de,Oe=me*me+we*we,Fe=Oe+me*re+we*de,Be=4/3*(Math.sqrt(2*Oe*Fe)-Fe)/(me*de-we*re),$e=me-Be*we,rt=we+Be*me,be=$e,te=-rt,it=ne+B,Ye=Math.cos(it),Ee=Math.sin(it);return{x1:A*Math.cos(B),y1:A*Math.sin(B),x2:$e*Ye-rt*Ee,y2:$e*Ee+rt*Ye,x3:be*Ye-te*Ee,y3:be*Ee+te*Ye,x4:A*Math.cos(Y),y4:A*Math.sin(Y)}},H=function(A){return 180*A/Math.PI},R=function(A,B,Y,ne,re,de){var me=A+.5*(Y-A),we=B+.5*(ne-B),Oe=re+.5*(Y-re),Fe=de+.5*(ne-de),Be=Math.min(A,re,me,Oe),$e=Math.max(A,re,me,Oe),rt=Math.min(B,de,we,Fe),be=Math.max(B,de,we,Fe);return new o(Be,rt,$e-Be,be-rt)},ee=function(A,B,Y,ne,re,de,me,we){var Oe,Fe,Be,$e,rt,be,te,it,Ye,Ee,ze,Ve,W,se,ge=Y-A,je=ne-B,Ne=re-Y,ke=de-ne,Ie=me-re,qe=we-de;for(Fe=0;Fe<41;Fe++)Ye=(te=(Be=A+(Oe=Fe/40)*ge)+Oe*((rt=Y+Oe*Ne)-Be))+Oe*(rt+Oe*(re+Oe*Ie-rt)-te),Ee=(it=($e=B+Oe*je)+Oe*((be=ne+Oe*ke)-$e))+Oe*(be+Oe*(de+Oe*qe-be)-it),Fe==0?(ze=Ye,Ve=Ee,W=Ye,se=Ee):(ze=Math.min(ze,Ye),Ve=Math.min(Ve,Ee),W=Math.max(W,Ye),se=Math.max(se,Ee));return new o(Math.round(ze),Math.round(Ve),Math.round(W-ze),Math.round(se-Ve))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,B,Y=(A=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:B}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ut.API),function(t){var e=function(s){var a,o,l,u,f,h,g,m,S,b;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(f=((f=((f=((f=(f-(b=f%85))/85)-(S=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)%85,o.push(h+33,g+33,m+33,S+33,b+33)):o.push(122);return function(k,y){for(var x=y;x>0;x--)k.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,u,f,h=String,g="length",m=255,S="charCodeAt",b="slice",k="replace";for(s[b](-2),s=s[b](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],u=0,f=(s+=a="uuuuu"[b](s[g]%5||5))[g];f>u;u+=5)o=52200625*(s[S](u)-33)+614125*(s[S](u+1)-33)+7225*(s[S](u+2)-33)+85*(s[S](u+3)-33)+(s[S](u+4)-33),l.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(y,x){for(var N=x;N>0;N--)y.pop()}(l,a[g]),h.fromCharCode.apply(h,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=U1(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ut.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,f){var h=new XMLHttpRequest,g=0,m=function(S){var b=S.length,k=[],y=String.fromCharCode;for(g=0;g<b;g+=1)k.push(y(255&S.charCodeAt(g)));return k.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(m(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(ut.API),function(t){function e(){return(dt.html2canvas?Promise.resolve(dt.html2canvas):Xs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(dt.DOMPurify?Promise.resolve(dt.DOMPurify):Xs(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Bt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(l(g,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var m=u[g],S=m.src.find(function(b){return b.format==="truetype"});S&&l.addFont(S.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,f){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,u),h}).then(u,f).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(u,a,o);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ut.getPageSize=function(a,o,l){if(Bt(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var f,h=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var m,S=0,b=0;if(g.hasOwnProperty(h))S=g[h][1]/f,b=g[h][0]/f;else try{S=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",b>S&&(m=b,b=S,S=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",S>b&&(m=b,b=S,S=m)}return{width:b,height:S,unit:o,k:f,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(K1):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(ut.API),ut.API.addJS=function(t){return Ow=t,this.internal.events.subscribe("postPutResources",function(){Ef=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ef+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Tw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ow+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ef!==void 0&&Tw!==void 0&&this.internal.out("/Names <</JavaScript "+Ef+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var h=n.internal.newObject();f.push(h);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ut.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var g,m=256*h.charCodeAt(4)+h.charCodeAt(5),S=h.length,b={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=m,e.indexOf(h.charCodeAt(k+1))!==-1){g=256*h.charCodeAt(k+5)+h.charCodeAt(k+6),b={width:256*h.charCodeAt(k+7)+h.charCodeAt(k+8),height:g,numcomponents:h.charCodeAt(k+9)};break}m=256*h.charCodeAt(k+2)+h.charCodeAt(k+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(ut.API);var Yl,Df,Iw,Rw,Mw,D7=function(){var t,e,n;function r(s){var a,o,l,u,f,h,g,m,S,b,k,y,x,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),S=(function(){var E,L;for(L=[],E=0;E<4;++E)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*f/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(k=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,k.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,k.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,g,m,S){var b,k,y,x,N,E,L,K,V,j,$,J,C,F,G,z,q,T,X,H,R,ee=Math.ceil((u.width-h)/m),fe=Math.ceil((u.height-g)/S),A=u.width==ee&&u.height==fe;for(F=a*ee,J=A?o:new Uint8Array(F*fe),E=s.length,C=0,k=0;C<fe&&l<E;){switch(s[l++]){case 0:for(x=q=0;q<F;x=q+=1)J[k++]=s[l++];break;case 1:for(x=T=0;T<F;x=T+=1)b=s[l++],N=x<a?0:J[k-a],J[k++]=(b+N)%256;break;case 2:for(x=X=0;X<F;x=X+=1)b=s[l++],y=(x-x%a)/a,G=C&&J[(C-1)*F+y*a+x%a],J[k++]=(G+b)%256;break;case 3:for(x=H=0;H<F;x=H+=1)b=s[l++],y=(x-x%a)/a,N=x<a?0:J[k-a],G=C&&J[(C-1)*F+y*a+x%a],J[k++]=(b+Math.floor((N+G)/2))%256;break;case 4:for(x=R=0;R<F;x=R+=1)b=s[l++],y=(x-x%a)/a,N=x<a?0:J[k-a],C===0?G=z=0:(G=J[(C-1)*F+y*a+x%a],z=y&&J[(C-1)*F+(y-1)*a+x%a]),L=N+G-z,K=Math.abs(L-N),j=Math.abs(L-G),$=Math.abs(L-z),V=K<=j&&K<=$?N:j<=$?G:z,J[k++]=(b+V)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!A){var B=((g+C*S)*u.width+h)*a,Y=C*F;for(x=0;x<ee;x+=1){for(var ne=0;ne<a;ne+=1)o[B++]=J[Y++];B+=(m-1)*a}}C++}}return s=u7(s),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,u,f,h,g,m;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),l=0,s=0,a=h=0,g=o.length;h<g;a=h+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(m=f[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,a){var o,l,u,f,h,g,m,S,b,k,y;if(l=this.colors,b=null,o=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),S=(u=s.data||s).length,h=b||a,f=g=0,l===1)for(;f<S;)m=b?4*a[f/4]:g,k=h[m++],u[f++]=k,u[f++]=k,u[f++]=k,u[f++]=o?h[m++]:255,g=m;else for(;f<S;)m=b?4*a[f/4]:g,u[f++]=h[m++],u[f++]=h[m++],u[f++]=h[m++],u[f++]=o?h[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(dt)==="[object Window]"){try{e=dt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,u,f,h,g,m;if(this.animation){for(m=[],o=f=0,h=(g=this.animation.frames).length;f<h;o=++f)a=g[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,m.push(a.image=t(l));return m}},r.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,u,f,h,g=this;return o=0,h=this.animation,u=h.numFrames,l=h.frames,f=h.numPlays,(a=function(){var m,S;if(m=o++%u,S=l[m],g.renderFrame(s,m),u>1&&o/u<f)return g.animation._timeout=setTimeout(a,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function F7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,f=[],h=0,g=null,m=0,S=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,g=t[e++],!(1&b)&&(g=null),m=b>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,E=t[e++],L=E>>6&1,K=1<<(7&E)+1,V=o,j=l,$=!1;E>>7&&($=!0,V=e,j=K,e+=3*K);var J=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}f.push({x:k,y,width:x,height:N,has_local_palette:$,palette_offset:V,palette_size:j,data_offset:J,data_length:e-J,transparent_index:g,interlaced:!!L,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(F){if(F<0||F>=f.length)throw new Error("Frame index out of range.");return f[F]},this.decodeAndBlitFrameBGRA=function(F,G){var z=this.frameInfo(F),q=z.width*z.height,T=new Uint8Array(q);Bw(t,z.data_offset,T,q);var X=z.palette_offset,H=z.transparent_index;H===null&&(H=256);var R=z.width,ee=n-R,fe=R,A=4*(z.y*n+z.x),B=4*((z.y+z.height)*n+z.x),Y=A,ne=4*ee;z.interlaced===!0&&(ne+=4*n*7);for(var re=8,de=0,me=T.length;de<me;++de){var we=T[de];if(fe===0&&(fe=R,(Y+=ne)>=B&&(ne=4*ee+4*n*(re-1),Y=A+(R+ee)*(re<<1),re>>=1)),we===H)Y+=4;else{var Oe=t[X+3*we],Fe=t[X+3*we+1],Be=t[X+3*we+2];G[Y++]=Be,G[Y++]=Fe,G[Y++]=Oe,G[Y++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(F,G){var z=this.frameInfo(F),q=z.width*z.height,T=new Uint8Array(q);Bw(t,z.data_offset,T,q);var X=z.palette_offset,H=z.transparent_index;H===null&&(H=256);var R=z.width,ee=n-R,fe=R,A=4*(z.y*n+z.x),B=4*((z.y+z.height)*n+z.x),Y=A,ne=4*ee;z.interlaced===!0&&(ne+=4*n*7);for(var re=8,de=0,me=T.length;de<me;++de){var we=T[de];if(fe===0&&(fe=R,(Y+=ne)>=B&&(ne=4*ee+4*n*(re-1),Y=A+(R+ee)*(re<<1),re>>=1)),we===H)Y+=4;else{var Oe=t[X+3*we],Fe=t[X+3*we+1],Be=t[X+3*we+2];G[Y++]=Oe,G[Y++]=Fe,G[Y++]=Be,G[Y++]=255}--fe}}}function Bw(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,f=0,h=0,g=0,m=t[e++],S=new Int32Array(4096),b=null;;){for(;f<16&&m!==0;)h|=t[e++]<<f,f+=8,m===1?m=t[e++]:--m;if(f<l)break;var k=h&u;if(h>>=l,f-=l,k!==s){if(k===a)break;for(var y=k<o?k:b,x=0,N=y;N>s;)N=S[N]>>8,++x;var E=N;if(g+x+(y!==k?1:0)>r)return void Ht.log("Warning, gif stream longer than expected.");n[g++]=E;var L=g+=x;for(y!==k&&(n[g++]=E),N=y;x--;)N=S[N],n[--L]=255&N,N>>=8;b!==null&&o<4096&&(S[o++]=b<<8|E,o>=u+1&&l<12&&(++l,u=u<<1|1)),b=k}else o=a+1,u=(1<<(l=i+1))-1,b=null}return g!==r&&Ht.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function o0(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),m=new Array(64),S=new Array(64),b=[],k=0,y=7,x=new Array(64),N=new Array(64),E=new Array(64),L=new Array(256),K=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(A,B){for(var Y=0,ne=0,re=new Array,de=1;de<=16;de++){for(var me=1;me<=A[de];me++)re[B[ne]]=[],re[B[ne]][0]=Y,re[B[ne]][1]=de,ne++,Y++;Y*=2}return re}function X(A){for(var B=A[0],Y=A[1]-1;Y>=0;)B&1<<Y&&(k|=1<<y),Y--,--y<0&&(k==255?(H(255),H(0)):H(k),y=7,k=0)}function H(A){b.push(A)}function R(A){H(A>>8&255),H(255&A)}function ee(A,B,Y,ne,re){for(var de,me=re[0],we=re[240],Oe=function(Ee,ze){var Ve,W,se,ge,je,Ne,ke,Ie,qe,Ze,Me=0;for(qe=0;qe<8;++qe){Ve=Ee[Me],W=Ee[Me+1],se=Ee[Me+2],ge=Ee[Me+3],je=Ee[Me+4],Ne=Ee[Me+5],ke=Ee[Me+6];var Jt=Ve+(Ie=Ee[Me+7]),bt=Ve-Ie,Yn=W+ke,Et=W-ke,Tt=se+Ne,Dr=se-Ne,St=ge+je,nr=ge-je,rn=Jt+St,Qr=Jt-St,ui=Yn+Tt,Xt=Yn-Tt;Ee[Me]=rn+ui,Ee[Me+4]=rn-ui;var Ue=.707106781*(Xt+Qr);Ee[Me+2]=Qr+Ue,Ee[Me+6]=Qr-Ue;var ct=.382683433*((rn=nr+Dr)-(Xt=Et+bt)),sn=.5411961*rn+ct,Dt=1.306562965*Xt+ct,wr=.707106781*(ui=Dr+Et),Ut=bt+wr,tt=bt-wr;Ee[Me+5]=tt+sn,Ee[Me+3]=tt-sn,Ee[Me+1]=Ut+Dt,Ee[Me+7]=Ut-Dt,Me+=8}for(Me=0,qe=0;qe<8;++qe){Ve=Ee[Me],W=Ee[Me+8],se=Ee[Me+16],ge=Ee[Me+24],je=Ee[Me+32],Ne=Ee[Me+40],ke=Ee[Me+48];var rr=Ve+(Ie=Ee[Me+56]),hn=Ve-Ie,Wt=W+ke,fn=W-ke,qt=se+Ne,Fr=se-Ne,cl=ge+je,ks=ge-je,Ci=rr+cl,Li=rr-cl,Pi=Wt+qt,es=Wt-qt;Ee[Me]=Ci+Pi,Ee[Me+32]=Ci-Pi;var di=.707106781*(es+Li);Ee[Me+16]=Li+di,Ee[Me+48]=Li-di;var ts=.382683433*((Ci=ks+Fr)-(es=fn+hn)),fo=.5411961*Ci+ts,ul=1.306562965*es+ts,dl=.707106781*(Pi=Fr+fn),hl=hn+dl,fl=hn-dl;Ee[Me+40]=fl+fo,Ee[Me+24]=fl-fo,Ee[Me+8]=hl+ul,Ee[Me+56]=hl-ul,Me++}for(qe=0;qe<64;++qe)Ze=Ee[qe]*ze[qe],m[qe]=Ze>0?Ze+.5|0:Ze-.5|0;return m}(A,B),Fe=0;Fe<64;++Fe)S[V[Fe]]=Oe[Fe];var Be=S[0]-Y;Y=S[0],Be==0?X(ne[0]):(X(ne[g[de=32767+Be]]),X(h[de]));for(var $e=63;$e>0&&S[$e]==0;)$e--;if($e==0)return X(me),Y;for(var rt,be=1;be<=$e;){for(var te=be;S[be]==0&&be<=$e;)++be;var it=be-te;if(it>=16){rt=it>>4;for(var Ye=1;Ye<=rt;++Ye)X(we);it&=15}de=32767+S[be],X(re[(it<<4)+g[de]]),X(h[de]),be++}return $e!=63&&X(me),Y}function fe(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(B){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var re=a((Y[ne]*B+50)/100);re=Math.min(Math.max(re,1),255),o[V[ne]]=re}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var we=a((de[me]*B+50)/100);we=Math.min(Math.max(we,1),255),l[V[me]]=we}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Be=0;Be<8;Be++)for(var $e=0;$e<8;$e++)u[Fe]=1/(o[V[Fe]]*Oe[Be]*Oe[$e]*8),f[Fe]=1/(l[V[Fe]]*Oe[Be]*Oe[$e]*8),Fe++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,B){B&&fe(B),b=new Array,k=0,y=7,R(65496),R(65504),R(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),R(1),R(1),H(0),H(0),function(){R(65499),R(132),H(0);for(var W=0;W<64;W++)H(o[W]);H(1);for(var se=0;se<64;se++)H(l[se])}(),function(W,se){R(65472),R(17),H(8),R(se),R(W),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(A.width,A.height),function(){R(65476),R(418),H(0);for(var W=0;W<16;W++)H(j[W+1]);for(var se=0;se<=11;se++)H($[se]);H(16);for(var ge=0;ge<16;ge++)H(J[ge+1]);for(var je=0;je<=161;je++)H(C[je]);H(1);for(var Ne=0;Ne<16;Ne++)H(F[Ne+1]);for(var ke=0;ke<=11;ke++)H(G[ke]);H(17);for(var Ie=0;Ie<16;Ie++)H(z[Ie+1]);for(var qe=0;qe<=161;qe++)H(q[qe])}(),R(65498),R(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var Y=0,ne=0,re=0;k=0,y=7,this.encode.displayName="_encode_";for(var de,me,we,Oe,Fe,Be,$e,rt,be,te=A.data,it=A.width,Ye=A.height,Ee=4*it,ze=0;ze<Ye;){for(de=0;de<Ee;){for(Fe=Ee*ze+de,$e=-1,rt=0,be=0;be<64;be++)Be=Fe+(rt=be>>3)*Ee+($e=4*(7&be)),ze+rt>=Ye&&(Be-=Ee*(ze+1+rt-Ye)),de+$e>=Ee&&(Be-=de+$e-Ee+4),me=te[Be++],we=te[Be++],Oe=te[Be++],x[be]=(K[me]+K[we+256>>0]+K[Oe+512>>0]>>16)-128,N[be]=(K[me+768>>0]+K[we+1024>>0]+K[Oe+1280>>0]>>16)-128,E[be]=(K[me+1280>>0]+K[we+1536>>0]+K[Oe+1792>>0]>>16)-128;Y=ee(x,u,Y,e,r),ne=ee(N,f,ne,n,i),re=ee(E,f,re,n,i),de+=32}ze+=8}if(y>=0){var Ve=[];Ve[1]=y+1,Ve[0]=(1<<y+1)-1,X(Ve)}return R(65497),new Uint8Array(b)},t=t||50,function(){for(var A=String.fromCharCode,B=0;B<256;B++)L[B]=A(B)}(),e=T(j,$),n=T(F,G),r=T(J,C),i=T(z,q),function(){for(var A=1,B=2,Y=1;Y<=15;Y++){for(var ne=A;ne<B;ne++)g[32767+ne]=Y,h[32767+ne]=[],h[32767+ne][1]=Y,h[32767+ne][0]=ne;for(var re=-(B-1);re<=-A;re++)g[32767+re]=Y,h[32767+re]=[],h[32767+re][1]=Y,h[32767+re][0]=B-1+re;A<<=1,B<<=1}}(),function(){for(var A=0;A<256;A++)K[A]=19595*A,K[A+256>>0]=38470*A,K[A+512>>0]=7471*A+32768,K[A+768>>0]=-11059*A,K[A+1024>>0]=-21709*A,K[A+1280>>0]=32768*A+8421375,K[A+1536>>0]=-27439*A,K[A+1792>>0]=-5329*A}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zw(t){function e(j){if(!j)throw Error("assert :P")}function n(j,$,J){for(var C=0;4>C;C++)if(j[$+C]!=J.charCodeAt(C))return!0;return!1}function r(j,$,J,C,F){for(var G=0;G<F;G++)j[$+G]=J[C+G]}function i(j,$,J,C){for(var F=0;F<C;F++)j[$+F]=J}function s(j){return new Int32Array(j)}function a(j,$){for(var J=[],C=0;C<j;C++)J.push(new $);return J}function o(j,$){var J=[];return function C(F,G,z){for(var q=z[G],T=0;T<q&&(F.push(z.length>G+1?[]:new $),!(z.length<G+1));T++)C(F[T],G+1,z)}(J,0,j),J}var l=function(){var j=this;function $(d,p){for(var w=1<<p-1>>>0;d&w;)w>>>=1;return w?(d&w-1)+w:d}function J(d,p,w,_,P){e(!(_%w));do d[p+(_-=w)]=P;while(0<_)}function C(d,p,w,_,P){if(e(2328>=P),512>=P)var O=s(512);else if((O=s(P))==null)return 0;return function(I,M,U,Q,oe,ve){var ye,he,Pe=M,xe=1<<U,le=s(16),ue=s(16);for(e(oe!=0),e(Q!=null),e(I!=null),e(0<U),he=0;he<oe;++he){if(15<Q[he])return 0;++le[Q[he]]}if(le[0]==oe)return 0;for(ue[1]=0,ye=1;15>ye;++ye){if(le[ye]>1<<ye)return 0;ue[ye+1]=ue[ye]+le[ye]}for(he=0;he<oe;++he)ye=Q[he],0<Q[he]&&(ve[ue[ye]++]=he);if(ue[15]==1)return(Q=new F).g=0,Q.value=ve[0],J(I,Pe,1,xe,Q),xe;var Ae,De=-1,Le=xe-1,Ge=0,He=1,ot=1,We=1<<U;for(he=0,ye=1,oe=2;ye<=U;++ye,oe<<=1){if(He+=ot<<=1,0>(ot-=le[ye]))return 0;for(;0<le[ye];--le[ye])(Q=new F).g=ye,Q.value=ve[he++],J(I,Pe+Ge,oe,We,Q),Ge=$(Ge,ye)}for(ye=U+1,oe=2;15>=ye;++ye,oe<<=1){if(He+=ot<<=1,0>(ot-=le[ye]))return 0;for(;0<le[ye];--le[ye]){if(Q=new F,(Ge&Le)!=De){for(Pe+=We,Ae=1<<(De=ye)-U;15>De&&!(0>=(Ae-=le[De]));)++De,Ae<<=1;xe+=We=1<<(Ae=De-U),I[M+(De=Ge&Le)].g=Ae+U,I[M+De].value=Pe-M-De}Q.g=ye-U,Q.value=ve[he++],J(I,Pe+(Ge>>U),oe,We,Q),Ge=$(Ge,ye)}}return He!=2*ue[15]-1?0:xe}(d,p,w,_,P,O)}function F(){this.value=this.g=0}function G(){this.value=this.g=0}function z(){this.G=a(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Qn,G)}function q(d,p,w,_){e(d!=null),e(p!=null),e(2147483648>_),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=p,d.pa=w,d.Jd=p,d.Yc=w+_,d.Zc=4<=_?w+_-4+1:w,de(d)}function T(d,p){for(var w=0;0<p--;)w|=we(d,128)<<p;return w}function X(d,p){var w=T(d,p);return me(d)?-w:w}function H(d,p,w,_){var P,O=0;for(e(d!=null),e(p!=null),e(4294967288>_),d.Sb=_,d.Ra=0,d.u=0,d.h=0,4<_&&(_=4),P=0;P<_;++P)O+=p[w+P]<<8*P;d.Ra=O,d.bb=_,d.oa=p,d.pa=w}function R(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Cl-8>>>0,++d.bb,d.u-=8;Y(d)&&(d.h=1,d.u=0)}function ee(d,p){if(e(0<=p),!d.h&&p<=Al){var w=B(d)&jl[p];return d.u+=p,R(d),w}return d.h=1,d.u=0}function fe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(d){return d.Ra>>>(d.u&Cl-1)>>>0}function Y(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Cl}function ne(d,p){d.u=p,d.h=Y(d)}function re(d){d.u>=ku&&(e(d.u>=ku),R(d))}function de(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function me(d){return T(d,1)}function we(d,p){var w=d.Ca;0>d.b&&de(d);var _=d.b,P=w*p>>>8,O=(d.I>>>_>P)+0;for(O?(w-=P,d.I-=P+1<<_>>>0):w=P+1,_=w,P=0;256<=_;)P+=8,_>>=8;return _=7^P+Or[_],d.b-=_,d.Ca=(w<<_)-1,O}function Oe(d,p,w){d[p+0]=w>>24&255,d[p+1]=w>>16&255,d[p+2]=w>>8&255,d[p+3]=w>>0&255}function Fe(d,p){return d[p+0]<<0|d[p+1]<<8}function Be(d,p){return Fe(d,p)|d[p+2]<<16}function $e(d,p){return Fe(d,p)|Fe(d,p+2)<<16}function rt(d,p){var w=1<<p;return e(d!=null),e(0<p),d.X=s(w),d.X==null?0:(d.Mb=32-p,d.Xa=p,1)}function be(d,p){e(d!=null),e(p!=null),e(d.Xa==p.Xa),r(p.X,0,d.X,0,1<<p.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function it(d,p,w,_){e(w!=null),e(_!=null);var P=w[0],O=_[0];return P==0&&(P=(d*O+p/2)/p),O==0&&(O=(p*P+d/2)/d),0>=P||0>=O?0:(w[0]=P,_[0]=O,1)}function Ye(d,p){return d+(1<<p)-1>>>p}function Ee(d,p){return((4278255360&d)+(4278255360&p)>>>0&4278255360)+((16711935&d)+(16711935&p)>>>0&16711935)>>>0}function ze(d,p){j[p]=function(w,_,P,O,I,M,U){var Q;for(Q=0;Q<I;++Q){var oe=j[d](M[U+Q-1],P,O+Q);M[U+Q]=Ee(w[_+Q],oe)}}}function Ve(){this.ud=this.hd=this.jd=0}function W(d,p){return((4278124286&(d^p))>>>1)+(d&p)>>>0}function se(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function ge(d,p){return se(d+(d-p+.5>>1))}function je(d,p,w){return Math.abs(p-w)-Math.abs(d-w)}function Ne(d,p,w,_,P,O,I){for(_=O[I-1],w=0;w<P;++w)O[I+w]=_=Ee(d[p+w],_)}function ke(d,p,w,_,P){var O;for(O=0;O<w;++O){var I=d[p+O],M=I>>8&255,U=16711935&(U=(U=16711935&I)+((M<<16)+M));_[P+O]=(4278255360&I)+U>>>0}}function Ie(d,p){p.jd=d>>0&255,p.hd=d>>8&255,p.ud=d>>16&255}function qe(d,p,w,_,P,O){var I;for(I=0;I<_;++I){var M=p[w+I],U=M>>>8,Q=M,oe=255&(oe=(oe=M>>>16)+((d.jd<<24>>24)*(U<<24>>24)>>>5));Q=255&(Q=(Q=Q+((d.hd<<24>>24)*(U<<24>>24)>>>5))+((d.ud<<24>>24)*(oe<<24>>24)>>>5)),P[O+I]=(4278255360&M)+(oe<<16)+Q}}function Ze(d,p,w,_,P){j[p]=function(O,I,M,U,Q,oe,ve,ye,he){for(U=ve;U<ye;++U)for(ve=0;ve<he;++ve)Q[oe++]=P(M[_(O[I++])])},j[d]=function(O,I,M,U,Q,oe,ve){var ye=8>>O.b,he=O.Ea,Pe=O.K[0],xe=O.w;if(8>ye)for(O=(1<<O.b)-1,xe=(1<<ye)-1;I<M;++I){var le,ue=0;for(le=0;le<he;++le)le&O||(ue=_(U[Q++])),oe[ve++]=P(Pe[ue&xe]),ue>>=ye}else j["VP8LMapColor"+w](U,Q,Pe,xe,oe,ve,I,M,he)}}function Me(d,p,w,_,P){for(w=p+w;p<w;){var O=d[p++];_[P++]=O>>16&255,_[P++]=O>>8&255,_[P++]=O>>0&255}}function Jt(d,p,w,_,P){for(w=p+w;p<w;){var O=d[p++];_[P++]=O>>16&255,_[P++]=O>>8&255,_[P++]=O>>0&255,_[P++]=O>>24&255}}function bt(d,p,w,_,P){for(w=p+w;p<w;){var O=(I=d[p++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;_[P++]=O,_[P++]=I}}function Yn(d,p,w,_,P){for(w=p+w;p<w;){var O=(I=d[p++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;_[P++]=O,_[P++]=I}}function Et(d,p,w,_,P){for(w=p+w;p<w;){var O=d[p++];_[P++]=O>>0&255,_[P++]=O>>8&255,_[P++]=O>>16&255}}function Tt(d,p,w,_,P,O){if(O==0)for(w=p+w;p<w;)Oe(_,((O=d[p++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),P+=32;else r(_,P,d,p,w)}function Dr(d,p){j[p][0]=j[d+"0"],j[p][1]=j[d+"1"],j[p][2]=j[d+"2"],j[p][3]=j[d+"3"],j[p][4]=j[d+"4"],j[p][5]=j[d+"5"],j[p][6]=j[d+"6"],j[p][7]=j[d+"7"],j[p][8]=j[d+"8"],j[p][9]=j[d+"9"],j[p][10]=j[d+"10"],j[p][11]=j[d+"11"],j[p][12]=j[d+"12"],j[p][13]=j[d+"13"],j[p][14]=j[d+"0"],j[p][15]=j[d+"0"]}function St(d){return d==Xm||d==Zm||d==Uh||d==eg}function nr(){this.eb=[],this.size=this.A=this.fb=0}function rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nr,this.f.kb=new rn,this.sd=null}function ui(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ue(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function ct(d,p){var w=d.T,_=p.ba.f.RGBA,P=_.eb,O=_.fb+d.ka*_.A,I=vi[p.ba.S],M=d.y,U=d.O,Q=d.f,oe=d.N,ve=d.ea,ye=d.W,he=p.cc,Pe=p.dc,xe=p.Mc,le=p.Nc,ue=d.ka,Ae=d.ka+d.T,De=d.U,Le=De+1>>1;for(ue==0?I(M,U,null,null,Q,oe,ve,ye,Q,oe,ve,ye,P,O,null,null,De):(I(p.ec,p.fc,M,U,he,Pe,xe,le,Q,oe,ve,ye,P,O-_.A,P,O,De),++w);ue+2<Ae;ue+=2)he=Q,Pe=oe,xe=ve,le=ye,oe+=d.Rc,ye+=d.Rc,O+=2*_.A,I(M,(U+=2*d.fa)-d.fa,M,U,he,Pe,xe,le,Q,oe,ve,ye,P,O-_.A,P,O,De);return U+=d.fa,d.j+Ae<d.o?(r(p.ec,p.fc,M,U,De),r(p.cc,p.dc,Q,oe,Le),r(p.Mc,p.Nc,ve,ye,Le),w--):1&Ae||I(M,U,null,null,Q,oe,ve,ye,Q,oe,ve,ye,P,O+_.A,null,null,De),w}function sn(d,p,w){var _=d.F,P=[d.J];if(_!=null){var O=d.U,I=p.ba.S,M=I==zh||I==Uh;p=p.ba.f.RGBA;var U=[0],Q=d.ka;U[0]=d.T,d.Kb&&(Q==0?--U[0]:(--Q,P[0]-=d.width),d.j+d.ka+d.T==d.o&&(U[0]=d.o-d.j-Q));var oe=p.eb;Q=p.fb+Q*p.A,d=Gt(_,P[0],d.width,O,U,oe,Q+(M?0:3),p.A),e(w==U),d&&St(I)&&mi(oe,Q,M,O,U,p.A)}return 0}function Dt(d){var p=d.ma,w=p.ba.S,_=11>w,P=w==Mh||w==Bh||w==zh||w==Jm||w==12||St(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Nu(p.Oa,d,P?11:12))return 0;if(P&&St(w)&&Te(),d.da)alert("todo:use_scaling");else{if(_){if(p.Ib=Ue,d.Kb){if(w=d.U+1>>1,p.memory=s(d.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+d.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=ct,Te()}}else alert("todo:EmitYUV");P&&(p.Jb=sn,_&&pe())}if(_&&!Cy){for(d=0;256>d;++d)eN[d]=89858*(d-128)+$h>>qh,rN[d]=-22014*(d-128)+$h,nN[d]=-45773*(d-128),tN[d]=113618*(d-128)+$h>>qh;for(d=Du;d<rg;++d)p=76283*(d-16)+$h>>qh,iN[d-Du]=Jr(p,255),sN[d-Du]=Jr(p+8>>4,15);Cy=1}return 1}function wr(d){var p=d.ma,w=d.U,_=d.T;return e(!(1&d.ka)),0>=w||0>=_?0:(w=p.Ib(d,p),p.Jb!=null&&p.Jb(d,p,w),p.Dc+=w,1)}function Ut(d){d.ma.memory=null}function tt(d,p,w,_){return ee(d,8)!=47?0:(p[0]=ee(d,14)+1,w[0]=ee(d,14)+1,_[0]=ee(d,1),ee(d,3)!=0?0:!d.h)}function rr(d,p){if(4>d)return d+1;var w=d-2>>1;return(2+(1&d)<<w)+ee(p,w)+1}function hn(d,p){return 120<p?p-120:1<=(w=((w=zS[p-1])>>4)*d+(8-(15&w)))?w:1;var w}function Wt(d,p,w){var _=B(w),P=d[p+=255&_].g-8;return 0<P&&(ne(w,w.u+8),_=B(w),p+=d[p].value,p+=_&(1<<P)-1),ne(w,w.u+d[p].g),d[p].value}function fn(d,p,w){return w.g+=d.g,w.value+=d.value<<p>>>0,e(8>=w.g),d.g}function qt(d,p,w){var _=d.xc;return e((p=_==0?0:d.vc[d.md*(w>>_)+(p>>_)])<d.Wb),d.Ya[p]}function Fr(d,p,w,_){var P=d.ab,O=d.c*p,I=d.C;p=I+p;var M=w,U=_;for(_=d.Ta,w=d.Ua;0<P--;){var Q=d.gc[P],oe=I,ve=p,ye=M,he=U,Pe=(U=_,M=w,Q.Ea);switch(e(oe<ve),e(ve<=Q.nc),Q.hc){case 2:Eh(ye,he,(ve-oe)*Pe,U,M);break;case 0:var xe=oe,le=ve,ue=U,Ae=M,De=(We=Q).Ea;xe==0&&(Ym(ye,he,null,null,1,ue,Ae),Ne(ye,he+1,0,0,De-1,ue,Ae+1),he+=De,Ae+=De,++xe);for(var Le=1<<We.b,Ge=Le-1,He=Ye(De,We.b),ot=We.K,We=We.w+(xe>>We.b)*He;xe<le;){var Ft=ot,It=We,Lt=1;for(ju(ye,he,ue,Ae-De,1,ue,Ae);Lt<De;){var _t=(Lt&~Ge)+Le;_t>De&&(_t=De),(0,aa[Ft[It++]>>8&15])(ye,he+ +Lt,ue,Ae+Lt-De,_t-Lt,ue,Ae+Lt),Lt=_t}he+=De,Ae+=De,++xe&Ge||(We+=He)}ve!=Q.nc&&r(U,M-Pe,U,M+(ve-oe-1)*Pe,Pe);break;case 1:for(Pe=ye,le=he,De=(ye=Q.Ea)-(Ae=ye&~(ue=(he=1<<Q.b)-1)),xe=Ye(ye,Q.b),Le=Q.K,Q=Q.w+(oe>>Q.b)*xe;oe<ve;){for(Ge=Le,He=Q,ot=new Ve,We=le+Ae,Ft=le+ye;le<We;)Ie(Ge[He++],ot),yo(ot,Pe,le,he,U,M),le+=he,M+=he;le<Ft&&(Ie(Ge[He++],ot),yo(ot,Pe,le,De,U,M),le+=De,M+=De),++oe&ue||(Q+=xe)}break;case 3:if(ye==U&&he==M&&0<Q.b){for(le=U,ye=Pe=M+(ve-oe)*Pe-(Ae=(ve-oe)*Ye(Q.Ea,Q.b)),he=U,ue=M,xe=[],Ae=(De=Ae)-1;0<=Ae;--Ae)xe[Ae]=he[ue+Ae];for(Ae=De-1;0<=Ae;--Ae)le[ye+Ae]=xe[Ae];hi(Q,oe,ve,U,Pe,U,M)}else hi(Q,oe,ve,ye,he,U,M)}M=_,U=w}U!=w&&r(_,w,M,U,O)}function cl(d,p){var w=d.V,_=d.Ba+d.c*d.C,P=p-d.C;if(e(p<=d.l.o),e(16>=P),0<P){var O=d.l,I=d.Ta,M=d.Ua,U=O.width;if(Fr(d,P,w,_),P=M=[M],e((w=d.C)<(_=p)),e(O.v<O.va),_>O.o&&(_=O.o),w<O.j){var Q=O.j-w;w=O.j,P[0]+=Q*U}if(w>=_?w=0:(P[0]+=4*O.v,O.ka=w-O.j,O.U=O.va-O.v,O.T=_-w,w=1),w){if(M=M[0],11>(w=d.ca).S){var oe=w.f.RGBA,ve=(_=w.S,P=O.U,O=O.T,Q=oe.eb,oe.A),ye=O;for(oe=oe.fb+d.Ma*oe.A;0<ye--;){var he=I,Pe=M,xe=P,le=Q,ue=oe;switch(_){case Rh:Ir(he,Pe,xe,le,ue);break;case Mh:xr(he,Pe,xe,le,ue);break;case Xm:xr(he,Pe,xe,le,ue),mi(le,ue,0,xe,1,0);break;case yy:Ls(he,Pe,xe,le,ue);break;case Bh:Tt(he,Pe,xe,le,ue,1);break;case Zm:Tt(he,Pe,xe,le,ue,1),mi(le,ue,0,xe,1,0);break;case zh:Tt(he,Pe,xe,le,ue,0);break;case Uh:Tt(he,Pe,xe,le,ue,0),mi(le,ue,1,xe,1,0);break;case Jm:oa(he,Pe,xe,le,ue);break;case eg:oa(he,Pe,xe,le,ue),Kt(le,ue,xe,1,0);break;case wy:Cs(he,Pe,xe,le,ue);break;default:e(0)}M+=U,oe+=ve}d.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=w.height)}}d.C=p,e(d.C<=d.i)}function ks(d){var p;if(0<d.ua)return 0;for(p=0;p<d.Wb;++p){var w=d.Ya[p].G,_=d.Ya[p].H;if(0<w[1][_[1]+0].g||0<w[2][_[2]+0].g||0<w[3][_[3]+0].g)return 0}return 1}function Ci(d,p,w,_,P,O){if(d.Z!=0){var I=d.qd,M=d.rd;for(e(da[d.Z]!=null);p<w;++p)da[d.Z](I,M,_,P,_,P,O),I=_,M=P,P+=O;d.qd=I,d.rd=M}}function Li(d,p){var w=d.l.ma,_=w.Z==0||w.Z==1?d.l.j:d.C;if(_=d.C<_?_:d.C,e(p<=d.l.o),p>_){var P=d.l.width,O=w.ca,I=w.tb+P*_,M=d.V,U=d.Ba+d.c*_,Q=d.gc;e(d.ab==1),e(Q[0].hc==3),Dh(Q[0],_,p,M,U,O,I),Ci(w,_,p,O,I,P)}d.C=d.Ma=p}function Pi(d,p,w,_,P,O,I){var M=d.$/_,U=d.$%_,Q=d.m,oe=d.s,ve=w+d.$,ye=ve;P=w+_*P;var he=w+_*O,Pe=280+oe.ua,xe=d.Pb?M:16777216,le=0<oe.ua?oe.Wa:null,ue=oe.wc,Ae=ve<he?qt(oe,U,M):null;e(d.C<O),e(he<=P);var De=!1;e:for(;;){for(;De||ve<he;){var Le=0;if(M>=xe){var Ge=ve-w;e((xe=d).Pb),xe.wd=xe.m,xe.xd=Ge,0<xe.s.ua&&be(xe.s.Wa,xe.s.vb),xe=M+qS}if(U&ue||(Ae=qt(oe,U,M)),e(Ae!=null),Ae.Qb&&(p[ve]=Ae.qb,De=!0),!De)if(re(Q),Ae.jc){Le=Q,Ge=p;var He=ve,ot=Ae.pd[B(Le)&Qn-1];e(Ae.jc),256>ot.g?(ne(Le,Le.u+ot.g),Ge[He]=ot.value,Le=0):(ne(Le,Le.u+ot.g-256),e(256<=ot.value),Le=ot.value),Le==0&&(De=!0)}else Le=Wt(Ae.G[0],Ae.H[0],Q);if(Q.h)break;if(De||256>Le){if(!De)if(Ae.nd)p[ve]=(Ae.qb|Le<<8)>>>0;else{if(re(Q),De=Wt(Ae.G[1],Ae.H[1],Q),re(Q),Ge=Wt(Ae.G[2],Ae.H[2],Q),He=Wt(Ae.G[3],Ae.H[3],Q),Q.h)break;p[ve]=(He<<24|De<<16|Le<<8|Ge)>>>0}if(De=!1,++ve,++U>=_&&(U=0,++M,I!=null&&M<=O&&!(M%16)&&I(d,M),le!=null))for(;ye<ve;)Le=p[ye++],le.X[(506832829*Le&4294967295)>>>le.Mb]=Le}else if(280>Le){if(Le=rr(Le-256,Q),Ge=Wt(Ae.G[4],Ae.H[4],Q),re(Q),Ge=hn(_,Ge=rr(Ge,Q)),Q.h)break;if(ve-w<Ge||P-ve<Le)break e;for(He=0;He<Le;++He)p[ve+He]=p[ve+He-Ge];for(ve+=Le,U+=Le;U>=_;)U-=_,++M,I!=null&&M<=O&&!(M%16)&&I(d,M);if(e(ve<=P),U&ue&&(Ae=qt(oe,U,M)),le!=null)for(;ye<ve;)Le=p[ye++],le.X[(506832829*Le&4294967295)>>>le.Mb]=Le}else{if(!(Le<Pe))break e;for(De=Le-280,e(le!=null);ye<ve;)Le=p[ye++],le.X[(506832829*Le&4294967295)>>>le.Mb]=Le;Le=ve,e(!(De>>>(Ge=le).Xa)),p[Le]=Ge.X[De],De=!0}De||e(Q.h==Y(Q))}if(d.Pb&&Q.h&&ve<P)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&be(d.s.vb,d.s.Wa);else{if(Q.h)break e;I!=null&&I(d,M>O?O:M),d.a=0,d.$=ve-w}return 1}return d.a=3,0}function es(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var p=d.Wa;p!=null&&(p.X=null),d.vb=null,e(d!=null)}function di(){var d=new Gm;return d==null?null:(d.a=0,d.xb=Sy,Dr("Predictor","VP8LPredictors"),Dr("Predictor","VP8LPredictors_C"),Dr("PredictorAdd","VP8LPredictorsAdd"),Dr("PredictorAdd","VP8LPredictorsAdd_C"),Eh=ke,yo=qe,Ir=Me,xr=Jt,oa=bt,Cs=Yn,Ls=Et,j.VP8LMapColor32b=Ll,j.VP8LMapColor8b=Fh,d)}function ts(d,p,w,_,P){var O=1,I=[d],M=[p],U=_.m,Q=_.s,oe=null,ve=0;e:for(;;){if(w)for(;O&&ee(U,1);){var ye=I,he=M,Pe=_,xe=1,le=Pe.m,ue=Pe.gc[Pe.ab],Ae=ee(le,2);if(Pe.Oc&1<<Ae)O=0;else{switch(Pe.Oc|=1<<Ae,ue.hc=Ae,ue.Ea=ye[0],ue.nc=he[0],ue.K=[null],++Pe.ab,e(4>=Pe.ab),Ae){case 0:case 1:ue.b=ee(le,3)+2,xe=ts(Ye(ue.Ea,ue.b),Ye(ue.nc,ue.b),0,Pe,ue.K),ue.K=ue.K[0];break;case 3:var De,Le=ee(le,8)+1,Ge=16<Le?0:4<Le?1:2<Le?2:3;if(ye[0]=Ye(ue.Ea,Ge),ue.b=Ge,De=xe=ts(Le,1,0,Pe,ue.K)){var He,ot=Le,We=ue,Ft=1<<(8>>We.b),It=s(Ft);if(It==null)De=0;else{var Lt=We.K[0],_t=We.w;for(It[0]=We.K[0][0],He=1;He<1*ot;++He)It[He]=Ee(Lt[_t+He],It[He-1]);for(;He<4*Ft;++He)It[He]=0;We.K[0]=null,We.K[0]=It,De=1}}xe=De;break;case 2:break;default:e(0)}O=xe}}if(I=I[0],M=M[0],O&&ee(U,1)&&!(O=1<=(ve=ee(U,4))&&11>=ve)){_.a=3;break e}var Vt;if(Vt=O)t:{var $t,yt,En,Rr=_,Dn=I,Mr=M,Rt=ve,Zr=w,ei=Rr.m,$n=Rr.s,Jn=[null],Sr=1,yi=0,ss=US[Rt];n:for(;;){if(Zr&&ee(ei,1)){var Vn=ee(ei,3)+2,Fs=Ye(Dn,Vn),No=Ye(Mr,Vn),Tl=Fs*No;if(!ts(Fs,No,0,Rr,Jn))break n;for(Jn=Jn[0],$n.xc=Vn,$t=0;$t<Tl;++$t){var ha=Jn[$t]>>8&65535;Jn[$t]=ha,ha>=Sr&&(Sr=ha+1)}}if(ei.h)break n;for(yt=0;5>yt;++yt){var mn=xy[yt];!yt&&0<Rt&&(mn+=1<<Rt),yi<mn&&(yi=mn)}var ig=a(Sr*ss,F),Ey=Sr,Dy=a(Ey,z);if(Dy==null)var Hh=null;else e(65536>=Ey),Hh=Dy;var Fu=s(yi);if(Hh==null||Fu==null||ig==null){Rr.a=1;break n}var Wh=ig;for($t=En=0;$t<Sr;++$t){var Oi=Hh[$t],Ol=Oi.G,Il=Oi.H,Fy=0,Kh=1,Ty=0;for(yt=0;5>yt;++yt){mn=xy[yt],Ol[yt]=Wh,Il[yt]=En,!yt&&0<Rt&&(mn+=1<<Rt);i:{var Gh,sg=mn,Yh=Rr,Tu=Fu,lN=Wh,cN=En,ag=0,fa=Yh.m,uN=ee(fa,1);if(i(Tu,0,0,sg),uN){var dN=ee(fa,1)+1,hN=ee(fa,1),Oy=ee(fa,hN==0?1:8);Tu[Oy]=1,dN==2&&(Tu[Oy=ee(fa,8)]=1);var Qh=1}else{var Iy=s(19),Ry=ee(fa,4)+4;if(19<Ry){Yh.a=3;var Jh=0;break i}for(Gh=0;Gh<Ry;++Gh)Iy[BS[Gh]]=ee(fa,3);var og=void 0,Ou=void 0,My=Yh,fN=Iy,Xh=sg,By=Tu,lg=0,pa=My.m,zy=8,Uy=a(128,F);r:for(;C(Uy,0,7,fN,19);){if(ee(pa,1)){var pN=2+2*ee(pa,3);if((og=2+ee(pa,pN))>Xh)break r}else og=Xh;for(Ou=0;Ou<Xh&&og--;){re(pa);var qy=Uy[0+(127&B(pa))];ne(pa,pa.u+qy.g);var Rl=qy.value;if(16>Rl)By[Ou++]=Rl,Rl!=0&&(zy=Rl);else{var mN=Rl==16,$y=Rl-16,gN=RS[$y],Vy=ee(pa,IS[$y])+gN;if(Ou+Vy>Xh)break r;for(var vN=mN?zy:0;0<Vy--;)By[Ou++]=vN}}lg=1;break r}lg||(My.a=3),Qh=lg}(Qh=Qh&&!fa.h)&&(ag=C(lN,cN,8,Tu,sg)),Qh&&ag!=0?Jh=ag:(Yh.a=3,Jh=0)}if(Jh==0)break n;if(Kh&&MS[yt]==1&&(Kh=Wh[En].g==0),Fy+=Wh[En].g,En+=Jh,3>=yt){var Iu,cg=Fu[0];for(Iu=1;Iu<mn;++Iu)Fu[Iu]>cg&&(cg=Fu[Iu]);Ty+=cg}}if(Oi.nd=Kh,Oi.Qb=0,Kh&&(Oi.qb=(Ol[3][Il[3]+0].value<<24|Ol[1][Il[1]+0].value<<16|Ol[2][Il[2]+0].value)>>>0,Fy==0&&256>Ol[0][Il[0]+0].value&&(Oi.Qb=1,Oi.qb+=Ol[0][Il[0]+0].value<<8)),Oi.jc=!Oi.Qb&&6>Ty,Oi.jc){var Zh,Ts=Oi;for(Zh=0;Zh<Qn;++Zh){var ma=Zh,ga=Ts.pd[ma],ef=Ts.G[0][Ts.H[0]+ma];256<=ef.value?(ga.g=ef.g+256,ga.value=ef.value):(ga.g=0,ga.value=0,ma>>=fn(ef,8,ga),ma>>=fn(Ts.G[1][Ts.H[1]+ma],16,ga),ma>>=fn(Ts.G[2][Ts.H[2]+ma],0,ga),fn(Ts.G[3][Ts.H[3]+ma],24,ga))}}}$n.vc=Jn,$n.Wb=Sr,$n.Ya=Hh,$n.yc=ig,Vt=1;break t}Vt=0}if(!(O=Vt)){_.a=3;break e}if(0<ve){if(Q.ua=1<<ve,!rt(Q.Wa,ve)){_.a=1,O=0;break e}}else Q.ua=0;var ug=_,Hy=I,yN=M,dg=ug.s,hg=dg.xc;if(ug.c=Hy,ug.i=yN,dg.md=Ye(Hy,hg),dg.wc=hg==0?-1:(1<<hg)-1,w){_.xb=YS;break e}if((oe=s(I*M))==null){_.a=1,O=0;break e}O=(O=Pi(_,oe,0,I,M,M,null))&&!U.h;break e}return O?(P!=null?P[0]=oe:(e(oe==null),e(w)),_.$=0,w||es(Q)):es(Q),O}function fo(d,p){var w=d.c*d.i,_=w+p+16*p;return e(d.c<=p),d.V=s(_),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+w+p,1)}function ul(d,p){var w=d.C,_=p-w,P=d.V,O=d.Ba+d.c*w;for(e(p<=d.l.o);0<_;){var I=16<_?16:_,M=d.l.ma,U=d.l.width,Q=U*I,oe=M.ca,ve=M.tb+U*w,ye=d.Ta,he=d.Ua;Fr(d,I,P,O),bn(ye,he,oe,ve,Q),Ci(M,w,w+I,oe,ve,U),_-=I,P+=I*d.c,w+=I}e(w==p),d.C=d.Ma=p}function dl(){this.ub=this.yd=this.td=this.Rb=0}function hl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function dh(){this.Yb=function(){var d=[];return function p(w,_,P){for(var O=P[_],I=0;I<O&&(w.push(P.length>_+1?[]:0),!(P.length<_+1));I++)p(w[I],_+1,P)}(d,0,[3,11]),d}()}function km(){this.jb=s(3),this.Wc=o([4,8],dh),this.Xc=o([4,17],dh)}function jm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function pl(){this.ld=this.La=this.dd=this.tc=0}function hh(){this.Na=this.la=0}function Am(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ou(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cm(){this.uc=this.M=this.Nb=0,this.wa=Array(new pl),this.Y=0,this.ya=Array(new ou),this.aa=0,this.l=new ml}function fh(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Lm(){this.cb=this.a=0,this.sc="",this.m=new fe,this.Od=new dl,this.Kc=new hl,this.ed=new jm,this.Qa=new fl,this.Ic=this.$c=this.Aa=0,this.D=new Cm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,fe),this.ia=0,this.pb=a(4,Am),this.Pa=new km,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fh),this.Hd=0,this.rb=Array(new hh),this.sb=0,this.wa=Array(new pl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ou),this.L=this.aa=0,this.gd=o([4,2],pl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ml(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pm(){var d=new Lm;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Eu||(Eu=gh)),d}function wn(d,p,w){return d.a==0&&(d.a=p,d.sc=w,d.cb=0),0}function ph(d,p,w){return 3<=w&&d[p+0]==157&&d[p+1]==1&&d[p+2]==42}function mh(d,p){if(d==null)return 0;if(d.a=0,d.sc="OK",p==null)return wn(d,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,_=p.w,P=p.ha;if(4>P)return wn(d,7,"Truncated header.");var O=w[_+0]|w[_+1]<<8|w[_+2]<<16,I=d.Od;if(I.Rb=!(1&O),I.td=O>>1&7,I.yd=O>>4&1,I.ub=O>>5,3<I.td)return wn(d,3,"Incorrect keyframe parameters.");if(!I.yd)return wn(d,4,"Frame not displayable.");_+=3,P-=3;var M=d.Kc;if(I.Rb){if(7>P)return wn(d,7,"cannot parse picture header");if(!ph(w,_,P))return wn(d,3,"Bad code word");M.c=16383&(w[_+4]<<8|w[_+3]),M.Td=w[_+4]>>6,M.i=16383&(w[_+6]<<8|w[_+5]),M.Ud=w[_+6]>>6,_+=7,P-=7,d.za=M.c+15>>4,d.Ub=M.i+15>>4,p.width=M.c,p.height=M.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((O=d.Pa).jb,0,255,O.jb.length),e((O=d.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,i(O.Zb,0,0,O.Zb.length),i(O.Lb,0,0,O.Lb)}if(I.ub>P)return wn(d,7,"bad partition length");q(O=d.m,w,_,I.ub),_+=I.ub,P-=I.ub,I.Rb&&(M.Ld=me(O),M.Kd=me(O)),M=d.Qa;var U,Q=d.Pa;if(e(O!=null),e(M!=null),M.Cb=me(O),M.Cb){if(M.Bb=me(O),me(O)){for(M.Fb=me(O),U=0;4>U;++U)M.Zb[U]=me(O)?X(O,7):0;for(U=0;4>U;++U)M.Lb[U]=me(O)?X(O,6):0}if(M.Bb)for(U=0;3>U;++U)Q.jb[U]=me(O)?T(O,8):255}else M.Bb=0;if(O.Ka)return wn(d,3,"cannot parse segment header");if((M=d.ed).zd=me(O),M.Tb=T(O,6),M.wb=T(O,3),M.Pc=me(O),M.Pc&&me(O)){for(Q=0;4>Q;++Q)me(O)&&(M.vd[Q]=X(O,6));for(Q=0;4>Q;++Q)me(O)&&(M.od[Q]=X(O,6))}if(d.L=M.Tb==0?0:M.zd?1:2,O.Ka)return wn(d,3,"cannot parse filter header");var oe=P;if(P=U=_,_=U+oe,M=oe,d.Xb=(1<<T(d.m,2))-1,oe<3*(Q=d.Xb))w=7;else{for(U+=3*Q,M-=3*Q,oe=0;oe<Q;++oe){var ve=w[P+0]|w[P+1]<<8|w[P+2]<<16;ve>M&&(ve=M),q(d.Jc[+oe],w,U,ve),U+=ve,M-=ve,P+=3}q(d.Jc[+Q],w,U,M),w=U<_?0:5}if(w!=0)return wn(d,w,"cannot parse partitions");for(w=T(U=d.m,7),P=me(U)?X(U,4):0,_=me(U)?X(U,4):0,M=me(U)?X(U,4):0,Q=me(U)?X(U,4):0,U=me(U)?X(U,4):0,oe=d.Qa,ve=0;4>ve;++ve){if(oe.Cb){var ye=oe.Zb[ve];oe.Fb||(ye+=w)}else{if(0<ve){d.pb[ve]=d.pb[0];continue}ye=w}var he=d.pb[ve];he.Sc[0]=tg[Jr(ye+P,127)],he.Sc[1]=ng[Jr(ye+0,127)],he.Eb[0]=2*tg[Jr(ye+_,127)],he.Eb[1]=101581*ng[Jr(ye+M,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=tg[Jr(ye+Q,117)],he.Qc[1]=ng[Jr(ye+U,127)],he.lc=ye+U}if(!I.Rb)return wn(d,4,"Not a key frame.");for(me(O),I=d.Pa,w=0;4>w;++w){for(P=0;8>P;++P)for(_=0;3>_;++_)for(M=0;11>M;++M)Q=we(O,KS[w][P][_][M])?T(O,8):HS[w][P][_][M],I.Wc[w][P].Yb[_][M]=Q;for(P=0;17>P;++P)I.Xc[w][P]=I.Wc[w][GS[P]]}return d.kc=me(O),d.kc&&(d.Bd=T(O,8)),d.cb=1}function gh(d,p,w,_,P,O,I){var M=p[P].Yb[w];for(w=0;16>P;++P){if(!we(d,M[w+0]))return P;for(;!we(d,M[w+1]);)if(M=p[++P].Yb[0],w=0,P==16)return 16;var U=p[P+1].Yb;if(we(d,M[w+2])){var Q=d,oe=0;if(we(Q,(ye=M)[(ve=w)+3]))if(we(Q,ye[ve+6])){for(M=0,ve=2*(oe=we(Q,ye[ve+8]))+(ye=we(Q,ye[ve+9+oe])),oe=0,ye=$S[ve];ye[M];++M)oe+=oe+we(Q,ye[M]);oe+=3+(8<<ve)}else we(Q,ye[ve+7])?(oe=7+2*we(Q,165),oe+=we(Q,145)):oe=5+we(Q,159);else oe=we(Q,ye[ve+4])?3+we(Q,ye[ve+5]):2;M=U[2]}else oe=1,M=U[1];U=I+VS[P],0>(Q=d).b&&de(Q);var ve,ye=Q.b,he=(ve=Q.Ca>>1)-(Q.I>>ye)>>31;--Q.b,Q.Ca+=he,Q.Ca|=1,Q.I-=(ve+1&he)<<ye,O[U]=((oe^he)-he)*_[(0<P)+0]}return 16}function lu(d){var p=d.rb[d.sb-1];p.la=0,p.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function Em(d,p){if(d==null)return 0;if(p==null)return wn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!mh(d,p))return 0;if(e(d.cb),p.ac==null||p.ac(p)){p.ob&&(d.L=0);var w=Vh[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=p.v-w>>4,d.zb=p.j-w>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=p.o+15+w>>4,d.Hb=p.va+15+w>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var _=d.ed;for(w=0;4>w;++w){var P;if(d.Qa.Cb){var O=d.Qa.Lb[w];d.Qa.Fb||(O+=_.Tb)}else O=_.Tb;for(P=0;1>=P;++P){var I=d.gd[w][P],M=O;if(_.Pc&&(M+=_.vd[0],P&&(M+=_.od[0])),0<(M=0>M?0:63<M?63:M)){var U=M;0<_.wb&&(U=4<_.wb?U>>2:U>>1)>9-_.wb&&(U=9-_.wb),1>U&&(U=1),I.dd=U,I.tc=2*M+U,I.ld=40<=M?2:15<=M?1:0}else I.tc=0;I.La=P}}}w=0}else wn(d,6,"Frame setup failed"),w=d.a;if(w=w==0){if(w){d.$c=0,0<d.Aa||(d.Ic=oN);e:{w=d.Ic,_=4*(U=d.za);var Q=32*U,oe=U+1,ve=0<d.L?U*(0<d.Aa?2:1):0,ye=(d.Aa==2?2:1)*U;if((I=_+832+(P=3*(16*w+Vh[d.L])/2*Q)+(O=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=I)w=0;else{if(I>d.Vb){if(d.Vb=0,d.Ec=s(I),d.Fc=0,d.Ec==null){w=wn(d,1,"no memory during frame initialization.");break e}d.Vb=I}I=d.Ec,M=d.Fc,d.Ac=I,d.Bc=M,M+=_,d.Gd=a(Q,fh),d.Hd=0,d.rb=a(oe+1,hh),d.sb=1,d.wa=ve?a(ve,pl):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=U),e(!0),d.oc=I,d.pc=M,M+=832,d.ya=a(ye,ou),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=U),d.R=16*U,d.B=8*U,U=(Q=Vh[d.L])*d.R,Q=Q/2*d.B,d.sa=I,d.ta=M+U,d.qa=d.sa,d.ra=d.ta+16*w*d.R+Q,d.Ha=d.qa,d.Ia=d.ra+8*w*d.B+Q,d.$c=0,M+=P,d.mb=O?I:null,d.nb=O?M:null,e(M+O<=d.Fc+d.Vb),lu(d),i(d.Ac,d.Bc,0,_),w=1}}if(w){if(p.ka=0,p.y=d.sa,p.O=d.ta,p.f=d.qa,p.N=d.ra,p.ea=d.Ha,p.Vd=d.Ia,p.fa=d.R,p.Rc=d.B,p.F=null,p.J=0,!Oh){for(w=-255;255>=w;++w)Rn[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)Es[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Pu[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)Fl[255+w]=0>w?0:255<w?255:w;Oh=1}Pl=Tm,Ps=Dm,Au=yh,br=Fm,fi=wh,xn=vh,El=pu,Th=go,Cu=Km,wo=mu,xo=Wm,la=bl,bo=gu,Dl=Ch,So=Ah,ca=rs,Lu=As,pi=Hm,Ti[0]=ns,Ti[1]=Om,Ti[2]=Bm,Ti[3]=zm,Ti[4]=Sh,Ti[5]=wl,Ti[6]=Nh,Ti[7]=du,Ti[8]=qm,Ti[9]=Um,ua[0]=xh,ua[1]=Rm,ua[2]=js,ua[3]=vl,ua[4]=ir,ua[5]=Mm,ua[6]=bh,Ds[0]=ra,Ds[1]=Im,Ds[2]=$m,Ds[3]=hu,Ds[4]=mo,Ds[5]=Vm,Ds[6]=fu,w=1}else w=0}w&&(w=function(he,Pe){for(he.M=0;he.M<he.Va;++he.M){var xe,le=he.Jc[he.M&he.Xb],ue=he.m,Ae=he;for(xe=0;xe<Ae.za;++xe){var De=ue,Le=Ae,Ge=Le.Ac,He=Le.Bc+4*xe,ot=Le.zc,We=Le.ya[Le.aa+xe];if(Le.Qa.Bb?We.$b=we(De,Le.Pa.jb[0])?2+we(De,Le.Pa.jb[2]):we(De,Le.Pa.jb[1]):We.$b=0,Le.kc&&(We.Ad=we(De,Le.Bd)),We.Za=!we(De,145)+0,We.Za){var Ft=We.Ob,It=0;for(Le=0;4>Le;++Le){var Lt,_t=ot[0+Le];for(Lt=0;4>Lt;++Lt){_t=WS[Ge[He+Lt]][_t];for(var Vt=by[we(De,_t[0])];0<Vt;)Vt=by[2*Vt+we(De,_t[Vt])];_t=-Vt,Ge[He+Lt]=_t}r(Ft,It,Ge,He,4),It+=4,ot[0+Le]=_t}}else _t=we(De,156)?we(De,128)?1:3:we(De,163)?2:0,We.Ob[0]=_t,i(Ge,He,_t,4),i(ot,0,_t,4);We.Dd=we(De,142)?we(De,114)?we(De,183)?1:3:2:0}if(Ae.m.Ka)return wn(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(Ae=le,De=(ue=he).rb[ue.sb-1],Ge=ue.rb[ue.sb+ue.ja],xe=ue.ya[ue.aa+ue.ja],He=ue.kc?xe.Ad:0)De.la=Ge.la=0,xe.Za||(De.Na=Ge.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var $t,yt;if(De=Ge,Ge=Ae,He=ue.Pa.Xc,ot=ue.ya[ue.aa+ue.ja],We=ue.pb[ot.$b],Le=ot.ad,Ft=0,It=ue.rb[ue.sb-1],_t=Lt=0,i(Le,Ft,0,384),ot.Za)var En=0,Rr=He[3];else{Vt=s(16);var Dn=De.Na+It.Na;if(Dn=Eu(Ge,He[1],Dn,We.Eb,0,Vt,0),De.Na=It.Na=(0<Dn)+0,1<Dn)Pl(Vt,0,Le,Ft);else{var Mr=Vt[0]+3>>3;for(Vt=0;256>Vt;Vt+=16)Le[Ft+Vt]=Mr}En=1,Rr=He[0]}var Rt=15&De.la,Zr=15&It.la;for(Vt=0;4>Vt;++Vt){var ei=1&Zr;for(Mr=yt=0;4>Mr;++Mr)Rt=Rt>>1|(ei=(Dn=Eu(Ge,Rr,Dn=ei+(1&Rt),We.Sc,En,Le,Ft))>En)<<7,yt=yt<<2|(3<Dn?3:1<Dn?2:Le[Ft+0]!=0),Ft+=16;Rt>>=4,Zr=Zr>>1|ei<<7,Lt=(Lt<<8|yt)>>>0}for(Rr=Rt,En=Zr>>4,$t=0;4>$t;$t+=2){for(yt=0,Rt=De.la>>4+$t,Zr=It.la>>4+$t,Vt=0;2>Vt;++Vt){for(ei=1&Zr,Mr=0;2>Mr;++Mr)Dn=ei+(1&Rt),Rt=Rt>>1|(ei=0<(Dn=Eu(Ge,He[2],Dn,We.Qc,0,Le,Ft)))<<3,yt=yt<<2|(3<Dn?3:1<Dn?2:Le[Ft+0]!=0),Ft+=16;Rt>>=2,Zr=Zr>>1|ei<<5}_t|=yt<<4*$t,Rr|=Rt<<4<<$t,En|=(240&Zr)<<$t}De.la=Rr,It.la=En,ot.Hc=Lt,ot.Gc=_t,ot.ia=43690&_t?0:We.ia,He=!(Lt|_t)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[xe.$b][xe.Za],ue.wa[ue.Y+ue.ja].La|=!He),Ae.Ka)return wn(he,7,"Premature end-of-file encountered.")}if(lu(he),ue=Pe,Ae=1,xe=(le=he).D,De=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(xe.M=le.M,xe.uc=De,Su(le,xe),Ae=1,xe=(yt=le.D).Nb,De=(_t=Vh[le.L])*le.R,Ge=_t/2*le.B,Vt=16*xe*le.R,Mr=8*xe*le.B,He=le.sa,ot=le.ta-De+Vt,We=le.qa,Le=le.ra-Ge+Mr,Ft=le.Ha,It=le.Ia-Ge+Mr,Zr=(Rt=yt.M)==0,Lt=Rt>=le.Va-1,le.Aa==2&&Su(le,yt),yt.uc)for(ei=(Dn=le).D.M,e(Dn.D.uc),yt=Dn.yb;yt<Dn.Hb;++yt){En=yt,Rr=ei;var $n=(Jn=(mn=Dn).D).Nb;$t=mn.R;var Jn=Jn.wa[Jn.Y+En],Sr=mn.sa,yi=mn.ta+16*$n*$t+16*En,ss=Jn.dd,Vn=Jn.tc;if(Vn!=0)if(e(3<=Vn),mn.L==1)0<En&&ca(Sr,yi,$t,Vn+4),Jn.La&&pi(Sr,yi,$t,Vn),0<Rr&&So(Sr,yi,$t,Vn+4),Jn.La&&Lu(Sr,yi,$t,Vn);else{var Fs=mn.B,No=mn.qa,Tl=mn.ra+8*$n*Fs+8*En,ha=mn.Ha,mn=mn.Ia+8*$n*Fs+8*En;$n=Jn.ld,0<En&&(Th(Sr,yi,$t,Vn+4,ss,$n),wo(No,Tl,ha,mn,Fs,Vn+4,ss,$n)),Jn.La&&(la(Sr,yi,$t,Vn,ss,$n),Dl(No,Tl,ha,mn,Fs,Vn,ss,$n)),0<Rr&&(El(Sr,yi,$t,Vn+4,ss,$n),Cu(No,Tl,ha,mn,Fs,Vn+4,ss,$n)),Jn.La&&(xo(Sr,yi,$t,Vn,ss,$n),bo(No,Tl,ha,mn,Fs,Vn,ss,$n))}}if(le.ia&&alert("todo:DitherRow"),ue.put!=null){if(yt=16*Rt,Rt=16*(Rt+1),Zr?(ue.y=le.sa,ue.O=le.ta+Vt,ue.f=le.qa,ue.N=le.ra+Mr,ue.ea=le.Ha,ue.W=le.Ia+Mr):(yt-=_t,ue.y=He,ue.O=ot,ue.f=We,ue.N=Le,ue.ea=Ft,ue.W=It),Lt||(Rt-=_t),Rt>ue.o&&(Rt=ue.o),ue.F=null,ue.J=null,le.Fa!=null&&0<le.Fa.length&&yt<Rt&&(ue.J=xu(le,ue,yt,Rt-yt),ue.F=le.mb,ue.F==null&&ue.F.length==0)){Ae=wn(le,3,"Could not decode alpha data.");break e}yt<ue.j&&(_t=ue.j-yt,yt=ue.j,e(!(1&_t)),ue.O+=le.R*_t,ue.N+=le.B*(_t>>1),ue.W+=le.B*(_t>>1),ue.F!=null&&(ue.J+=ue.width*_t)),yt<Rt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=yt-ue.j,ue.U=ue.va-ue.v,ue.T=Rt-yt,Ae=ue.put(ue))}xe+1!=le.Ic||Lt||(r(le.sa,le.ta-De,He,ot+16*le.R,De),r(le.qa,le.ra-Ge,We,Le+8*le.B,Ge),r(le.Ha,le.Ia-Ge,Ft,It+8*le.B,Ge))}if(!Ae)return wn(he,6,"Output aborted.")}return 1}(d,p)),p.bc!=null&&p.bc(p),w&=1}return w?(d.cb=0,w):0}function Ei(d,p,w,_,P){P=d[p+w+32*_]+(P>>3),d[p+w+32*_]=-256&P?0>P?0:255:P}function gl(d,p,w,_,P,O){Ei(d,p,0,w,_+P),Ei(d,p,1,w,_+O),Ei(d,p,2,w,_-O),Ei(d,p,3,w,_-P)}function Tr(d){return(20091*d>>16)+d}function cu(d,p,w,_){var P,O=0,I=s(16);for(P=0;4>P;++P){var M=d[p+0]+d[p+8],U=d[p+0]-d[p+8],Q=(35468*d[p+4]>>16)-Tr(d[p+12]),oe=Tr(d[p+4])+(35468*d[p+12]>>16);I[O+0]=M+oe,I[O+1]=U+Q,I[O+2]=U-Q,I[O+3]=M-oe,O+=4,p++}for(P=O=0;4>P;++P)M=(d=I[O+0]+4)+I[O+8],U=d-I[O+8],Q=(35468*I[O+4]>>16)-Tr(I[O+12]),Ei(w,_,0,0,M+(oe=Tr(I[O+4])+(35468*I[O+12]>>16))),Ei(w,_,1,0,U+Q),Ei(w,_,2,0,U-Q),Ei(w,_,3,0,M-oe),O++,_+=32}function vh(d,p,w,_){var P=d[p+0]+4,O=35468*d[p+4]>>16,I=Tr(d[p+4]),M=35468*d[p+1]>>16;gl(w,_,0,P+I,d=Tr(d[p+1]),M),gl(w,_,1,P+O,d,M),gl(w,_,2,P-O,d,M),gl(w,_,3,P-I,d,M)}function Dm(d,p,w,_,P){cu(d,p,w,_),P&&cu(d,p+16,w,_+4)}function yh(d,p,w,_){Ps(d,p+0,w,_,1),Ps(d,p+32,w,_+128,1)}function Fm(d,p,w,_){var P;for(d=d[p+0]+4,P=0;4>P;++P)for(p=0;4>p;++p)Ei(w,_,p,P,d)}function wh(d,p,w,_){d[p+0]&&br(d,p+0,w,_),d[p+16]&&br(d,p+16,w,_+4),d[p+32]&&br(d,p+32,w,_+128),d[p+48]&&br(d,p+48,w,_+128+4)}function Tm(d,p,w,_){var P,O=s(16);for(P=0;4>P;++P){var I=d[p+0+P]+d[p+12+P],M=d[p+4+P]+d[p+8+P],U=d[p+4+P]-d[p+8+P],Q=d[p+0+P]-d[p+12+P];O[0+P]=I+M,O[8+P]=I-M,O[4+P]=Q+U,O[12+P]=Q-U}for(P=0;4>P;++P)I=(d=O[0+4*P]+3)+O[3+4*P],M=O[1+4*P]+O[2+4*P],U=O[1+4*P]-O[2+4*P],Q=d-O[3+4*P],w[_+0]=I+M>>3,w[_+16]=Q+U>>3,w[_+32]=I-M>>3,w[_+48]=Q-U>>3,_+=64}function uu(d,p,w){var _,P=p-32,O=Xr,I=255-d[P-1];for(_=0;_<w;++_){var M,U=O,Q=I+d[p-1];for(M=0;M<w;++M)d[p+M]=U[Q+d[P+M]];p+=32}}function Om(d,p){uu(d,p,4)}function Im(d,p){uu(d,p,8)}function Rm(d,p){uu(d,p,16)}function js(d,p){var w;for(w=0;16>w;++w)r(d,p+32*w,d,p-32,16)}function vl(d,p){var w;for(w=16;0<w;--w)i(d,p,d[p-1],16),p+=32}function yl(d,p,w){var _;for(_=0;16>_;++_)i(p,w+32*_,d,16)}function xh(d,p){var w,_=16;for(w=0;16>w;++w)_+=d[p-1+32*w]+d[p+w-32];yl(_>>5,d,p)}function ir(d,p){var w,_=8;for(w=0;16>w;++w)_+=d[p-1+32*w];yl(_>>4,d,p)}function Mm(d,p){var w,_=8;for(w=0;16>w;++w)_+=d[p+w-32];yl(_>>4,d,p)}function bh(d,p){yl(128,d,p)}function ft(d,p,w){return d+2*p+w+2>>2}function Bm(d,p){var w,_=p-32;for(_=new Uint8Array([ft(d[_-1],d[_+0],d[_+1]),ft(d[_+0],d[_+1],d[_+2]),ft(d[_+1],d[_+2],d[_+3]),ft(d[_+2],d[_+3],d[_+4])]),w=0;4>w;++w)r(d,p+32*w,_,0,_.length)}function zm(d,p){var w=d[p-1],_=d[p-1+32],P=d[p-1+64],O=d[p-1+96];Oe(d,p+0,16843009*ft(d[p-1-32],w,_)),Oe(d,p+32,16843009*ft(w,_,P)),Oe(d,p+64,16843009*ft(_,P,O)),Oe(d,p+96,16843009*ft(P,O,O))}function ns(d,p){var w,_=4;for(w=0;4>w;++w)_+=d[p+w-32]+d[p-1+32*w];for(_>>=3,w=0;4>w;++w)i(d,p+32*w,_,4)}function Sh(d,p){var w=d[p-1+0],_=d[p-1+32],P=d[p-1+64],O=d[p-1-32],I=d[p+0-32],M=d[p+1-32],U=d[p+2-32],Q=d[p+3-32];d[p+0+96]=ft(_,P,d[p-1+96]),d[p+1+96]=d[p+0+64]=ft(w,_,P),d[p+2+96]=d[p+1+64]=d[p+0+32]=ft(O,w,_),d[p+3+96]=d[p+2+64]=d[p+1+32]=d[p+0+0]=ft(I,O,w),d[p+3+64]=d[p+2+32]=d[p+1+0]=ft(M,I,O),d[p+3+32]=d[p+2+0]=ft(U,M,I),d[p+3+0]=ft(Q,U,M)}function Nh(d,p){var w=d[p+1-32],_=d[p+2-32],P=d[p+3-32],O=d[p+4-32],I=d[p+5-32],M=d[p+6-32],U=d[p+7-32];d[p+0+0]=ft(d[p+0-32],w,_),d[p+1+0]=d[p+0+32]=ft(w,_,P),d[p+2+0]=d[p+1+32]=d[p+0+64]=ft(_,P,O),d[p+3+0]=d[p+2+32]=d[p+1+64]=d[p+0+96]=ft(P,O,I),d[p+3+32]=d[p+2+64]=d[p+1+96]=ft(O,I,M),d[p+3+64]=d[p+2+96]=ft(I,M,U),d[p+3+96]=ft(M,U,U)}function wl(d,p){var w=d[p-1+0],_=d[p-1+32],P=d[p-1+64],O=d[p-1-32],I=d[p+0-32],M=d[p+1-32],U=d[p+2-32],Q=d[p+3-32];d[p+0+0]=d[p+1+64]=O+I+1>>1,d[p+1+0]=d[p+2+64]=I+M+1>>1,d[p+2+0]=d[p+3+64]=M+U+1>>1,d[p+3+0]=U+Q+1>>1,d[p+0+96]=ft(P,_,w),d[p+0+64]=ft(_,w,O),d[p+0+32]=d[p+1+96]=ft(w,O,I),d[p+1+32]=d[p+2+96]=ft(O,I,M),d[p+2+32]=d[p+3+96]=ft(I,M,U),d[p+3+32]=ft(M,U,Q)}function du(d,p){var w=d[p+0-32],_=d[p+1-32],P=d[p+2-32],O=d[p+3-32],I=d[p+4-32],M=d[p+5-32],U=d[p+6-32],Q=d[p+7-32];d[p+0+0]=w+_+1>>1,d[p+1+0]=d[p+0+64]=_+P+1>>1,d[p+2+0]=d[p+1+64]=P+O+1>>1,d[p+3+0]=d[p+2+64]=O+I+1>>1,d[p+0+32]=ft(w,_,P),d[p+1+32]=d[p+0+96]=ft(_,P,O),d[p+2+32]=d[p+1+96]=ft(P,O,I),d[p+3+32]=d[p+2+96]=ft(O,I,M),d[p+3+64]=ft(I,M,U),d[p+3+96]=ft(M,U,Q)}function Um(d,p){var w=d[p-1+0],_=d[p-1+32],P=d[p-1+64],O=d[p-1+96];d[p+0+0]=w+_+1>>1,d[p+2+0]=d[p+0+32]=_+P+1>>1,d[p+2+32]=d[p+0+64]=P+O+1>>1,d[p+1+0]=ft(w,_,P),d[p+3+0]=d[p+1+32]=ft(_,P,O),d[p+3+32]=d[p+1+64]=ft(P,O,O),d[p+3+64]=d[p+2+64]=d[p+0+96]=d[p+1+96]=d[p+2+96]=d[p+3+96]=O}function qm(d,p){var w=d[p-1+0],_=d[p-1+32],P=d[p-1+64],O=d[p-1+96],I=d[p-1-32],M=d[p+0-32],U=d[p+1-32],Q=d[p+2-32];d[p+0+0]=d[p+2+32]=w+I+1>>1,d[p+0+32]=d[p+2+64]=_+w+1>>1,d[p+0+64]=d[p+2+96]=P+_+1>>1,d[p+0+96]=O+P+1>>1,d[p+3+0]=ft(M,U,Q),d[p+2+0]=ft(I,M,U),d[p+1+0]=d[p+3+32]=ft(w,I,M),d[p+1+32]=d[p+3+64]=ft(_,w,I),d[p+1+64]=d[p+3+96]=ft(P,_,w),d[p+1+96]=ft(O,P,_)}function $m(d,p){var w;for(w=0;8>w;++w)r(d,p+32*w,d,p-32,8)}function hu(d,p){var w;for(w=0;8>w;++w)i(d,p,d[p-1],8),p+=32}function po(d,p,w){var _;for(_=0;8>_;++_)i(p,w+32*_,d,8)}function ra(d,p){var w,_=8;for(w=0;8>w;++w)_+=d[p+w-32]+d[p-1+32*w];po(_>>4,d,p)}function Vm(d,p){var w,_=4;for(w=0;8>w;++w)_+=d[p+w-32];po(_>>3,d,p)}function mo(d,p){var w,_=4;for(w=0;8>w;++w)_+=d[p-1+32*w];po(_>>3,d,p)}function fu(d,p){po(128,d,p)}function xl(d,p,w){var _=d[p-w],P=d[p+0],O=3*(P-_)+Qm[1020+d[p-2*w]-d[p+w]],I=Ih[112+(O+4>>3)];d[p-w]=Xr[255+_+Ih[112+(O+3>>3)]],d[p+0]=Xr[255+P-I]}function _h(d,p,w,_){var P=d[p+0],O=d[p+w];return gi[255+d[p-2*w]-d[p-w]]>_||gi[255+O-P]>_}function kh(d,p,w,_){return 4*gi[255+d[p-w]-d[p+0]]+gi[255+d[p-2*w]-d[p+w]]<=_}function jh(d,p,w,_,P){var O=d[p-3*w],I=d[p-2*w],M=d[p-w],U=d[p+0],Q=d[p+w],oe=d[p+2*w],ve=d[p+3*w];return 4*gi[255+M-U]+gi[255+I-Q]>_?0:gi[255+d[p-4*w]-O]<=P&&gi[255+O-I]<=P&&gi[255+I-M]<=P&&gi[255+ve-oe]<=P&&gi[255+oe-Q]<=P&&gi[255+Q-U]<=P}function Ah(d,p,w,_){var P=2*_+1;for(_=0;16>_;++_)kh(d,p+_,w,P)&&xl(d,p+_,w)}function rs(d,p,w,_){var P=2*_+1;for(_=0;16>_;++_)kh(d,p+_*w,1,P)&&xl(d,p+_*w,1)}function As(d,p,w,_){var P;for(P=3;0<P;--P)Ah(d,p+=4*w,w,_)}function Hm(d,p,w,_){var P;for(P=3;0<P;--P)rs(d,p+=4,w,_)}function ia(d,p,w,_,P,O,I,M){for(O=2*O+1;0<P--;){if(jh(d,p,w,O,I))if(_h(d,p,w,M))xl(d,p,w);else{var U=d,Q=p,oe=w,ve=U[Q-2*oe],ye=U[Q-oe],he=U[Q+0],Pe=U[Q+oe],xe=U[Q+2*oe],le=27*(Ae=Qm[1020+3*(he-ye)+Qm[1020+ve-Pe]])+63>>7,ue=18*Ae+63>>7,Ae=9*Ae+63>>7;U[Q-3*oe]=Xr[255+U[Q-3*oe]+Ae],U[Q-2*oe]=Xr[255+ve+ue],U[Q-oe]=Xr[255+ye+le],U[Q+0]=Xr[255+he-le],U[Q+oe]=Xr[255+Pe-ue],U[Q+2*oe]=Xr[255+xe-Ae]}p+=_}}function Di(d,p,w,_,P,O,I,M){for(O=2*O+1;0<P--;){if(jh(d,p,w,O,I))if(_h(d,p,w,M))xl(d,p,w);else{var U=d,Q=p,oe=w,ve=U[Q-oe],ye=U[Q+0],he=U[Q+oe],Pe=Ih[112+((xe=3*(ye-ve))+4>>3)],xe=Ih[112+(xe+3>>3)],le=Pe+1>>1;U[Q-2*oe]=Xr[255+U[Q-2*oe]+le],U[Q-oe]=Xr[255+ve+xe],U[Q+0]=Xr[255+ye-Pe],U[Q+oe]=Xr[255+he-le]}p+=_}}function pu(d,p,w,_,P,O){ia(d,p,w,1,16,_,P,O)}function go(d,p,w,_,P,O){ia(d,p,1,w,16,_,P,O)}function Wm(d,p,w,_,P,O){var I;for(I=3;0<I;--I)Di(d,p+=4*w,w,1,16,_,P,O)}function bl(d,p,w,_,P,O){var I;for(I=3;0<I;--I)Di(d,p+=4,1,w,16,_,P,O)}function Km(d,p,w,_,P,O,I,M){ia(d,p,P,1,8,O,I,M),ia(w,_,P,1,8,O,I,M)}function mu(d,p,w,_,P,O,I,M){ia(d,p,1,P,8,O,I,M),ia(w,_,1,P,8,O,I,M)}function gu(d,p,w,_,P,O,I,M){Di(d,p+4*P,P,1,8,O,I,M),Di(w,_+4*P,P,1,8,O,I,M)}function Ch(d,p,w,_,P,O,I,M){Di(d,p+4,1,P,8,O,I,M),Di(w,_+4,1,P,8,O,I,M)}function Sl(){this.ba=new Qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lh(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new F}function Gm(){this.xb=this.a=0,this.l=new ml,this.ca=new Qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lh,this.ab=0,this.gc=a(4,yu),this.Oc=0}function Nl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ml,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vo(d,p,w,_,P,O,I){for(d=d==null?0:d[p+0],p=0;p<I;++p)P[O+p]=d+w[_+p]&255,d=P[O+p]}function wu(d,p,w,_,P,O,I){var M;if(d==null)vo(null,null,w,_,P,O,I);else for(M=0;M<I;++M)P[O+M]=d[p+M]+w[_+M]&255}function sa(d,p,w,_,P,O,I){if(d==null)vo(null,null,w,_,P,O,I);else{var M,U=d[p+0],Q=U,oe=U;for(M=0;M<I;++M)Q=oe+(U=d[p+M])-Q,oe=w[_+M]+(-256&Q?0>Q?0:255:Q)&255,Q=U,P[O+M]=oe}}function xu(d,p,w,_){var P=p.width,O=p.o;if(e(d!=null&&p!=null),0>w||0>=_||w+_>O)return null;if(!d.Cc){if(d.ga==null){var I;if(d.ga=new Nl,(I=d.ga==null)||(I=p.width*p.o,e(d.Gb.length==0),d.Gb=s(I),d.Uc=0,d.Gb==null?I=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,I=1),I=!I),!I){I=d.ga;var M=d.Fa,U=d.P,Q=d.qc,oe=d.mb,ve=d.nb,ye=U+1,he=Q-1,Pe=I.l;if(e(M!=null&&oe!=null&&p!=null),da[0]=null,da[1]=vo,da[2]=wu,da[3]=sa,I.ca=oe,I.tb=ve,I.c=p.width,I.i=p.height,e(0<I.c&&0<I.i),1>=Q)p=0;else if(I.$a=M[U+0]>>0&3,I.Z=M[U+0]>>2&3,I.Lc=M[U+0]>>4&3,U=M[U+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||U)p=0;else if(Pe.put=wr,Pe.ac=Dt,Pe.bc=Ut,Pe.ma=I,Pe.width=p.width,Pe.height=p.height,Pe.Da=p.Da,Pe.v=p.v,Pe.va=p.va,Pe.j=p.j,Pe.o=p.o,I.$a)e:{e(I.$a==1),p=di();t:for(;;){if(p==null){p=0;break e}if(e(I!=null),I.mc=p,p.c=I.c,p.i=I.i,p.l=I.l,p.l.ma=I,p.l.width=I.c,p.l.height=I.i,p.a=0,H(p.m,M,ye,he),!ts(I.c,I.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&ks(p.s)?(I.ic=1,M=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(M),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(I.ic=0,p=fo(p,I.c)),!p))break t;p=1;break e}I.mc=null,p=0}else p=he>=I.c*I.i;I=!p}if(I)return null;d.ga.Lc!=1?d.Ga=0:_=O-w}e(d.ga!=null),e(w+_<=O);e:{if(p=(M=d.ga).c,O=M.l.o,M.$a==0){if(ye=d.rc,he=d.Vc,Pe=d.Fa,U=d.P+1+w*p,Q=d.mb,oe=d.nb+w*p,e(U<=d.P+d.qc),M.Z!=0)for(e(da[M.Z]!=null),I=0;I<_;++I)da[M.Z](ye,he,Pe,U,Q,oe,p),ye=Q,he=oe,oe+=p,U+=p;else for(I=0;I<_;++I)r(Q,oe,Pe,U,p),ye=Q,he=oe,oe+=p,U+=p;d.rc=ye,d.Vc=he}else{if(e(M.mc!=null),p=w+_,e((I=M.mc)!=null),e(p<=I.i),I.C>=p)p=1;else if(M.ic||pe(),M.ic){M=I.V,ye=I.Ba,he=I.c;var xe=I.i,le=(Pe=1,U=I.$/he,Q=I.$%he,oe=I.m,ve=I.s,I.$),ue=he*xe,Ae=he*p,De=ve.wc,Le=le<Ae?qt(ve,Q,U):null;e(le<=ue),e(p<=xe),e(ks(ve));t:for(;;){for(;!oe.h&&le<Ae;){if(Q&De||(Le=qt(ve,Q,U)),e(Le!=null),re(oe),256>(xe=Wt(Le.G[0],Le.H[0],oe)))M[ye+le]=xe,++le,++Q>=he&&(Q=0,++U<=p&&!(U%16)&&Li(I,U));else{if(!(280>xe)){Pe=0;break t}xe=rr(xe-256,oe);var Ge,He=Wt(Le.G[4],Le.H[4],oe);if(re(oe),!(le>=(He=hn(he,He=rr(He,oe)))&&ue-le>=xe)){Pe=0;break t}for(Ge=0;Ge<xe;++Ge)M[ye+le+Ge]=M[ye+le+Ge-He];for(le+=xe,Q+=xe;Q>=he;)Q-=he,++U<=p&&!(U%16)&&Li(I,U);le<Ae&&Q&De&&(Le=qt(ve,Q,U))}e(oe.h==Y(oe))}Li(I,U>p?p:U);break t}!Pe||oe.h&&le<ue?(Pe=0,I.a=oe.h?5:3):I.$=le,p=Pe}else p=Pi(I,I.V,I.Ba,I.c,I.i,p,ul);if(!p){_=0;break e}}w+_>=O&&(d.Cc=1),_=1}if(!_)return null;if(d.Cc&&((_=d.ga)!=null&&(_.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+w*P}function v(d,p,w,_,P,O){for(;0<P--;){var I,M=d,U=p+(w?1:0),Q=d,oe=p+(w?0:3);for(I=0;I<_;++I){var ve=Q[oe+4*I];ve!=255&&(ve*=32897,M[U+4*I+0]=M[U+4*I+0]*ve>>23,M[U+4*I+1]=M[U+4*I+1]*ve>>23,M[U+4*I+2]=M[U+4*I+2]*ve>>23)}p+=O}}function D(d,p,w,_,P){for(;0<_--;){var O;for(O=0;O<w;++O){var I=d[p+2*O+0],M=15&(Q=d[p+2*O+1]),U=4369*M,Q=(240&Q|Q>>4)*U>>16;d[p+2*O+0]=(240&I|I>>4)*U>>16&240|(15&I|I<<4)*U>>16>>4&15,d[p+2*O+1]=240&Q|M}p+=P}}function Z(d,p,w,_,P,O,I,M){var U,Q,oe=255;for(Q=0;Q<P;++Q){for(U=0;U<_;++U){var ve=d[p+U];O[I+4*U]=ve,oe&=ve}p+=w,I+=M}return oe!=255}function ae(d,p,w,_,P){var O;for(O=0;O<P;++O)w[_+O]=d[p+O]>>8}function pe(){mi=v,Kt=D,Gt=Z,bn=ae}function Se(d,p,w){j[d]=function(_,P,O,I,M,U,Q,oe,ve,ye,he,Pe,xe,le,ue,Ae,De){var Le,Ge=De-1>>1,He=M[U+0]|Q[oe+0]<<16,ot=ve[ye+0]|he[Pe+0]<<16;e(_!=null);var We=3*He+ot+131074>>2;for(p(_[P+0],255&We,We>>16,xe,le),O!=null&&(We=3*ot+He+131074>>2,p(O[I+0],255&We,We>>16,ue,Ae)),Le=1;Le<=Ge;++Le){var Ft=M[U+Le]|Q[oe+Le]<<16,It=ve[ye+Le]|he[Pe+Le]<<16,Lt=He+Ft+ot+It+524296,_t=Lt+2*(Ft+ot)>>3;We=_t+He>>1,He=(Lt=Lt+2*(He+It)>>3)+Ft>>1,p(_[P+2*Le-1],255&We,We>>16,xe,le+(2*Le-1)*w),p(_[P+2*Le-0],255&He,He>>16,xe,le+(2*Le-0)*w),O!=null&&(We=Lt+ot>>1,He=_t+It>>1,p(O[I+2*Le-1],255&We,We>>16,ue,Ae+(2*Le-1)*w),p(O[I+2*Le+0],255&He,He>>16,ue,Ae+(2*Le+0)*w)),He=Ft,ot=It}1&De||(We=3*He+ot+131074>>2,p(_[P+De-1],255&We,We>>16,xe,le+(De-1)*w),O!=null&&(We=3*ot+He+131074>>2,p(O[I+De-1],255&We,We>>16,ue,Ae+(De-1)*w)))}}function Te(){vi[Rh]=QS,vi[Mh]=Ny,vi[yy]=JS,vi[Bh]=_y,vi[zh]=ky,vi[Jm]=jy,vi[wy]=XS,vi[Xm]=Ny,vi[Zm]=_y,vi[Uh]=ky,vi[eg]=jy}function Ke(d){return d&~ZS?0>d?0:255:d>>Ay}function st(d,p){return Ke((19077*d>>8)+(26149*p>>8)-14234)}function gt(d,p,w){return Ke((19077*d>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function pt(d,p){return Ke((19077*d>>8)+(33050*p>>8)-17685)}function At(d,p,w,_,P){_[P+0]=st(d,w),_[P+1]=gt(d,p,w),_[P+2]=pt(d,p)}function on(d,p,w,_,P){_[P+0]=pt(d,p),_[P+1]=gt(d,p,w),_[P+2]=st(d,w)}function pn(d,p,w,_,P){var O=gt(d,p,w);p=O<<3&224|pt(d,p)>>3,_[P+0]=248&st(d,w)|O>>5,_[P+1]=p}function Pn(d,p,w,_,P){var O=240&pt(d,p)|15;_[P+0]=240&st(d,w)|gt(d,p,w)>>4,_[P+1]=O}function sr(d,p,w,_,P){_[P+0]=255,At(d,p,w,_,P+1)}function qn(d,p,w,_,P){on(d,p,w,_,P),_[P+3]=255}function Fi(d,p,w,_,P){At(d,p,w,_,P),_[P+3]=255}function Jr(d,p){return 0>d?0:d>p?p:d}function is(d,p,w){j[d]=function(_,P,O,I,M,U,Q,oe,ve){for(var ye=oe+(-2&ve)*w;oe!=ye;)p(_[P+0],O[I+0],M[U+0],Q,oe),p(_[P+1],O[I+0],M[U+0],Q,oe+w),P+=2,++I,++U,oe+=2*w;1&ve&&p(_[P+0],O[I+0],M[U+0],Q,oe)}}function Ph(d,p,w){return w==0?d==0?p==0?6:5:p==0?4:0:w}function bu(d,p,w,_,P){switch(d>>>30){case 3:Ps(p,w,_,P,0);break;case 2:xn(p,w,_,P);break;case 1:br(p,w,_,P)}}function Su(d,p){var w,_,P=p.M,O=p.Nb,I=d.oc,M=d.pc+40,U=d.oc,Q=d.pc+584,oe=d.oc,ve=d.pc+600;for(w=0;16>w;++w)I[M+32*w-1]=129;for(w=0;8>w;++w)U[Q+32*w-1]=129,oe[ve+32*w-1]=129;for(0<P?I[M-1-32]=U[Q-1-32]=oe[ve-1-32]=129:(i(I,M-32-1,127,21),i(U,Q-32-1,127,9),i(oe,ve-32-1,127,9)),_=0;_<d.za;++_){var ye=p.ya[p.aa+_];if(0<_){for(w=-1;16>w;++w)r(I,M+32*w-4,I,M+32*w+12,4);for(w=-1;8>w;++w)r(U,Q+32*w-4,U,Q+32*w+4,4),r(oe,ve+32*w-4,oe,ve+32*w+4,4)}var he=d.Gd,Pe=d.Hd+_,xe=ye.ad,le=ye.Hc;if(0<P&&(r(I,M-32,he[Pe].y,0,16),r(U,Q-32,he[Pe].f,0,8),r(oe,ve-32,he[Pe].ea,0,8)),ye.Za){var ue=I,Ae=M-32+16;for(0<P&&(_>=d.za-1?i(ue,Ae,he[Pe].y[15],4):r(ue,Ae,he[Pe+1].y,0,4)),w=0;4>w;w++)ue[Ae+128+w]=ue[Ae+256+w]=ue[Ae+384+w]=ue[Ae+0+w];for(w=0;16>w;++w,le<<=2)ue=I,Ae=M+Ly[w],Ti[ye.Ob[w]](ue,Ae),bu(le,xe,16*+w,ue,Ae)}else if(ue=Ph(_,P,ye.Ob[0]),ua[ue](I,M),le!=0)for(w=0;16>w;++w,le<<=2)bu(le,xe,16*+w,I,M+Ly[w]);for(w=ye.Gc,ue=Ph(_,P,ye.Dd),Ds[ue](U,Q),Ds[ue](oe,ve),le=xe,ue=U,Ae=Q,255&(ye=w>>0)&&(170&ye?Au(le,256,ue,Ae):fi(le,256,ue,Ae)),ye=oe,le=ve,255&(w>>=8)&&(170&w?Au(xe,320,ye,le):fi(xe,320,ye,le)),P<d.Ub-1&&(r(he[Pe].y,0,I,M+480,16),r(he[Pe].f,0,U,Q+224,8),r(he[Pe].ea,0,oe,ve+224,8)),w=8*O*d.B,he=d.sa,Pe=d.ta+16*_+16*O*d.R,xe=d.qa,ye=d.ra+8*_+w,le=d.Ha,ue=d.Ia+8*_+w,w=0;16>w;++w)r(he,Pe+w*d.R,I,M+32*w,16);for(w=0;8>w;++w)r(xe,ye+w*d.B,U,Q+32*w,8),r(le,ue+w*d.B,oe,ve+32*w,8)}}function _l(d,p,w,_,P,O,I,M,U){var Q=[0],oe=[0],ve=0,ye=U!=null?U.kd:0,he=U??new vu;if(d==null||12>w)return 7;he.data=d,he.w=p,he.ha=w,p=[p],w=[w],he.gb=[he.gb];e:{var Pe=p,xe=w,le=he.gb;if(e(d!=null),e(xe!=null),e(le!=null),le[0]=0,12<=xe[0]&&!n(d,Pe[0],"RIFF")){if(n(d,Pe[0]+8,"WEBP")){le=3;break e}var ue=$e(d,Pe[0]+4);if(12>ue||4294967286<ue){le=3;break e}if(ye&&ue>xe[0]-8){le=7;break e}le[0]=ue,Pe[0]+=12,xe[0]-=12}le=0}if(le!=0)return le;for(ue=0<he.gb[0],w=w[0];;){e:{var Ae=d;xe=p,le=w;var De=Q,Le=oe,Ge=Pe=[0];if((We=ve=[ve])[0]=0,8>le[0])le=7;else{if(!n(Ae,xe[0],"VP8X")){if($e(Ae,xe[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var He=$e(Ae,xe[0]+8),ot=1+Be(Ae,xe[0]+12);if(2147483648<=ot*(Ae=1+Be(Ae,xe[0]+15))){le=3;break e}Ge!=null&&(Ge[0]=He),De!=null&&(De[0]=ot),Le!=null&&(Le[0]=Ae),xe[0]+=18,le[0]-=18,We[0]=1}le=0}}if(ve=ve[0],Pe=Pe[0],le!=0)return le;if(xe=!!(2&Pe),!ue&&ve)return 3;if(O!=null&&(O[0]=!!(16&Pe)),I!=null&&(I[0]=xe),M!=null&&(M[0]=0),I=Q[0],Pe=oe[0],ve&&xe&&U==null){le=0;break}if(4>w){le=7;break}if(ue&&ve||!ue&&!ve&&!n(d,p[0],"ALPH")){w=[w],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{He=d,le=p,ue=w;var We=he.gb;De=he.na,Le=he.P,Ge=he.Sa,ot=22,e(He!=null),e(ue!=null),Ae=le[0];var Ft=ue[0];for(e(De!=null),e(Ge!=null),De[0]=null,Le[0]=null,Ge[0]=0;;){if(le[0]=Ae,ue[0]=Ft,8>Ft){le=7;break e}var It=$e(He,Ae+4);if(4294967286<It){le=3;break e}var Lt=8+It+1&-2;if(ot+=Lt,0<We&&ot>We){le=3;break e}if(!n(He,Ae,"VP8 ")||!n(He,Ae,"VP8L")){le=0;break e}if(Ft[0]<Lt){le=7;break e}n(He,Ae,"ALPH")||(De[0]=He,Le[0]=Ae+8,Ge[0]=It),Ae+=Lt,Ft-=Lt}}if(w=w[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],le!=0)break}w=[w],he.Ja=[he.Ja],he.xa=[he.xa];e:if(We=d,le=p,ue=w,De=he.gb[0],Le=he.Ja,Ge=he.xa,He=le[0],Ae=!n(We,He,"VP8 "),ot=!n(We,He,"VP8L"),e(We!=null),e(ue!=null),e(Le!=null),e(Ge!=null),8>ue[0])le=7;else{if(Ae||ot){if(We=$e(We,He+4),12<=De&&We>De-12){le=3;break e}if(ye&&We>ue[0]-8){le=7;break e}Le[0]=We,le[0]+=8,ue[0]-=8,Ge[0]=ot}else Ge[0]=5<=ue[0]&&We[He+0]==47&&!(We[He+4]>>5),Le[0]=ue[0];le=0}if(w=w[0],he.Ja=he.Ja[0],he.xa=he.xa[0],p=p[0],le!=0)break;if(4294967286<he.Ja)return 3;if(M==null||xe||(M[0]=he.xa?2:1),I=[I],Pe=[Pe],he.xa){if(5>w){le=7;break}M=I,ye=Pe,xe=O,d==null||5>w?d=0:5<=w&&d[p+0]==47&&!(d[p+4]>>5)?(ue=[0],We=[0],De=[0],H(Le=new A,d,p,w),tt(Le,ue,We,De)?(M!=null&&(M[0]=ue[0]),ye!=null&&(ye[0]=We[0]),xe!=null&&(xe[0]=De[0]),d=1):d=0):d=0}else{if(10>w){le=7;break}M=Pe,d==null||10>w||!ph(d,p+3,w-3)?d=0:(ye=d[p+0]|d[p+1]<<8|d[p+2]<<16,xe=16383&(d[p+7]<<8|d[p+6]),d=16383&(d[p+9]<<8|d[p+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=he.Ja||!xe||!d?d=0:(I&&(I[0]=xe),M&&(M[0]=d),d=1))}if(!d||(I=I[0],Pe=Pe[0],ve&&(Q[0]!=I||oe[0]!=Pe)))return 3;U!=null&&(U[0]=he,U.offset=p-U.w,e(4294967286>p-U.w),e(U.offset==U.ha-w));break}return le==0||le==7&&ve&&U==null?(O!=null&&(O[0]|=he.na!=null&&0<he.na.length),_!=null&&(_[0]=I),P!=null&&(P[0]=Pe),0):le}function Nu(d,p,w){var _=p.width,P=p.height,O=0,I=0,M=_,U=P;if(p.Da=d!=null&&0<d.Da,p.Da&&(M=d.cd,U=d.bd,O=d.v,I=d.j,11>w||(O&=-2,I&=-2),0>O||0>I||0>=M||0>=U||O+M>_||I+U>P))return 0;if(p.v=O,p.j=I,p.va=O+M,p.o=I+U,p.U=M,p.T=U,p.da=d!=null&&0<d.da,p.da){if(!it(M,U,w=[d.ib],O=[d.hb]))return 0;p.ib=w[0],p.hb=O[0]}return p.ob=d!=null&&d.ob,p.Kb=d==null||!d.Sd,p.da&&(p.ob=p.ib<3*_/4&&p.hb<3*P/4,p.Kb=0),1}function _u(d){if(d==null)return 2;if(11>d.S){var p=d.f.RGBA;p.fb+=(d.height-1)*p.A,p.A=-p.A}else p=d.f.kb,d=d.height,p.O+=(d-1)*p.fa,p.fa=-p.fa,p.N+=(d-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(d-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(d-1)*p.lb,p.lb=-p.lb);return 0}function kl(d,p,w,_){if(_==null||0>=d||0>=p)return 2;if(w!=null){if(w.Da){var P=w.cd,O=w.bd,I=-2&w.v,M=-2&w.j;if(0>I||0>M||0>=P||0>=O||I+P>d||M+O>p)return 2;d=P,p=O}if(w.da){if(!it(d,p,P=[w.ib],O=[w.hb]))return 2;d=P[0],p=O[0]}}_.width=d,_.height=p;e:{var U=_.width,Q=_.height;if(d=_.S,0>=U||0>=Q||!(d>=Rh&&13>d))d=2;else{if(0>=_.Rd&&_.sd==null){I=O=P=p=0;var oe=(M=U*Py[d])*Q;if(11>d||(O=(Q+1)/2*(p=(U+1)/2),d==12&&(I=(P=U)*Q)),(Q=s(oe+2*O+I))==null){d=1;break e}_.sd=Q,11>d?((U=_.f.RGBA).eb=Q,U.fb=0,U.A=M,U.size=oe):((U=_.f.kb).y=Q,U.O=0,U.fa=M,U.Fd=oe,U.f=Q,U.N=0+oe,U.Ab=p,U.Cd=O,U.ea=Q,U.W=0+oe+O,U.Db=p,U.Ed=O,d==12&&(U.F=Q,U.J=0+oe+2*O),U.Tc=I,U.lb=P)}if(p=1,P=_.S,O=_.width,I=_.height,P>=Rh&&13>P)if(11>P)d=_.f.RGBA,p&=(M=Math.abs(d.A))*(I-1)+O<=d.size,p&=M>=O*Py[P],p&=d.eb!=null;else{d=_.f.kb,M=(O+1)/2,oe=(I+1)/2,U=Math.abs(d.fa),Q=Math.abs(d.Ab);var ve=Math.abs(d.Db),ye=Math.abs(d.lb),he=ye*(I-1)+O;p&=U*(I-1)+O<=d.Fd,p&=Q*(oe-1)+M<=d.Cd,p=(p&=ve*(oe-1)+M<=d.Ed)&U>=O&Q>=M&ve>=M,p&=d.y!=null,p&=d.f!=null,p&=d.ea!=null,P==12&&(p&=ye>=O,p&=he<=d.Tc,p&=d.F!=null)}else p=0;d=p?0:2}}return d!=0||w!=null&&w.fd&&(d=_u(_)),d}var Qn=64,jl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Al=24,Cl=32,ku=8,Or=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(d){return d},j.Predictor2=function(d,p,w){return p[w+0]},j.Predictor3=function(d,p,w){return p[w+1]},j.Predictor4=function(d,p,w){return p[w-1]},j.Predictor5=function(d,p,w){return W(W(d,p[w+1]),p[w+0])},j.Predictor6=function(d,p,w){return W(d,p[w-1])},j.Predictor7=function(d,p,w){return W(d,p[w+0])},j.Predictor8=function(d,p,w){return W(p[w-1],p[w+0])},j.Predictor9=function(d,p,w){return W(p[w+0],p[w+1])},j.Predictor10=function(d,p,w){return W(W(d,p[w-1]),W(p[w+0],p[w+1]))},j.Predictor11=function(d,p,w){var _=p[w+0];return 0>=je(_>>24&255,d>>24&255,(p=p[w-1])>>24&255)+je(_>>16&255,d>>16&255,p>>16&255)+je(_>>8&255,d>>8&255,p>>8&255)+je(255&_,255&d,255&p)?_:d},j.Predictor12=function(d,p,w){var _=p[w+0];return(se((d>>24&255)+(_>>24&255)-((p=p[w-1])>>24&255))<<24|se((d>>16&255)+(_>>16&255)-(p>>16&255))<<16|se((d>>8&255)+(_>>8&255)-(p>>8&255))<<8|se((255&d)+(255&_)-(255&p)))>>>0},j.Predictor13=function(d,p,w){var _=p[w-1];return(ge((d=W(d,p[w+0]))>>24&255,_>>24&255)<<24|ge(d>>16&255,_>>16&255)<<16|ge(d>>8&255,_>>8&255)<<8|ge(d>>0&255,_>>0&255))>>>0};var Ym=j.PredictorAdd0;j.PredictorAdd1=Ne,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var ju=j.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Eh,hi=j.ColorIndexInverseTransform,Ll=j.MapARGB,Dh=j.VP8LColorIndexInverseTransformAlpha,Fh=j.MapAlpha,aa=j.VP8LPredictorsAdd=[];aa.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var yo,Ir,xr,oa,Cs,Ls,Pl,Ps,xn,Au,br,fi,El,Th,Cu,wo,xo,la,bo,Dl,So,ca,Lu,pi,mi,Kt,Gt,bn,Rn=s(511),Es=s(2041),Pu=s(225),Fl=s(767),Oh=0,Qm=Es,Ih=Pu,Xr=Fl,gi=Rn,Rh=0,Mh=1,yy=2,Bh=3,zh=4,Jm=5,wy=6,Xm=7,Zm=8,Uh=9,eg=10,IS=[2,3,7],RS=[3,3,11],xy=[280,256,256,256,40],MS=[0,1,1,1,0],BS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],US=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qS=8,tg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ng=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Eu=null,$S=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],by=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],GS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ua=[],Ti=[],Ds=[],YS=1,Sy=2,da=[],vi=[];Se("UpsampleRgbLinePair",At,3),Se("UpsampleBgrLinePair",on,3),Se("UpsampleRgbaLinePair",Fi,4),Se("UpsampleBgraLinePair",qn,4),Se("UpsampleArgbLinePair",sr,4),Se("UpsampleRgba4444LinePair",Pn,2),Se("UpsampleRgb565LinePair",pn,2);var QS=j.UpsampleRgbLinePair,JS=j.UpsampleBgrLinePair,Ny=j.UpsampleRgbaLinePair,_y=j.UpsampleBgraLinePair,ky=j.UpsampleArgbLinePair,jy=j.UpsampleRgba4444LinePair,XS=j.UpsampleRgb565LinePair,qh=16,$h=1<<qh-1,Du=-227,rg=482,Ay=6,ZS=(256<<Ay)-1,Cy=0,eN=s(256),tN=s(256),nN=s(256),rN=s(256),iN=s(rg-Du),sN=s(rg-Du);is("YuvToRgbRow",At,3),is("YuvToBgrRow",on,3),is("YuvToRgbaRow",Fi,4),is("YuvToBgraRow",qn,4),is("YuvToArgbRow",sr,4),is("YuvToRgba4444Row",Pn,2),is("YuvToRgb565Row",pn,2);var Ly=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vh=[0,2,8],aN=[8,7,6,4,4,2,2,2,1,1,1,1],oN=1;this.WebPDecodeRGBA=function(d,p,w,_,P){var O=Mh,I=new Sl,M=new Qr;I.ba=M,M.S=O,M.width=[M.width],M.height=[M.height];var U=M.width,Q=M.height,oe=new ui;if(oe==null||d==null)var ve=2;else e(oe!=null),ve=_l(d,p,w,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(ve!=0?U=0:(U!=null&&(U[0]=oe.width[0]),Q!=null&&(Q[0]=oe.height[0]),U=1),U){M.width=M.width[0],M.height=M.height[0],_!=null&&(_[0]=M.width),P!=null&&(P[0]=M.height);e:{if(_=new ml,(P=new vu).data=d,P.w=p,P.ha=w,P.kd=1,p=[0],e(P!=null),((d=_l(P.data,P.w,P.ha,null,null,null,p,null,P))==0||d==7)&&p[0]&&(d=4),(p=d)==0){if(e(I!=null),_.data=P.data,_.w=P.w+P.offset,_.ha=P.ha-P.offset,_.put=wr,_.ac=Dt,_.bc=Ut,_.ma=I,P.xa){if((d=di())==null){I=1;break e}if(function(ye,he){var Pe=[0],xe=[0],le=[0];t:for(;;){if(ye==null)return 0;if(he==null)return ye.a=2,0;if(ye.l=he,ye.a=0,H(ye.m,he.data,he.w,he.ha),!tt(ye.m,Pe,xe,le)){ye.a=3;break t}if(ye.xb=Sy,he.width=Pe[0],he.height=xe[0],!ts(Pe[0],xe[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(d,_)){if(_=(p=kl(_.width,_.height,I.Oa,I.ba))==0){t:{_=d;n:for(;;){if(_==null){_=0;break t}if(e(_.s.yc!=null),e(_.s.Ya!=null),e(0<_.s.Wb),e((w=_.l)!=null),e((P=w.ma)!=null),_.xb!=0){if(_.ca=P.ba,_.tb=P.tb,e(_.ca!=null),!Nu(P.Oa,w,Bh)){_.a=2;break n}if(!fo(_,w.width)||w.da)break n;if((w.da||St(_.ca.S))&&pe(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&pe()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!rt(_.s.vb,_.s.Wa.Xa)){_.a=1;break n}_.xb=0}if(!Pi(_,_.V,_.Ba,_.c,_.i,w.o,cl))break n;P.Dc=_.Ma,_=1;break t}e(_.a!=0),_=0}_=!_}_&&(p=d.a)}else p=d.a}else{if((d=new Pm)==null){I=1;break e}if(d.Fa=P.na,d.P=P.P,d.qc=P.Sa,mh(d,_)){if((p=kl(_.width,_.height,I.Oa,I.ba))==0){if(d.Aa=0,w=I.Oa,e((P=d)!=null),w!=null){if(0<(U=0>(U=w.Md)?0:100<U?255:255*U/100)){for(Q=oe=0;4>Q;++Q)12>(ve=P.pb[Q]).lc&&(ve.ia=U*aN[0>ve.lc?0:ve.lc]>>3),oe|=ve.ia;oe&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=w.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}Em(d,_)||(p=d.a)}}else p=d.a}p==0&&I.Oa!=null&&I.Oa.fd&&(p=_u(I.ba))}I=p}O=I!=0?null:11>O?M.f.RGBA.eb:M.f.kb.y}else O=null;return O};var Py=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,$){for(var J="",C=0;C<4;C++)J+=String.fromCharCode(j[$++]);return J}function f(j,$){return(j[$+0]<<0|j[$+1]<<8|j[$+2]<<16)>>>0}function h(j,$){return(j[$+0]<<0|j[$+1]<<8|j[$+2]<<16|j[$+3]<<24)>>>0}new l;var g=[0],m=[0],S=[],b=new l,k=t,y=function(j,$){var J={},C=0,F=!1,G=0,z=0;if(J.frames=[],!function(B,Y,ne,re){for(var de=0;de<re;de++)if(B[Y+de]!=ne.charCodeAt(de))return!0;return!1}(j,$,"RIFF",4)){for(h(j,$+=4),$+=8;$<j.length;){var q=u(j,$),T=h(j,$+=4);$+=4;var X=T+(1&T);switch(q){case"VP8 ":case"VP8L":J.frames[C]===void 0&&(J.frames[C]={}),(ee=J.frames[C]).src_off=F?z:$-8,ee.src_size=G+T+8,C++,F&&(F=!1,G=0,z=0);break;case"VP8X":(ee=J.header={}).feature_flags=j[$];var H=$+4;ee.canvas_width=1+f(j,H),H+=3,ee.canvas_height=1+f(j,H),H+=3;break;case"ALPH":F=!0,G=X+8,z=$-8;break;case"ANIM":(ee=J.header).bgcolor=h(j,$),H=$+4,ee.loop_count=(fe=j)[(A=H)+0]<<0|fe[A+1]<<8,H+=2;break;case"ANMF":var R,ee;(ee=J.frames[C]={}).offset_x=2*f(j,$),$+=3,ee.offset_y=2*f(j,$),$+=3,ee.width=1+f(j,$),$+=3,ee.height=1+f(j,$),$+=3,ee.duration=f(j,$),$+=3,R=j[$++],ee.dispose=1&R,ee.blend=R>>1&1}q!="ANMF"&&($+=X)}var fe,A;return J}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,N=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,g=[x.canvas_height],m=[x.canvas_width];for(var E=0;E<N.length&&N[E].blend!=0;E++);}var L=N[0],K=b.WebPDecodeRGBA(k,L.src_off,L.src_size,m,g);L.rgba=K,L.imgwidth=m[0],L.imgheight=g[0];for(var V=0;V<m[0]*g[0]*4;V++)S[V]=K[V];return this.width=m,this.height=g,this.data=S,this}(function(t){var e=function(){return typeof U1=="function"},n=function(g,m,S,b){var k=4,y=a;switch(b){case t.image_compression.FAST:k=1,y=s;break;case t.image_compression.MEDIUM:k=6,y=o;break;case t.image_compression.SLOW:k=9,y=l}g=r(g,m,S,y);var x=U1(g,{level:k});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(g,m,S,b){for(var k,y,x,N=g.length/m,E=new Uint8Array(g.length+N),L=f(),K=0;K<N;K+=1){if(x=K*m,k=g.subarray(x,x+m),b)E.set(b(k,S,y),x+K);else{for(var V,j=L.length,$=[];V<j;V+=1)$[V]=L[V](k,S,y);var J=h($.concat());E.set($[J],x+K)}y=k}return E},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var S,b=[],k=g.length;b[0]=1;for(var y=0;y<k;y+=1)S=g[y-m]||0,b[y+1]=g[y]-S+256&255;return b},a=function(g,m,S){var b,k=[],y=g.length;k[0]=2;for(var x=0;x<y;x+=1)b=S&&S[x]||0,k[x+1]=g[x]-b+256&255;return k},o=function(g,m,S){var b,k,y=[],x=g.length;y[0]=3;for(var N=0;N<x;N+=1)b=g[N-m]||0,k=S&&S[N]||0,y[N+1]=g[N]+256-(b+k>>>1)&255;return y},l=function(g,m,S){var b,k,y,x,N=[],E=g.length;N[0]=4;for(var L=0;L<E;L+=1)b=g[L-m]||0,k=S&&S[L]||0,y=S&&S[L-m]||0,x=u(b,k,y),N[L+1]=g[L]-x+256&255;return N},u=function(g,m,S){if(g===m&&m===S)return g;var b=Math.abs(m-S),k=Math.abs(g-S),y=Math.abs(g+m-S-S);return b<=k&&b<=y?g:k<=y?m:S},f=function(){return[i,s,a,o,l]},h=function(g){var m=g.map(function(S){return S.reduce(function(b,k){return b+Math.abs(k)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(g,m,S,b){var k,y,x,N,E,L,K,V,j,$,J,C,F,G,z,q=this.decode.FLATE_DECODE,T="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(x=new D7(g)).imgData,y=x.bits,k=x.colorSpace,E=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){j=(V=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,J=new Uint8Array(j*x.colors),$=new Uint8Array(j);var X,H=x.pixelBitlength-x.bits;for(G=0,z=0;G<j;G++){for(F=V[G],X=0;X<H;)J[z++]=F>>>X&255,X+=x.bits;$[G]=F>>>X&255}}if(x.bits===16){j=(V=new Uint32Array(x.decodePixels().buffer)).length,J=new Uint8Array(j*(32/x.pixelBitlength)*x.colors),$=new Uint8Array(j*(32/x.pixelBitlength)),C=x.colors>1,G=0,z=0;for(var R=0;G<j;)F=V[G++],J[z++]=F>>>0&255,C&&(J[z++]=F>>>16&255,F=V[G++],J[z++]=F>>>0&255),$[R++]=F>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(g=n(J,x.width*x.colors,x.colors,b),K=n($,x.width,1,b)):(g=J,K=$,q=void 0)}if(x.colorType===3&&(k=this.color_spaces.INDEXED,L=x.palette,x.transparency.indexed)){var ee=x.transparency.indexed,fe=0;for(G=0,j=ee.length;G<j;++G)fe+=ee[G];if((fe/=255)===j-1&&ee.indexOf(0)!==-1)N=[ee.indexOf(0)];else if(fe!==j){for(V=x.decodePixels(),$=new Uint8Array(V.length),G=0,j=V.length;G<j;G++)$[G]=ee[V[G]];K=n($,x.width,1)}}var A=function(B){var Y;switch(B){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(b);return q===this.decode.FLATE_DECODE&&(T="/Predictor "+A+" "),T+="/Colors "+E+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:S,data:g,index:m,filter:q,decodeParameters:T,transparency:N,palette:L,sMask:K,predictor:A,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:k}}}})(ut.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new F7(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},f=new o0(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(ut.API),Mi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ht.log("bit decode error:"+n)}},Mi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Mi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Mi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Mi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=u}this.pos+=t}},Mi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},Mi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Mi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Mi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Mi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new o0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),zw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new zw(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new o0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),ut.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var f=r[u],h=r[u+1],g=r[u+2],m=r[u+3];s[o++]=f,s[o++]=h,s[o++]=g,a[l++]=m}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yl=ut.API,Df=Yl.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=e.doKerning!==!1,g=0,m=t.length,S=0,b=o[0]||l,k=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=h&&Bt(u[r])==="object"&&!isNaN(parseInt(u[r][S],10))?u[r][S]/f:0,k.push((o[r]||b)/l+g)),S=r;return k},Iw=Yl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Yl.processArabic&&(t=Yl.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Df.apply(this,arguments).reduce(function(s,a){return s+a},0)},Rw=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Mw=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,f=[],h=[f],g=n.textIndent||0,m=0,S=0,b=t.split(" "),k=Df.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];b.map(function(E){(E=E.split(/\s*\n/)).length>1?x=x.concat(E.map(function(L,K){return(K&&L.length?`
`:"")+L})):x.push(E[0])}),b=x,l=Iw.apply(this,[y,n])}for(s=0,a=b.length;s<a;s++){var N=0;if(r=b[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),g+m+(S=(i=Df.apply(this,[r,n])).reduce(function(E,L){return E+L},0))>e||N){if(S>e){for(o=Rw.apply(this,[r,i,e-(g+m),e]),f.push(o.shift()),f=[o.pop()];o.length;)h.push([o.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(E,L){return E+L},0)}else f=[r];h.push(f),g=S+l,m=k}else f.push(r),g+=m+S,m=k}return u=l?function(E,L){return(L?y:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(u)},Yl.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(Mw.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var g,m,S,b,k=["{"];for(var y in h){if(g=h[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=s(y).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(S=s(g).slice(3),b="-"):(S=s(g).slice(2),b=""),S=b+S.slice(0,-1)+r[S.slice(-1)];else{if(Bt(g)!=="object")throw new Error("Don't know what to do with value type "+Bt(g)+".");S=a(g)}k.push(m+S)}return k.push("}"),k.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,S,b,k={},y=1,x=k,N=[],E="",L="",K=h.length-1,V=1;V<K;V+=1)(b=h[V])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(N.push([x,S]),x={},S=void 0):b=="}"?((m=N.pop())[0][m[1]]=x,S=void 0,x=m[0]):b=="-"?y=-1:S===void 0?n.hasOwnProperty(b)?(E+=n[b],S=parseInt(E,16)*y,y=1,E=""):E+=b:n.hasOwnProperty(b)?(L+=n[b],x[S]=parseInt(L,16)*y,y=1,S=void 0,L=""):L+=b;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var g=h.font,m=f.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var S=u.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(ut.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Sd(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(ut),function(t){function e(){return(dt.canvg?Promise.resolve(dt.canvg):Xs(()=>import("./index.es-D5vSb2oO.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ut.API.addSvgAsImage=function(n,r,i,s,a,o,l,u){if(isNaN(r)||isNaN(i))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(S){return S.fromString(h,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,a,l,u)})}}(),ut.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ut.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,f=0,h=0;function g(S,b){var k,y=!1;for(k=0;k<S.length;k+=1)S[k]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(h=0;h<m;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Bt(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,b=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?b.push("/"+S+" /"+n[S].value):b.push("/"+S+" "+n[S].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ut.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,g=s.length;h<g;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},r=function(s){var a,o,l,u,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(o=Object.keys(s).sort(function(m,S){return m-S})).length;h<g;h++)a=o[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",S=0;S<g.length;S++)m+=String.fromCharCode(g[S]);var b=u();f({data:m,addLength1:!0,objectId:b}),l("endobj");var k=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xl(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xl(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+Xl(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,g="",m=0;m<h.length;m++)g+=String.fromCharCode(h[m]);var S=u();f({data:g,addLength1:!0,objectId:S}),l("endobj");var b=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var k=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Xl(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Xl(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,f=s.options||{},h=s.mutex||{},g=h.pdfEscape,m=h.activeFontKey,S=h.fonts,b=m,k="",y=0,x="",N=S[b].encoding;if(S[b].encoding!=="Identity-H")return{text:o,x:l,y:u,options:f,mutex:h};for(x=o,b=m,Array.isArray(o)&&(x=o[0]),y=0;y<x.length;y+=1)S[b].metadata.hasOwnProperty("cmap")&&(a=S[b].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),a||x[y].charCodeAt(0)<256&&S[b].metadata.hasOwnProperty("Unicode")?k+=x[y]:k+="";var E="";return parseInt(b.slice(1))<14||N==="WinAnsiEncoding"?E=g(k,b).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(E=n(k,S[b])),h.isHex=!0,{text:E,x:l,y:u,options:f,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(ut),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ut.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,f,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var E=function(C){var F=C.charCodeAt(),G=F>>8,z=b[G];return z!==void 0?h[256*z+(255&F)]:G===252||G===253?"AL":y.test(G)?"L":G===8?"R":"N"},L=function(C){for(var F,G=0;G<C.length;G++){if((F=E(C.charAt(G)))==="L")return!1;if(F==="R")return!0}return!1},K=function(C,F,G,z){var q,T,X,H,R=F[z];switch(R){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(R="AN");break;case"AL":x=!0,R="R";break;case"WS":R="N";break;case"CS":z<1||z+1>=F.length||(q=G[z-1])!=="EN"&&q!=="AN"||(T=F[z+1])!=="EN"&&T!=="AN"?R="N":x&&(T="AN"),R=T===q?T:"N";break;case"ES":R=(q=z>0?G[z-1]:"B")==="EN"&&z+1<F.length&&F[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&G[z-1]==="EN"){R="EN";break}if(x){R="N";break}for(X=z+1,H=F.length;X<H&&F[X]==="ET";)X++;R=X<H&&F[X]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(H=F.length,X=z+1;X<H&&F[X]==="NSM";)X++;if(X<H){var ee=C[z],fe=ee>=1425&&ee<=2303||ee===64286;if(q=F[X],fe&&(q==="R"||q==="AL")){R="R";break}}}R=z<1||(q=F[z-1])==="B"?"N":G[z-1];break;case"B":x=!1,i=!0,R=N;break;case"S":s=!0,R="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":R="N"}return R},V=function(C,F,G){var z=C.split("");return G&&j(z,G,{hiLevel:N}),z.reverse(),F&&F.reverse(),z.join("")},j=function(C,F,G){var z,q,T,X,H,R=-1,ee=C.length,fe=0,A=[],B=N?m:g,Y=[];for(x=!1,i=!1,s=!1,q=0;q<ee;q++)Y[q]=E(C[q]);for(T=0;T<ee;T++){if(H=fe,A[T]=K(C,Y,A,T),z=240&(fe=B[H][S[A[T]]]),fe&=15,F[T]=X=B[fe][5],z>0)if(z===16){for(q=R;q<T;q++)F[q]=1;R=-1}else R=-1;if(B[fe][6])R===-1&&(R=T);else if(R>-1){for(q=R;q<T;q++)F[q]=X;R=-1}Y[T]==="B"&&(F[T]=0),G.hiLevel|=X}s&&function(ne,re,de){for(var me=0;me<de;me++)if(ne[me]==="S"){re[me]=N;for(var we=me-1;we>=0&&ne[we]==="WS";we--)re[we]=N}}(Y,F,ee)},$=function(C,F,G,z,q){if(!(q.hiLevel<C)){if(C===1&&N===1&&!i)return F.reverse(),void(G&&G.reverse());for(var T,X,H,R,ee=F.length,fe=0;fe<ee;){if(z[fe]>=C){for(H=fe+1;H<ee&&z[H]>=C;)H++;for(R=fe,X=H-1;R<X;R++,X--)T=F[R],F[R]=F[X],F[X]=T,G&&(T=G[R],G[R]=G[X],G[X]=T);fe=H}fe++}}},J=function(C,F,G){var z=C.split(""),q={hiLevel:N};return G||(G=[]),j(z,G,q),function(T,X,H){if(H.hiLevel!==0&&f)for(var R,ee=0;ee<T.length;ee++)X[ee]===1&&(R=k.indexOf(T[ee]))>=0&&(T[ee]=k[R+1])}(z,G,q),$(2,z,F,G,q),$(1,z,F,G,q),z.join("")};return this.__bidiEngine__.doBidiReorder=function(C,F,G){if(function(q,T){if(T)for(var X=0;X<q.length;X++)T[X]=X;o===void 0&&(o=L(q)),u===void 0&&(u=L(q))}(C,F),a||!l||u)if(a&&l&&o^u)N=o?1:0,C=V(C,F,G);else if(!a&&l&&u)N=o?1:0,C=J(C,F,G),C=V(C,F);else if(!a||o||l||u){if(a&&!l&&o^u)C=V(C,F),o?(N=0,C=J(C,F,G)):(N=1,C=J(C,F,G),C=V(C,F));else if(a&&o&&!l&&u)N=1,C=J(C,F,G),C=V(C,F);else if(!a&&!l&&o^u){var z=f;o?(N=1,C=J(C,F,G),N=0,f=!1,C=J(C,F,G),f=z):(N=0,C=J(C,F,G),C=V(C,F),N=1,f=!1,C=J(C,F,G),f=z,C=V(C,F))}}else N=0,C=J(C,F,G);else N=o?1:0,C=J(C,F,G);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,l=C.isOutputVisual,o=C.isInputRtl,u=C.isOutputRtl,f=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ao(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new G7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new T7(this.contents),this.head=new I7(this),this.name=new U7(this),this.cmap=new yS(this),this.toUnicode={},this.hhea=new R7(this),this.maxp=new q7(this),this.hmtx=new $7(this),this.post=new B7(this),this.os2=new M7(this),this.loca=new K7(this),this.glyf=new V7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Zi,ao=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),T7=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,f,h,g,m,S,b;for(b in m=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(m)/l),a=Math.floor(h/l),f=16*m-h,(i=new ao).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(a),i.writeShort(f),s=16*m,u=i.pos+s,o=null,S=[],n)for(g=n[b],i.writeString(b),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),S=S.concat(g),b==="head"&&(o=u),u+=g.length;u%4;)S.push(0),u++;return i.write(S),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=wS.call(n);n.length%4;)n.push(0);for(s=new ao(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),O7={}.hasOwnProperty,_s=function(t,e){for(var n in e)O7.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Zi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var I7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ao).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Uw=function(){function t(e,n){var r,i,s,a,o,l,u,f,h,g,m,S,b,k,y,x,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=function(){var E,L;for(L=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)L.push(e.readUInt16());return L}(),e.pos+=2,b=function(){var E,L;for(L=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)L.push(e.readUInt16());return L}(),u=function(){var E,L;for(L=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)L.push(e.readUInt16());return L}(),f=function(){var E,L;for(L=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)L.push(e.readUInt16());return L}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,L;for(L=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)L.push(e.readUInt16());return L}(),l=y=0,N=s.length;y<N;l=++y)for(k=s[l],r=x=S=b[l];S<=k?x<=k:x>=k;r=S<=k?++x:--x)f[l]===0?a=r+u[l]:(a=o[f[l]/2+(r-S)-(g-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=h}return t.encode=function(e,n){var r,i,s,a,o,l,u,f,h,g,m,S,b,k,y,x,N,E,L,K,V,j,$,J,C,F,G,z,q,T,X,H,R,ee,fe,A,B,Y,ne,re,de,me,we,Oe,Fe,Be;switch(z=new ao,a=Object.keys(e).sort(function($e,rt){return $e-rt}),n){case"macroman":for(b=0,k=function(){var $e=[];for(S=0;S<256;++S)$e.push(0);return $e}(),x={0:0},s={},q=0,R=a.length;q<R;q++)x[we=e[i=a[q]]]==null&&(x[we]=++b),s[i]={old:e[i],new:x[e[i]]},k[i]=x[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(k),{charMap:s,subtable:z.data,maxGlyphID:b+1};case"unicode":for(F=[],h=[],N=0,x={},r={},y=u=null,T=0,ee=a.length;T<ee;T++)x[L=e[i=a[T]]]==null&&(x[L]=++N),r[i]={old:L,new:x[L]},o=x[L]-i,y!=null&&o===u||(y&&h.push(y),F.push(i),u=o),y=i;for(y&&h.push(y),h.push(65535),F.push(65535),J=2*($=F.length),j=2*Math.pow(Math.log($)/Math.LN2,2),g=Math.log(j/2)/Math.LN2,V=2*$-j,l=[],K=[],m=[],S=X=0,fe=F.length;X<fe;S=++X){if(C=F[S],f=h[S],C===65535){l.push(0),K.push(0);break}if(C-(G=r[C].new)>=32768)for(l.push(0),K.push(2*(m.length+$-S)),i=H=C;C<=f?H<=f:H>=f;i=C<=f?++H:--H)m.push(r[i].new);else l.push(G-C),K.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*$+2*m.length),z.writeUInt16(0),z.writeUInt16(J),z.writeUInt16(j),z.writeUInt16(g),z.writeUInt16(V),de=0,A=h.length;de<A;de++)i=h[de],z.writeUInt16(i);for(z.writeUInt16(0),me=0,B=F.length;me<B;me++)i=F[me],z.writeUInt16(i);for(Oe=0,Y=l.length;Oe<Y;Oe++)o=l[Oe],z.writeUInt16(o);for(Fe=0,ne=K.length;Fe<ne;Fe++)E=K[Fe],z.writeUInt16(E);for(Be=0,re=m.length;Be<re;Be++)b=m[Be],z.writeUInt16(b);return{charMap:r,subtable:z.data,maxGlyphID:N+1}}},t}(),yS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Uw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Uw.encode(n,r),(s=new ao).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),R7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),M7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),B7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(n.readUInt32());return u}).call(this)}},e}(),z7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},U7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,u,f,h,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},a=h=0,g=i.length;h<g;a=++h)s=i[a],n.pos=s.offset,f=n.readString(s.length),o=new z7(f,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),q7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),$7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,g,m;for(m=[],f=0,h=(g=this.metrics).length;f<h;f++)a=g[f],m.push(a.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),wS=[].slice,V7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,u,f,h,g;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new ao(r.read(s))).readShort(),f=l.readShort(),g=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[n]=o===-1?new W7(l,f,g,u,h):new H7(l,o,f,g,u,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=r.length;l<u;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),H7=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),W7=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ao(wS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),K7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _s(e,Zi),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},e}(),G7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,f,h,g,m,S,b,k,y;for(i in r=yS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},y=r.charMap)m[(l=y[i]).old]=l.new;for(S in g=r.maxGlyphID,a)S in m||(m[S]=g++);return f=function(x){var N,E;for(N in E={},x)E[x[N]]=N;return E}(m),h=Object.keys(f).sort(function(x,N){return x-N}),b=function(){var x,N,E;for(E=[],x=0,N=h.length;x<N;x++)o=h[x],E.push(f[o]);return E}(),s=this.font.glyf.encode(a,b,m),u=this.font.loca.encode(s.offsets,b),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ut.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function xS(t,e,n,r,i){r=r||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,f=/\r\n|\r|\n/g,h="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(f):t,g=h.length||1),n+=o*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var m=o;if(r.halign==="center"&&(m*=.5),h&&g>=1){for(var S=0;S<h.length;S++)i.text(h[S],e-i.getStringUnitWidth(h[S])*m,n),n+=u;return i}e-=i.getStringUnitWidth(t)*m}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var qw={},kc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:qw=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return qw||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),G1=function(t,e){return G1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},G1(t,e)};function bS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");G1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var SS=function(t){bS(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Y7(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Q7(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function $p(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function NS(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=_S(i,!1);a&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,a)}function _S(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function _m(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function kS(t,e){var n=_m(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function J7(t,e,n,r,i){var s={},a=1.3333333333333333,o=l0(e,function(N){return i.getComputedStyle(N).backgroundColor});o!=null&&(s.fillColor=o);var l=l0(e,function(N){return i.getComputedStyle(N).color});l!=null&&(s.textColor=l);var u=Z7(r,n);u&&(s.cellPadding=u);var f="borderTopColor",h=a*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/h;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var S=l0(e,function(N){return i.getComputedStyle(N)[f]});S!=null&&(s.lineColor=S);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var k=parseInt(r.fontSize||"");isNaN(k)||(s.fontSize=k/a);var y=X7(r);y&&(s.fontStyle=y);var x=(r.fontFamily||"").toLowerCase();return t.indexOf(x)!==-1&&(s.font=x),s}function X7(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function l0(t,e){var n=jS(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function jS(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:jS(t.parentElement,e):n}function Z7(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(o){return parseInt(o||"0")/r}),a=_m(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function AS(t,e,n,r,i){var s,a;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],h=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:f,body:h,foot:g};for(var m=0;m<o.rows.length;m++){var S=o.rows[m],b=(a=(s=S==null?void 0:S.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),k=eD(l,u,n,S,r,i);k&&(b==="thead"?f.push(k):b==="tfoot"?g.push(k):h.push(k))}return{head:f,body:h,foot:g}}function eD(t,e,n,r,i,s){for(var a=new SS(r),o=0;o<r.cells.length;o++){var l=r.cells[o],u=n.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=J7(t,l,e,u,n)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:tD(l)})}}var h=n.getComputedStyle(r);if(a.length>0&&(i||h.display!=="none"))return a}function tD(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function nD(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Hs(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function CS(t,e){var n=new kc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();nD(i,r,e);var s=Hs({},i,r,e),a;typeof window<"u"&&(a=window);var o=rD(i,r,e),l=iD(i,r,e),u=sD(n,s),f=oD(n,s,a);return{id:e.tableId,content:f,hooks:l,styles:o,settings:u}}function rD(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],h=n[l];r.columnStyles=Hs({},u,f,h)}else{var g=[t,e,n],m=g.map(function(S){return S[l]||{}});r[l]=Hs({},m[0],m[1],m[2])}},s=0,a=Object.keys(r);s<a.length;s++){var o=a[s];i(o)}return r}function iD(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=r;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function sD(t,e){var n,r,i,s,a,o,l,u,f,h,g,m,S=_m(e.margin,40/t.scaleFactor()),b=(n=aD(t,e.startY))!==null&&n!==void 0?n:S.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=e.useCss)!==null&&s!==void 0?s:!1,N=e.theme||(x?"plain":"striped"),E=!!e.horizontalPageBreak,L=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:x,theme:N,startY:b,margin:S,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:y,showFoot:k,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:E,horizontalPageBreakRepeat:L,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function aD(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function oD(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(n){var o=AS(t,e.html,n,a,e.useCss)||{};r=o.head||r,i=o.body||r,s=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||lD(r,i,s);return{columns:l,head:r,body:i,foot:s}}function lD(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(r)?o=r[parseInt(s)]:o=r[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var Y1=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),cD=function(t){bS(e,t);function e(n,r,i,s,a,o){var l=t.call(this,n,r,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(Y1),uD=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,a){for(var o=0,l=n;o<l.length;o++){var u=l[o],f=new cD(e,this,r,i,s,a),h=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new Y1(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new Y1(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),LS=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof SS&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var a=r.cells[s.index];if(!a)return 0;var o=n.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),PS=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=_m(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),dD=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},t}();function hD(t,e){fD(t,e);var n=[],r=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=Q1(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Q1(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),mD(e),gD(e,t),pD(e)}function fD(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=kS(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,l,null);var h=u.padding("horizontal");u.contentWidth=$p(u.text,u.styles,t)+h;var g=$p(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/n;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Q1(t,e,n){for(var r=e,i=t.reduce(function(m,S){return m+S.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=r*o,u=a.width+l,f=n(a),h=u<f?f:u;e-=h-a.width,a.width=h}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(m){return e<0?m.width>n(m):!0});g.length&&(e=Q1(g,e,n))}return e}function pD(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var h=r.length-i,g=f.rowSpan>h?h:f.rowSpan;e[l.index]={cell:f,left:g,row:s}}}}}function mD(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function gD(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=$w(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=$w(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,f);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function $w(t,e,n,r,i){return t.map(function(s){return vD(s,e,n,r,i)})}function vD(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=$p(t,n,r))return t;for(;e<$p(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function ES(t,e){var n=new kc(t),r=yD(e,n.scaleFactor()),i=new uD(e,r);return hD(n,i),n.applyStyles(n.userStyles),i}function yD(t,e){var n=t.content,r=xD(n.columns);if(n.head.length===0){var i=Vw(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Vw(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:r,head:c0("head",n.head,r,a,s,e),body:c0("body",n.body,r,a,s,e),foot:c0("foot",n.foot,r,a,s,e)}}function c0(t,e,n,r,i,s){var a={},o=e.map(function(l,u){for(var f=0,h={},g=0,m=0,S=0,b=n;S<b.length;S++){var k=b[S];if(a[k.index]==null||a[k.index].left===0)if(m===0){var y=void 0;Array.isArray(l)?y=l[k.index-g-f]:y=l[k.dataKey];var x={};typeof y=="object"&&!Array.isArray(y)&&(x=(y==null?void 0:y.styles)||{});var N=bD(t,k,u,i,r,s,x),E=new PS(y,N,t);h[k.dataKey]=E,h[k.index]=E,m=E.colSpan-1,a[k.index]={left:E.rowSpan-1,times:m}}else m--,g++;else a[k.index].left--,m=a[k.index].times,f++}return new LS(l,u,t,h)});return o}function Vw(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=wD(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function wD(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function xD(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new dD(i,e,n)})}function bD(t,e,n,r,i,s,a){var o=Q7(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Hs({},o.table,o[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?f:{},g=t==="body"&&n%2===0?Hs({},o.alternateRow,i.alternateRowStyles):{},m=Y7(s),S=Hs({},m,u,g,h);return Hs(S,a)}function SD(t,e,n){var r;n===void 0&&(n={});var i=kS(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=e.columns.find(function(S){return S.dataKey===g||S.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var h=e.columns[f].wrappedWidth;if(u||i>=h)u=!1,a.push(f),o.push(e.columns[f]),i-=h;else break;f++}return{colIndexes:a,columns:o,lastIndex:f-1}}function ND(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=SD(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function DS(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+a;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,m){return g+m.height},0);o+=u}var f=new kc(t);(n.pageBreak==="always"||n.startY!=null&&o>f.pageSize().height)&&(TS(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var h=Hs({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?_D(f,e,h,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return ea(f,e,g,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,m){var S=m===e.body.length-1;Vp(f,e,g,S,h,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return ea(f,e,g,s,e.columns)})),NS(f,e,h,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function _D(t,e,n,r){var i=ND(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Nd(t,e,n,r,u.columns,!0):Hw(t,e,r,u.columns),kD(t,e,n,r,u.columns),u0(t,e,r,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var f=o.columns;a>=0?Nd(t,e,n,r,f,!0):Hw(t,e,r,f),u=Ww(t,e,a+1,r,f),u0(t,e,r,f)}var h=u-a;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Nd(t,e,n,r,g.columns,!0),Ww(t,e,a+1,r,g.columns,h),u0(t,e,r,g.columns)}),a=u};a<e.body.length-1;)l()}function Hw(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return ea(t,e,s,n,r)})}function kD(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Vp(t,e,s,o,n,r,i)})}function Ww(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(n+s,e.body.length),o=-1;return e.body.slice(n,a).forEach(function(l,u){var f=n+u===e.body.length-1,h=FS(t,e,f,r);l.canEntireRowFit(h,i)&&(ea(t,e,l,r,i),o=n+u)}),o}function u0(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return ea(t,e,s,n,r)})}function jD(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function AD(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=n.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new PS(u.raw,u.styles,u.section);f=Hs(f,u),f.text=[];var h=jD(u,e,r);u.text.length>h&&(f.text=u.text.splice(h,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(g,m),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var S=new LS(t.raw,-1,t.section,i,!0);S.height=s;for(var b=0,k=n.columns;b<k.length;b++){var l=k[b],f=S.cells[l.index];f&&(f.height=S.height);var u=t.cells[l.index];u&&(u.height=t.height)}return S}function CD(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>o;return h?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function Vp(t,e,n,r,i,s,a){var o=FS(t,e,r,s);if(n.canEntireRowFit(o,a))ea(t,e,n,s,a);else if(CD(t,n,o,e)){var l=AD(n,o,e,t);ea(t,e,n,s,a),Nd(t,e,i,s,a),Vp(t,e,l,r,i,s,a)}else Nd(t,e,i,s,a),Vp(t,e,n,r,i,s,a)}function ea(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(u===!1){r.x+=o.width;continue}LD(t,l,r);var f=l.getTextPos();xS(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function LD(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=_S(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),PD(t,e,n,r.lineWidth))}function PD(t,e,n,r){var i,s,a,o;r.top&&(i=n.x,s=n.y,a=n.x+e.width,o=n.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,a,o)),r.bottom&&(i=n.x,s=n.y+e.height,a=n.x+e.width,o=n.y+e.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,a,o)),r.left&&(i=n.x,s=n.y,a=n.x,o=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,s,a,o)),r.right&&(i=n.x+e.width,s=n.y,a=n.x+e.width,o=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,s,a,o));function l(u,f,h,g,m){t.getDocument().setLineWidth(u),t.getDocument().line(f,h,g,m,"S")}}function FS(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Nd(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return ea(t,e,o,r,i)}),e.callEndPageHooks(t,r);var a=e.settings.margin;NS(t,e,n,r),TS(t),e.pageNumber++,r.x=a.left,r.y=a.top,n.y=a.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return ea(t,e,o,r,i)}),t.applyStyles(t.userStyles))}function TS(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function ED(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=CS(this,r),s=ES(this,i);return DS(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){xS(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return kc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){kc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new kc(this),s=AS(i,e,window,n,!1),a=s.head,o=s.body,l=((r=a[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var d0;function DD(t,e){var n=CS(t,e),r=ES(t,n);DS(t,r)}try{if(typeof window<"u"&&window){var Kw=window,Gw=Kw.jsPDF||((d0=Kw.jspdf)===null||d0===void 0?void 0:d0.jsPDF);Gw&&ED(Gw)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Ff=t=>{try{return vt(no(t),"MMM dd, yyyy HH:mm")}catch{return t}},FD=(t,e)=>{try{const n=no(t),r=new Date,i=new Date,s=vt(n,"yyyy-MM-dd"),a=vt(i,"yyyy-MM-dd");if(s===a){const m=nw(n,r),S=rw(n,r)%60;return m>0?{text:`${m}h ${S}m remaining today`,status:"returning-today"}:S>0?{text:`${S}m remaining today`,status:"returning-today"}:{text:"Due now",status:"returning-today"}}if(BP(r,n))return{text:MP(n,{addSuffix:!0}).replace("about ",""),status:"expired"};const o=T8(n,r),l=nw(n,r)%24,u=rw(n,r)%60;let f="",h="active";const g=e?e("bookings.remaining"):"remaining";return o>0?f=`${o}d ${l}h ${u}m ${g}`:l>0?(f=`${l}h ${u}m ${g}`,l<2&&(h="urgent")):u>0?(f=`${u}m ${g}`,h="urgent"):(f="Due soon",h="urgent"),{text:f,status:h}}catch(n){return console.error("Error calculating time info:",n),{text:e?e("bookings.unknown"):"Unknown",status:"active"}}},TD=()=>{const{t}=In(),e=Ns(),{user:n}=yr(),[r,i]=ce.useState("startDate"),[s,a]=ce.useState("desc"),[o,l]=ce.useState(!1),[u,f]=ce.useState(),[h,g]=ce.useState(""),[m,S]=ce.useState(new Date),[b,k]=ce.useState(!1);ce.useEffect(()=>{const z=setInterval(()=>{S(new Date)},1e3);return()=>clearInterval(z)},[]);const{data:y=[]}=On({queryKey:["clients"],queryFn:async()=>{const{data:z,error:q}=await Je.from("clients").select("id, first_name, last_name");if(q)throw _e.error("Failed to load clients"),q;return z.map(T=>({id:T.id,name:`${T.first_name} ${T.last_name}`}))},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:x=[]}=On({queryKey:["vehicles"],queryFn:async()=>{const{data:z,error:q}=await Je.from("vehicles").select("id, brand, model, price");if(q)throw _e.error("Failed to load vehicles"),q;return z.map(T=>({id:T.id,name:`${T.brand} ${T.model}`,price:T.price}))},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:N=[]}=On({queryKey:["agents"],queryFn:async()=>{const{data:z,error:q}=await Je.from("agents").select("id, first_name, last_name");if(q)throw _e.error("Failed to load agents"),q;return z.map(T=>({id:T.id,name:`${T.first_name} ${T.last_name}`}))},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:E=[],isLoading:L}=On({queryKey:["bookings"],queryFn:async()=>{const{data:z,error:q}=await Je.from("bookings").select(`
          id, 
          start_date, 
          end_date, 
          status, 
          payment_status, 
          amount, 
          client_id, 
          vehicle_id, 
          agent_id,
          user_id,
          pickup_location,
          return_location,
          clients (id, first_name, last_name),
          vehicles (id, brand, model),
          agents (id, first_name, last_name)
        `).order("created_at",{ascending:!1});if(q)throw _e.error("Failed to load bookings"),q;return z?z.map(T=>{const X=Array.isArray(T.clients)?T.clients[0]:T.clients,H=Array.isArray(T.vehicles)?T.vehicles[0]:T.vehicles,R=Array.isArray(T.agents)?T.agents[0]:T.agents,ee=fe=>()=>FD(fe,t);return{id:T.id,clientName:X?`${X.first_name} ${X.last_name}`:"Unknown",clientId:T.client_id,vehicle:H?`${H.brand} ${H.model}`:"Unknown",vehicleId:T.vehicle_id,startDate:T.start_date,endDate:T.end_date,status:T.status,paymentStatus:T.payment_status,amount:T.amount,agentName:R?`${R.first_name} ${R.last_name}`:"Unknown",agentId:T.agent_id,userId:T.user_id,commission:0,commissionRate:.1,pickupLocation:T.pickup_location||"",returnLocation:T.return_location||"",getTimeInfo:ee(T.end_date)}}):[]},staleTime:2*60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1}),{mutate:K,isPending:V}=_i({mutationFn:async z=>{try{const q=_e.loading(u?"Updating booking...":"Adding new booking..."),T=await Zo();if(!T)throw _e.dismiss(q),_e.error("You must be logged in to add or edit bookings"),new Error("User not authenticated");const X={start_date:z.startDate,end_date:z.endDate,status:z.status,payment_status:z.paymentStatus,amount:z.amount,client_id:z.clientId,vehicle_id:z.vehicleId,agent_id:z.agentId,commission_rate:z.commissionRate||.1,user_id:T.id,pickup_location:z.pickupLocation,return_location:z.returnLocation};if(console.log({bookingData:X}),u){const{error:H}=await Je.from("bookings").update(X).eq("id",u.id);if(H)throw _e.dismiss(q),_e.error(`Failed to update booking: ${H.message}`),H;_e.dismiss(q),_e.success("Booking updated successfully")}else{const{error:H,data:R}=await Je.from("bookings").insert(X);if(console.log({error:H,data:R}),H)throw _e.dismiss(q),_e.error(`Failed to add booking: ${H.message}`),H;_e.dismiss(q),_e.success("Booking added successfully")}}catch(q){console.error("Error saving booking:",q);const T=q instanceof Error?q.message:"An error occurred while saving the booking";throw _e.error(T),q}},onSuccess:()=>{e.invalidateQueries({queryKey:["bookings"]}),l(!1),f(void 0)}}),j=async z=>{K(z)},$=z=>{if(!(_n(n)||(n==null?void 0:n.id)===z.userId||(n==null?void 0:n.id)===z.agentId)){_e.error("You don't have permission to edit this booking");return}f(z),l(!0)},J=()=>{f(void 0),l(!1)},C=z=>{z===r?a(s==="asc"?"desc":"asc"):(i(z),a("asc"))},F=Ce.useMemo(()=>E?[...E.filter(q=>{if(!h)return!0;const T=h.toLowerCase();return q.clientName.toLowerCase().includes(T)||q.vehicle.toLowerCase().includes(T)||q.id.toLowerCase().includes(T)||q.agentName.toLowerCase().includes(T)})].sort((q,T)=>{if(r==="amount")return s==="asc"?q[r]-T[r]:T[r]-q[r];if(r==="getTimeInfo"){const X=q.getTimeInfo(),H=T.getTimeInfo();if(X.status!==H.status){const R={expired:0,urgent:1,"returning-today":2,active:3},ee=R[X.status],fe=R[H.status];return s==="asc"?ee-fe:fe-ee}return s==="asc"?new Date(q.endDate).getTime()-new Date(T.endDate).getTime():new Date(T.endDate).getTime()-new Date(q.endDate).getTime()}return s==="asc"?String(q[r]).localeCompare(String(T[r])):String(T[r]).localeCompare(String(q[r]))}):[],[E,h,r,s,m]),G=()=>{try{k(!0);const z=_e.loading("Generating PDF report..."),q=new ut({orientation:"landscape"});q.setFontSize(20),q.setTextColor(229,62,62),q.text("CARLAVILLE",14,22),q.setFontSize(16),q.setTextColor(0,0,0),q.text("Bookings Report",14,32),q.setFontSize(10),q.setTextColor(100,100,100),q.text(`Generated on: ${vt(new Date,"MMMM d, yyyy HH:mm")}`,14,40),h&&q.text(`Filtered by: "${h}"`,14,46);const T=[{header:"ID",dataKey:"id"},{header:"Client",dataKey:"client"},{header:"Vehicle",dataKey:"vehicle"},{header:"Agent",dataKey:"agent"},{header:"Pickup",dataKey:"pickup"},{header:"Return",dataKey:"return"},{header:"Start Date",dataKey:"startDate"},{header:"End Date",dataKey:"endDate"},{header:"Status",dataKey:"status"},{header:"Payment",dataKey:"payment"},{header:"Amount",dataKey:"amount"}],X=F.map(R=>({id:R.id,client:R.clientName,vehicle:R.vehicle,agent:R.agentName,pickup:R.pickupLocation,return:R.returnLocation,startDate:Ff(R.startDate),endDate:Ff(R.endDate),status:R.status.charAt(0).toUpperCase()+R.status.slice(1),payment:R.paymentStatus.charAt(0).toUpperCase()+R.paymentStatus.slice(1),amount:`$${R.amount}`}));if(DD(q,{head:[T.map(R=>R.header)],body:X.map(R=>T.map(ee=>R[ee.dataKey])),startY:50,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",cellWidth:"auto"},headStyles:{fillColor:[229,62,62],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{id:{cellWidth:30},amount:{halign:"right"}},margin:{top:50,bottom:20},didDrawPage:R=>{q.setFontSize(8),q.text(`Page ${R.pageNumber} of ${q.getNumberOfPages()}`,R.settings.margin.left,q.internal.pageSize.height-10)}}),q.setFontSize(10),q.setTextColor(0,0,0),q.text(`Total Bookings: ${X.length}`,14,q.internal.pageSize.height-20),X.length>0){const R=X.reduce((ee,fe)=>{const A=parseFloat(fe.amount.replace("$",""));return ee+A},0);q.text(`Total Amount: $${R.toFixed(2)}`,14,q.internal.pageSize.height-15)}const H=`bookings-report-${vt(new Date,"yyyy-MM-dd")}.pdf`;q.save(H),_e.dismiss(z),_e.success(`PDF report "${H}" downloaded successfully`)}catch(z){console.error("Error generating PDF:",z),_e.error("Failed to generate PDF report")}finally{k(!1)}};return c.jsxs("div",{className:"bookings-page",children:[c.jsxs("div",{className:"bookings-header",children:[c.jsx("h1",{children:t("bookings.bookingsManagement")}),c.jsx("div",{className:"bookings-actions",children:c.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[c.jsx(ru,{size:16}),c.jsx("span",{children:t("bookings.newBooking")})]})})]}),c.jsxs("div",{className:"bookings-toolbar",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:t("bookings.searchBookings"),className:"search-input",value:h,onChange:z=>g(z.target.value)})]}),c.jsxs("div",{className:"toolbar-actions",children:[c.jsxs("button",{className:"filter-button",children:[c.jsx(Kv,{size:16}),c.jsx("span",{children:t("bookings.filters")})]}),c.jsx("button",{className:"export-button",onClick:G,disabled:b,children:b?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner-sm"}),c.jsx("span",{children:t("bookings.generatingPdf")})]}):c.jsxs(c.Fragment,{children:[c.jsx(hm,{size:16}),c.jsx("span",{children:t("bookings.pdf")})]})}),c.jsxs("button",{className:"export-button",children:[c.jsx(sh,{size:16}),c.jsx("span",{children:t("bookings.excel")})]})]})]}),L?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:t("bookings.loadingBookings")})]}):F.length===0?c.jsxs("div",{className:"no-results",children:[c.jsx("p",{children:t("bookings.noBookingsFound")}),c.jsx("p",{className:"no-results-sub",children:E.length===0?t("bookings.noBookingsInDb"):t("bookings.adjustSearch")})]}):c.jsx("div",{className:"bookings-table-container",children:c.jsxs("table",{className:"bookings-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{onClick:()=>C("id"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.id"),r==="id"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("clientName"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.client"),r==="clientName"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("vehicle"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.vehicle"),r==="vehicle"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("agentName"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.agent"),r==="agentName"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("pickupLocation"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.pickupLocation"),r==="pickupLocation"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("returnLocation"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.returnLocation"),r==="returnLocation"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("startDate"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.startDate"),r==="startDate"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("endDate"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.endDate"),r==="endDate"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("getTimeInfo"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.timeStatus"),r==="getTimeInfo"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("status"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.status"),r==="status"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("paymentStatus"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.payment"),r==="paymentStatus"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>C("amount"),children:c.jsxs("div",{className:"th-content",children:[t("bookings.amount"),r==="amount"&&(s==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{children:t("bookings.actions")})]})}),c.jsx("tbody",{children:F.map(z=>{const q=z.getTimeInfo();return c.jsxs("tr",{children:[c.jsx("td",{children:z.id}),c.jsx("td",{children:z.clientName}),c.jsx("td",{children:z.vehicle}),c.jsx("td",{children:z.agentName}),c.jsx("td",{children:z.pickupLocation}),c.jsx("td",{children:z.returnLocation}),c.jsx("td",{children:Ff(z.startDate)}),c.jsx("td",{children:Ff(z.endDate)}),c.jsx("td",{className:`time-status ${q.status}`,"data-seconds-only":q.secondsOnly?"true":"false",children:q.text}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${z.status}`,children:z.status.charAt(0).toUpperCase()+z.status.slice(1)})}),c.jsx("td",{children:c.jsx("span",{className:`payment-badge ${z.paymentStatus}`,children:z.paymentStatus.charAt(0).toUpperCase()+z.paymentStatus.slice(1)})}),c.jsxs("td",{children:["$",z.amount]}),c.jsx("td",{children:c.jsxs("div",{className:"table-actions",children:[(_n(n)||(n==null?void 0:n.id)===z.userId||(n==null?void 0:n.id)===z.agentId)&&c.jsx("button",{className:"action-btn edit",onClick:()=>$(z),children:t("bookings.edit")}),c.jsx("button",{className:"action-btn view",children:t("bookings.view")})]})})]},z.id)})})]})}),c.jsx(JE,{isOpen:o,onClose:J,onSubmit:j,booking:u,clients:y,vehicles:x,agents:N,isSubmitting:V})]})},OD=({isOpen:t,onClose:e,onSubmit:n,vehicle:r,isSubmitting:i=!1})=>{const{t:s}=In(),{register:a,handleSubmit:o,formState:{errors:l},reset:u,setValue:f}=uh({defaultValues:r?{name:r.name,year:r.year,plateNumber:r.plateNumber,status:r.status,fuelType:r.fuelType,transmission:r.transmission,rate:r.rate,kilometrage:r.kilometrage,nextVidange:r.nextVidange}:{status:"available",fuelType:"gasoline",transmission:"automatic"}}),h=new Date().getFullYear(),[g,m]=ce.useState((r==null?void 0:r.image)||null),[S,b]=ce.useState(null),[k,y]=ce.useState(null);ce.useEffect(()=>{r?(Object.entries(r).forEach(([E,L])=>{E!=="id"&&E!=="image"&&E!=="brand"&&f(E,L)}),m(r.image||null)):(u({status:"available",fuelType:"gasoline",transmission:"automatic"}),m(null),b(null)),y(null)},[r,f,u,t]);const x=E=>{var K;const L=(K=E.target.files)==null?void 0:K[0];if(y(null),L){if(L.size>5*1024*1024){y("Image size exceeds 5MB limit");return}if(!["image/jpeg","image/png","image/jpg"].includes(L.type)){y("Only JPG and PNG images are allowed");return}b(L);const j=new FileReader;j.onload=()=>{m(j.result)},j.readAsDataURL(L)}else b(null),m((r==null?void 0:r.image)||null)},N=async E=>{try{await n(E,S||void 0),u(),e()}catch(L){console.error("Error submitting vehicle:",L)}};return t?c.jsx("div",{className:"modal-overlay",onClick:E=>E.target===E.currentTarget&&!i&&e(),children:c.jsxs("div",{className:`modal-content ${i?"submitting":""}`,children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:s(r?"fleetDialog.editVehicle":"fleetDialog.addVehicle")}),c.jsx("button",{className:"close-button",onClick:e,disabled:i,children:c.jsx(al,{size:20})})]}),c.jsxs("form",{onSubmit:o(N),children:[c.jsxs("div",{className:"modal-body",children:[i&&c.jsx("div",{className:"form-overlay",children:c.jsxs("div",{className:"form-loading",children:[c.jsx(dA,{size:30,className:"spinner-icon"}),c.jsx("p",{children:"Processing your request..."})]})}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"name",children:s("fleetDialog.name")}),c.jsx("input",{type:"text",id:"name",className:`form-input ${l.name?"error":""}`,disabled:i,placeholder:s("fleetDialog.vehicleName"),...a("name",{required:"Vehicle name is required",minLength:{value:2,message:"Name must be at least 2 characters"},maxLength:{value:50,message:"Name must not exceed 50 characters"}})}),l.name&&c.jsx("span",{className:"error-message",children:l.name.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"year",children:s("fleetDialog.year")}),c.jsx("input",{type:"number",id:"year",className:`form-input ${l.year?"error":""}`,disabled:i,...a("year",{required:"Year is required",min:{value:1900,message:"Year must be 1900 or later"},max:{value:h,message:`Year must not exceed ${h}`},valueAsNumber:!0})}),l.year&&c.jsx("span",{className:"error-message",children:l.year.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"plateNumber",children:s("fleetDialog.plateNumber")}),c.jsx("input",{type:"text",id:"plateNumber",className:`form-input ${l.plateNumber?"error":""}`,disabled:i,...a("plateNumber",{required:"License plate is required",pattern:{value:/^[A-Z0-9]+$/,message:"Please enter a valid license plate number"}})}),l.plateNumber&&c.jsx("span",{className:"error-message",children:l.plateNumber.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"status",children:s("fleetDialog.status")}),c.jsxs("select",{id:"status",className:`form-select ${l.status?"error":""}`,disabled:i,...a("status",{required:"Status is required"}),children:[c.jsx("option",{value:"available",children:s("fleetDialog.available")}),c.jsx("option",{value:"booked",children:s("fleetDialog.booked")}),c.jsx("option",{value:"maintenance",children:s("fleetDialog.maintenance")}),c.jsx("option",{value:"LLD",children:s("fleetDialog.LLD")})]}),l.status&&c.jsx("span",{className:"error-message",children:l.status.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"fuelType",children:s("fleetDialog.fuelType")}),c.jsxs("select",{id:"fuelType",className:`form-select ${l.fuelType?"error":""}`,disabled:i,...a("fuelType",{required:"Fuel type is required"}),children:[c.jsx("option",{value:"gasoline",children:s("fleetDialog.gasoline")}),c.jsx("option",{value:"diesel",children:s("fleetDialog.diesel")}),c.jsx("option",{value:"electric",children:s("fleetDialog.electric")})]}),l.fuelType&&c.jsx("span",{className:"error-message",children:l.fuelType.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"transmission",children:s("fleetDialog.transmission")}),c.jsxs("select",{id:"transmission",className:`form-select ${l.transmission?"error":""}`,disabled:i,...a("transmission",{required:"Transmission type is required"}),children:[c.jsx("option",{value:"automatic",children:s("fleetDialog.automatic")}),c.jsx("option",{value:"manual",children:s("fleetDialog.manual")})]}),l.transmission&&c.jsx("span",{className:"error-message",children:l.transmission.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"rate",children:s("fleetDialog.rate")}),c.jsx("input",{type:"number",id:"rate",step:"0.01",min:"0",className:`form-input ${l.rate?"error":""}`,disabled:i,...a("rate",{required:"Rate is required",min:{value:0,message:"Rate must be a positive number"},valueAsNumber:!0})}),l.rate&&c.jsx("span",{className:"error-message",children:l.rate.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"kilometrage",children:s("fleetDialog.kilometrage")}),c.jsx("input",{type:"number",id:"kilometrage",step:"1",min:"0",className:`form-input ${l.kilometrage?"error":""}`,disabled:i,...a("kilometrage",{min:{value:0,message:"Kilometrage must be a positive number"},valueAsNumber:!0})}),l.kilometrage&&c.jsx("span",{className:"error-message",children:l.kilometrage.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"nextVidange",children:s("fleetDialog.nextOilChange")}),c.jsx("input",{type:"date",id:"nextVidange",className:`form-input ${l.nextVidange?"error":""}`,disabled:i,...a("nextVidange")}),l.nextVidange&&c.jsx("span",{className:"error-message",children:l.nextVidange.message})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{className:"form-label",children:s("fleetDialog.image")}),c.jsxs("div",{className:`image-upload-container ${k?"has-error":""}`,children:[c.jsx("input",{type:"file",id:"image",accept:"image/png, image/jpeg, image/jpg",className:"file-input",disabled:i,onChange:x}),c.jsx("div",{className:"file-upload-label",children:g?c.jsx("div",{className:"image-preview",children:c.jsx("img",{src:g,alt:"Vehicle preview"})}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"upload-icon",children:"+"}),c.jsx("span",{children:s("fleetDialog.dropImage")})]})})]}),k&&c.jsx("span",{className:"error-message",children:k})]})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:i,children:s("fleetDialog.cancel")}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:s(i?"fleetDialog.saving":"fleetDialog.save")})]})]})]})}):null},Xn=[];for(let t=0;t<256;++t)Xn.push((t+256).toString(16).slice(1));function ID(t,e=0){return(Xn[t[e+0]]+Xn[t[e+1]]+Xn[t[e+2]]+Xn[t[e+3]]+"-"+Xn[t[e+4]]+Xn[t[e+5]]+"-"+Xn[t[e+6]]+Xn[t[e+7]]+"-"+Xn[t[e+8]]+Xn[t[e+9]]+"-"+Xn[t[e+10]]+Xn[t[e+11]]+Xn[t[e+12]]+Xn[t[e+13]]+Xn[t[e+14]]+Xn[t[e+15]]).toLowerCase()}let h0;const RD=new Uint8Array(16);function MD(){if(!h0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h0=crypto.getRandomValues.bind(crypto)}return h0(RD)}const BD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yw={randomUUID:BD};function vy(t,e,n){var i;if(Yw.randomUUID&&!e&&!t)return Yw.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??MD();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ID(r)}const zD=()=>{const{t}=In(),[e,n]=ce.useState("grid"),[r,i]=ce.useState(!1),[s,a]=ce.useState(!1),[o,l]=ce.useState(),[u,f]=ce.useState(""),[h,g]=ce.useState(!1),{user:m}=yr(),[S,b]=ce.useState({status:{available:!0,booked:!0,maintenance:!0,LLD:!0},brand:""}),{data:k=[],isLoading:y,error:x,refetch:N}=On({queryKey:["vehicles"],queryFn:async()=>{try{if(console.log("Fetching vehicles data..."),!await Jc())return console.error("Authentication failed, cannot fetch vehicles"),_e.error("Authentication error. Please try refreshing the page or login again."),[];const{data:X,error:H}=await Je.from("vehicles").select("*").order("created_at",{ascending:!1});if(H){if(console.error("Supabase query error:",H),H.code==="PGRST301"||H.message.includes("JWT"))return _e.error("Session expired. Please refresh the page."),[];throw _e.error("Failed to load vehicles"),H}return!X||X.length===0?(console.log("No vehicles found in the database"),[]):(console.log("Fetched vehicles:",X),X.map(R=>{try{const ee=R.year?parseInt(R.year):R.model?parseInt(R.model):new Date().getFullYear();return{id:R.id||`temp-${Math.random().toString(36).substr(2,9)}`,name:`${R.brand||"Unknown"} ${R.model||""}`.trim(),brand:R.brand||"Unknown",year:isNaN(ee)?new Date().getFullYear():ee,plateNumber:R.plate_number||"No plate",status:R.status||"available",fuelType:R.fuel_type||"gasoline",transmission:R.transmission||"automatic",rate:R.price||0,userId:R.user_id,image:R.car_img||"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800",kilometrage:R.kilometrage?Number(R.kilometrage):void 0,nextVidange:R.next_vidange||void 0}}catch(ee){return console.error("Error processing vehicle:",ee,R),{id:R.id||`error-${Math.random().toString(36).substr(2,9)}`,name:"Error Processing Vehicle",brand:"Unknown",year:new Date().getFullYear(),plateNumber:"Error",status:"available",fuelType:"unknown",transmission:"unknown",rate:0,image:"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800",kilometrage:void 0,nextVidange:void 0}}}))}catch(T){throw console.error("Error in vehicle query:",T),_e.error("Failed to load vehicles"),T}},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),E=Ce.useMemo(()=>{if(y||!k)return console.log("Vehicles data is loading or undefined, skipping filter"),[];if(k.length===0)return console.log("No vehicles to filter"),[];try{const T=k.filter(X=>{if(!X)return!1;const H=!u||X.name&&X.name.toLowerCase().includes(u.toLowerCase())||X.plateNumber&&X.plateNumber.toLowerCase().includes(u.toLowerCase())||X.brand&&X.brand.toLowerCase().includes(u.toLowerCase()),R=!X.status||S.status[X.status]||!1,ee=!S.brand||X.brand&&X.brand===S.brand||!1;return H&&R&&ee});return console.log("Filtered vehicles count:",T.length),T}catch(T){return console.error("Error filtering vehicles:",T),k}},[k,u,S,y]);ce.useEffect(()=>{(k==null?void 0:k.length)>0&&E.length===0&&(console.log("Warning: All vehicles are being filtered out. Filter state:",JSON.stringify(S),"Search term:",u),(u||S.brand||!S.status.available||!S.status.booked||!S.status.maintenance||!S.status.LLD)&&(console.log("Auto-clearing filters to show all vehicles"),f(""),b({status:{available:!0,booked:!0,maintenance:!0,LLD:!0},brand:""}),_e.info("Filters have been reset to show all vehicles")))},[k,E,S,u]),Ce.useEffect(()=>{if(k&&k.length>0){const T=k.filter(X=>!X||!X.id||!X.name||!X.brand);T.length>0&&console.warn(`Found ${T.length} vehicles with missing fields:`,T)}},[k]),Ce.useEffect(()=>{!y&&k&&k.length===0&&(console.log("Empty vehicles array detected when not loading, might be auth issue"),(async()=>await Jc()?(console.log("Authentication renewed, retrying vehicle fetch"),setTimeout(()=>{N()},1e3)):console.error("Failed to authenticate after retry"))())},[k,y,N]),ce.useEffect(()=>{x&&(console.error("Error fetching vehicles:",x),_e.error("Failed to load vehicles. Please try again later."))},[x]);const L=Ce.useMemo(()=>{if(!k||!k.length)return[];const T=new Set;return k.forEach(X=>{X.brand&&T.add(X.brand)}),Array.from(T).sort()},[k]),K=async T=>{try{g(!0);const X=_e.loading("Uploading image..."),H=T.name.split(".").pop(),ee=`vehicles/${`${vy()}.${H}`}`,{error:fe}=await Je.storage.from("fleet").upload(ee,T);if(fe)throw _e.dismiss(X),_e.error(`Failed to upload image: ${fe.message}`),fe;const{data:A}=Je.storage.from("fleet").getPublicUrl(ee);return _e.dismiss(X),_e.success("Image uploaded successfully"),A.publicUrl}catch(X){throw console.error("Image upload error:",X),_e.error("Failed to upload image. Please try again."),X}finally{g(!1)}},{mutate:V,isPending:j}=_i({mutationFn:async T=>{const{formData:X,imageFile:H}=T;try{const R=_e.loading(o?"Updating vehicle...":"Adding new vehicle..."),ee=await Zo();if(!ee)throw _e.dismiss(R),_e.error("You must be logged in to add or edit vehicles"),new Error("User not authenticated");let fe;H&&(fe=await K(H));const A=X.name.split(" ")[0],B={brand:A,model:X.name.replace(A,"").trim(),plate_number:X.plateNumber,status:X.status,fuel_type:X.fuelType,transmission:X.transmission,price:X.rate,year:X.year.toString(),user_id:ee.id};if(X.kilometrage!==void 0&&(B.kilometrage=X.kilometrage),X.nextVidange&&(B.next_vidange=X.nextVidange),fe&&(B.car_img=fe),console.log("Saving vehicle data:",B),o){const{error:Y}=await Je.from("vehicles").update(B).eq("id",o.id);if(Y)throw _e.dismiss(R),_e.error(`Failed to update vehicle: ${Y.message}`),Y;return _e.dismiss(R),_e.success("Vehicle updated successfully"),{success:!0,updated:!0}}else{const{error:Y,data:ne}=await Je.from("vehicles").insert(B).select();if(console.log("Insert result:",{error:Y,data:ne}),Y)throw _e.dismiss(R),_e.error(`Failed to add vehicle: ${Y.message}`),Y;return _e.dismiss(R),_e.success("Vehicle added successfully"),{success:!0,inserted:!0,data:ne}}}catch(R){console.error("Error saving vehicle:",R);const ee=R instanceof Error?R.message:"An error occurred while saving the vehicle";throw _e.error(ee),R}},onSuccess:T=>{console.log("Vehicle saved successfully, refetching data...",T),N(),a(!1),l(void 0)},onError:T=>{console.error("Mutation error:",T)}}),$=async(T,X)=>{V({formData:T,imageFile:X})},J=T=>{if(!_n(m)&&(m==null?void 0:m.id)!==T.userId){_e.error("You don't have permission to edit this vehicle");return}l(T),a(!0)},C=()=>{l(void 0),a(!1)},F=T=>{b(X=>({...X,status:{...X.status,[T]:!X.status[T]}}))},G=T=>{b(X=>({...X,brand:T.target.value}))},z=()=>{b({status:{available:!0,booked:!0,maintenance:!0,LLD:!0},brand:""})},q=()=>{N()};return x?c.jsxs("div",{className:"error-container",children:[c.jsx("h2",{children:"Error Loading Vehicles"}),c.jsx("p",{children:"There was a problem loading the vehicle data. Please try again later."}),c.jsx("button",{className:"btn btn-primary",onClick:()=>N(),children:"Retry"})]}):c.jsxs("div",{className:"fleet-page",children:[c.jsxs("div",{className:"fleet-header",children:[c.jsx("h1",{children:t("fleet.fleetManagement")}),c.jsxs("div",{className:"fleet-actions",children:[c.jsx("button",{className:"btn btn-secondary mr-2",onClick:q,children:t("fleet.refresh")}),c.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),children:[c.jsx(ru,{size:16}),c.jsx("span",{children:t("fleet.addVehicle")})]})]})]}),c.jsxs("div",{className:"fleet-toolbar",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:t("fleet.searchVehicles"),className:"search-input",value:u,onChange:T=>f(T.target.value)})]}),c.jsxs("div",{className:"toolbar-actions",children:[c.jsxs("button",{className:`filter-button ${r?"active":""}`,onClick:()=>i(!r),children:[c.jsx(Kv,{size:16}),c.jsx("span",{children:t("fleet.filters")})]}),c.jsxs("div",{className:"view-toggle",children:[c.jsx("button",{className:`view-toggle-btn ${e==="grid"?"active":""}`,onClick:()=>n("grid"),"aria-label":"Grid view",children:c.jsx(aA,{size:16})}),c.jsx("button",{className:`view-toggle-btn ${e==="list"?"active":""}`,onClick:()=>n("list"),"aria-label":"List view",children:c.jsx(uA,{size:16})})]})]})]}),r&&c.jsxs("div",{className:"filter-panel",children:[c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{className:"filter-label",children:t("fleet.status")}),c.jsxs("div",{className:"filter-options",children:[c.jsxs("label",{className:"filter-checkbox",children:[c.jsx("input",{type:"checkbox",checked:S.status.available,onChange:()=>F("available")}),c.jsx("span",{children:t("fleet.available")})]}),c.jsxs("label",{className:"filter-checkbox",children:[c.jsx("input",{type:"checkbox",checked:S.status.booked,onChange:()=>F("booked")}),c.jsx("span",{children:t("fleet.booked")})]}),c.jsxs("label",{className:"filter-checkbox",children:[c.jsx("input",{type:"checkbox",checked:S.status.maintenance,onChange:()=>F("maintenance")}),c.jsx("span",{children:t("fleet.maintenance")})]}),c.jsxs("label",{className:"filter-checkbox",children:[c.jsx("input",{type:"checkbox",checked:S.status.LLD,onChange:()=>F("LLD")}),c.jsx("span",{children:t("fleet.LLD")})]})]})]}),c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{className:"filter-label",children:t("fleet.brand")}),c.jsxs("select",{className:"form-input",value:S.brand,onChange:G,children:[c.jsx("option",{value:"",children:t("fleet.allBrands")}),L.map(T=>c.jsx("option",{value:T,children:T},T))]})]}),c.jsx("div",{className:"filter-buttons",children:c.jsx("button",{className:"btn btn-secondary",onClick:z,children:t("fleet.clear")})})]}),y?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:t("fleet.loadingVehicles")})]}):E.length===0?c.jsxs("div",{className:"no-results",children:[c.jsx("p",{children:t("fleet.noVehiclesFound")}),c.jsx("p",{className:"no-results-sub",children:k.length===0?t("fleet.noVehiclesInDb"):t("fleet.adjustFilters")})]}):e==="grid"?c.jsx("div",{className:"vehicle-grid",children:E.map(T=>c.jsxs("div",{className:"vehicle-card",children:[c.jsxs("div",{className:"vehicle-image",children:[c.jsx("img",{src:T.image,alt:T.name}),c.jsx("div",{className:`vehicle-status ${T.status||"unknown"}`,children:T.status?T.status.charAt(0).toUpperCase()+T.status.slice(1):"Unknown"})]}),c.jsxs("div",{className:"vehicle-info",children:[c.jsx("h3",{className:"vehicle-name",children:T.name}),c.jsxs("div",{className:"vehicle-meta",children:[c.jsx("span",{className:"vehicle-year",children:T.year}),c.jsx("span",{className:"separator",children:"•"}),c.jsx("span",{className:"vehicle-plate",children:T.plateNumber})]}),c.jsxs("div",{className:"vehicle-specs",children:[c.jsxs("div",{className:"vehicle-spec",children:[c.jsx(Gc,{size:16}),c.jsx("span",{children:T.transmission})]}),c.jsxs("div",{className:"vehicle-spec",children:[c.jsx(Yv,{size:16}),c.jsx("span",{children:T.fuelType})]})]}),c.jsxs("div",{className:"vehicle-specs",children:[c.jsxs("div",{className:"vehicle-spec",children:[c.jsx("span",{children:"Km:"}),c.jsx("span",{children:T.kilometrage?`${T.kilometrage} ${t("fleet.km")}`:t("fleet.NA")})]}),c.jsxs("div",{className:"vehicle-spec",children:[c.jsxs("span",{children:[t("fleet.nextService"),":"]}),c.jsx("span",{children:T.nextVidange?new Date(T.nextVidange).toLocaleDateString():t("fleet.NA")})]})]}),c.jsxs("div",{className:"vehicle-footer",children:[c.jsxs("div",{className:"vehicle-rate",children:[c.jsxs("span",{className:"rate-value",children:["$",T.rate]}),c.jsxs("span",{className:"rate-period",children:["/",t("fleet.day")]})]}),c.jsxs("div",{className:"vehicle-actions",children:[c.jsx("button",{className:"vehicle-action-btn",children:c.jsx(ih,{size:16})}),c.jsx("button",{className:"vehicle-action-btn",onClick:()=>J(T),children:c.jsx(Qv,{size:16})})]})]})]})]},T.id))}):c.jsx("div",{className:"vehicle-list-container",children:c.jsxs("table",{className:"vehicle-list-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:t("fleet.image")}),c.jsx("th",{children:t("fleet.vehicle")}),c.jsx("th",{children:t("fleet.year")}),c.jsx("th",{children:t("fleet.plateNumber")}),c.jsx("th",{children:t("fleet.status")}),c.jsx("th",{children:t("fleet.kilometrage")}),c.jsx("th",{children:t("fleet.nextOilChange")}),c.jsx("th",{children:t("fleet.fuelType")}),c.jsx("th",{children:t("fleet.transmission")}),c.jsx("th",{children:t("fleet.rate")}),c.jsx("th",{children:t("fleet.actions")})]})}),c.jsx("tbody",{children:E.map(T=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{className:"vehicle-list-image",children:c.jsx("img",{src:T.image,alt:T.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"vehicle-list-name",children:[c.jsx("span",{className:"brand",children:T.brand}),c.jsx("span",{className:"model",children:T.name})]})}),c.jsx("td",{children:T.year}),c.jsx("td",{children:T.plateNumber}),c.jsx("td",{children:c.jsx("span",{className:`vehicle-status-badge ${T.status||"unknown"}`,children:T.status?T.status.charAt(0).toUpperCase()+T.status.slice(1):"Unknown"})}),c.jsx("td",{children:T.kilometrage?`${T.kilometrage} ${t("fleet.km")}`:t("fleet.NA")}),c.jsx("td",{children:T.nextVidange?new Date(T.nextVidange).toLocaleDateString():t("fleet.NA")}),c.jsx("td",{children:T.fuelType}),c.jsx("td",{children:T.transmission}),c.jsxs("td",{children:["$",T.rate,"/",t("fleet.day")]}),c.jsx("td",{children:c.jsxs("div",{className:"vehicle-list-actions",children:[c.jsx("button",{className:"action-btn view",children:t("fleet.view")}),c.jsx("button",{className:"action-btn edit",onClick:()=>J(T),children:t("fleet.edit")})]})})]},T.id))})]})}),c.jsx(OD,{isOpen:s,onClose:C,onSubmit:$,vehicle:o,isSubmitting:j||h})]})},UD=({isOpen:t,onClose:e,onSubmit:n,client:r,isSubmitting:i})=>{const{t:s}=In(),{register:a,handleSubmit:o,formState:{errors:l},reset:u,setValue:f}=uh({defaultValues:r||{paymentMethod:"cash"}});Ce.useEffect(()=>{r?Object.entries(r).forEach(([g,m])=>{g!=="id"&&f(g,m)}):u({paymentMethod:"cash"})},[r,f,u]);const h=async g=>{try{await n(g),u(),e()}catch(m){console.error("Error submitting client:",m)}};return t?c.jsx("div",{className:"modal-overlay",onClick:g=>g.target===g.currentTarget&&e(),children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:s(r?"clientDialog.editClient":"clientDialog.addClient")}),c.jsx("button",{className:"close-button",onClick:e,children:c.jsx(al,{size:20})})]}),c.jsxs("form",{onSubmit:o(h),children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"fullName",children:s("clientDialog.fullName")}),c.jsx("input",{type:"text",id:"fullName",className:"form-input",...a("fullName",{required:"Full name is required"})}),l.fullName&&c.jsx("span",{className:"error-message",children:l.fullName.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"phone",children:s("clientDialog.phone")}),c.jsx("input",{type:"tel",id:"phone",className:"form-input",...a("phone",{required:"Phone number is required"})}),l.phone&&c.jsx("span",{className:"error-message",children:l.phone.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:s("clientDialog.email")}),c.jsx("input",{type:"email",id:"email",className:"form-input",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),l.email&&c.jsx("span",{className:"error-message",children:l.email.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"idCardNumber",children:s("clientDialog.idCardNumber")}),c.jsx("input",{type:"text",id:"idCardNumber",className:"form-input",...a("idCardNumber",{required:"ID card number is required"})}),l.idCardNumber&&c.jsx("span",{className:"error-message",children:l.idCardNumber.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"paymentMethod",children:s("clientDialog.paymentMethod")}),c.jsxs("select",{id:"paymentMethod",className:"form-select",...a("paymentMethod",{required:"Payment method is required"}),children:[c.jsx("option",{value:"cash",children:s("clientDialog.cash")}),c.jsx("option",{value:"card",children:s("clientDialog.card")}),c.jsx("option",{value:"site",children:s("clientDialog.site")})]}),l.paymentMethod&&c.jsx("span",{className:"error-message",children:l.paymentMethod.message})]})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:s("clientDialog.cancel")}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:s(i?"clientDialog.saving":"clientDialog.save")})]})]})]})}):null},qD=()=>{const{t}=In(),[e,n]=ce.useState(!1),[r,i]=ce.useState(),[s,a]=ce.useState(""),[o,l]=ce.useState("all"),u=Ns(),{user:f}=yr(),{data:h=[],isLoading:g}=On({queryKey:["clients"],queryFn:async()=>{try{if(console.log("Fetching clients data..."),!await Jc())return console.error("Authentication failed, cannot fetch clients"),_e.error("Authentication error. Please try refreshing the page or login again."),[];const{data:E,error:L}=await Je.from("clients").select("*");if(console.log({data:E,error:L}),L){if(L.code==="PGRST301"||L.message.includes("JWT"))return _e.error("Session expired. Please refresh the page."),[];throw L}if(!E||E.length===0)return console.log("No clients found in database"),[];const{data:K,error:V}=await Je.from("bookings").select("*");return V&&console.error("Error fetching bookings:",V),E.map(j=>{try{const $=(K==null?void 0:K.filter(J=>J.client_id===j.id))||[];return{id:j.id||`unknown-${Math.random().toString(36).substr(2,9)}`,fullName:`${j.first_name||""} ${j.last_name||""}`.trim()||"Unknown Client",email:j.email||"",phone:j.phone||"",idCardNumber:j.id_card_number||"",paymentMethod:j.payment_method||"cash",avatar:j.avatar_url||"",bookings:$.length,spent:$.reduce((J,C)=>J+(Number(C.amount)||0),0),status:j.status||"active",userId:j.user_id}}catch($){return console.error("Error processing client:",$,j),{id:j.id||`error-${Math.random().toString(36).substr(2,9)}`,fullName:"Error Processing Client",email:"",phone:"",idCardNumber:"",paymentMethod:"cash",avatar:"",bookings:0,spent:0,status:"inactive",userId:null}}})}catch(N){return console.error("Error fetching clients:",N),_e.error("Failed to load clients"),[]}},staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:3,retryDelay:N=>Math.min(1e3*2**N,1e4)}),{mutate:m,isPending:S}=_i({mutationFn:async N=>{try{const E=N.fullName.split(" "),L=E.pop()||"",K=E.join(" "),V={first_name:K,last_name:L,email:N.email||`${K.toLowerCase()}.${L.toLowerCase()}@placeholder.com`},j={...V,phone:N.phone,id_card_number:N.idCardNumber,payment_method:N.paymentMethod,status:"active",user_id:f==null?void 0:f.id};if(console.log("clientData to submit:",j),r){console.log("Updating client:",r.id);const{data:$,error:J}=await Je.from("clients").update(j).eq("id",r.id).select("*").single();if(console.log("Update result:",{data:$,error:J}),J)throw console.error("Error updating client:",J),J;return console.log("Client updated successfully"),$}else{console.log("Creating new client with data:",j);const $=await Je.from("clients").insert(V);if(console.log("Simple insert result:",$),$.error)throw console.error("Simple insert error:",$.error),$.error;const{data:J}=await Je.from("clients").select("id").eq("first_name",K).eq("last_name",L).eq("email",V.email);if(J&&J.length>0){const C=J[0].id;console.log("Found new client ID:",C);const{data:F,error:G}=await Je.from("clients").update(j).eq("id",C).select("*").single();if(G)console.error("Error updating new client:",G);else return console.log("Client fully updated:",F),F;const{data:z}=await Je.from("clients").select("*").eq("id",C).single();return z}return{id:"new",first_name:K,last_name:L,email:V.email}}}catch(E){throw console.error("Unexpected error in saveClient:",E),E}},onSuccess:N=>{console.log("Client saved successfully:",N),u.invalidateQueries({queryKey:["clients"]}),n(!1)},onError:N=>{console.error("Error saving client:",N),alert(`Failed to save client: ${N instanceof Error?N.message:"Unknown error"}`)}}),b=async N=>{try{console.log("handleAddClient called with:",N),m(N)}catch(E){console.error("Error in handleAddClient:",E)}},k=N=>{if(!_n(f)&&(f==null?void 0:f.id)!==N.userId){_e.error("You don't have permission to edit this client");return}i(N),n(!0)},y=()=>{i(void 0),n(!1)};console.log({clients:h});const x=Ce.useMemo(()=>{if(!h||h.length===0)return console.log("No clients data available for filtering"),[];try{return h.filter(N=>{if(!N)return console.log("Skipping null/undefined client"),!1;const E=N.fullName||"",L=N.email||"",K=N.phone||"",V=N.status||"active";return(!s||E.toLowerCase().includes(s.toLowerCase())||L.toLowerCase().includes(s.toLowerCase())||K.includes(s))&&(o==="all"||V===o)})}catch(N){return console.error("Error filtering clients:",N),h}},[h,s,o]);return console.log({filteredClients:x}),Ce.useEffect(()=>{if(h&&h.length>0){const N=h.filter(E=>!E||!E.id||E.fullName==="Unknown Client");N.length>0&&console.warn(`Found ${N.length} problematic clients:`,N),h.length>0&&(!x||x.length===0)&&(console.warn("Filtering issue detected: Have clients but filteredClients is empty.",{clients:h,searchTerm:s,statusFilter:o}),(s||o!=="all")&&(console.log("Auto-clearing filters to show all clients"),a(""),l("all"),_e.info("Filters have been reset to show all clients",{duration:3e3})))}},[h,x,s,o]),Ce.useEffect(()=>{!g&&h&&h.length===0&&(console.log("Empty clients array detected when not loading, might be auth issue"),(async()=>await Jc()?(console.log("Authentication renewed, retrying clients fetch"),setTimeout(()=>{u.invalidateQueries({queryKey:["clients"]})},1e3)):console.error("Failed to authenticate after retry"))())},[h,g,u]),c.jsxs("div",{className:"clients-page",children:[c.jsxs("div",{className:"clients-header",children:[c.jsx("h1",{children:t("clients.clientManagement")}),c.jsx("div",{className:"clients-actions",children:c.jsxs("button",{className:"btn btn-primary",onClick:()=>n(!0),children:[c.jsx(ru,{size:16}),c.jsx("span",{children:t("clients.addClient")})]})})]}),c.jsxs("div",{className:"clients-toolbar",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:t("clients.searchClients"),className:"search-input",value:s,onChange:N=>a(N.target.value)})]}),c.jsx("div",{className:"clients-filters",children:c.jsxs("select",{className:"status-filter",value:o,onChange:N=>l(N.target.value),children:[c.jsx("option",{value:"all",children:t("clients.allStatus")}),c.jsx("option",{value:"active",children:t("clients.active")}),c.jsx("option",{value:"inactive",children:t("clients.inactive")})]})})]}),g?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:t("clients.loadingClients")})]}):x.length===0?c.jsxs("div",{className:"no-results",children:[c.jsx("p",{children:t("clients.noClientsFound")}),c.jsx("p",{className:"no-results-sub",children:h.length===0?t("clients.noClientsInDb"):t("clients.adjustFilters")})]}):c.jsx("div",{className:"clients-grid",children:x.map(N=>c.jsxs("div",{className:`client-card ${N.status==="inactive"?"inactive":""}`,children:[c.jsxs("div",{className:"client-header",children:[c.jsx("div",{className:"client-avatar",children:N.avatar?c.jsx("img",{src:N.avatar,alt:N.fullName}):c.jsx("div",{className:"avatar-placeholder",children:N.fullName&&N.fullName.charAt(0)||"?"})}),c.jsxs("div",{className:"client-name-info",children:[c.jsx("h3",{className:"client-name",children:N.fullName||t("clients.unknown")}),c.jsx("span",{className:`client-status ${N.status||"unknown"}`,children:N.status&&N.status.charAt(0).toUpperCase()+N.status.slice(1)||t("clients.unknown")})]})]}),c.jsxs("div",{className:"client-stats",children:[c.jsxs("div",{className:"client-stat-item",children:[c.jsx("span",{className:"stat-label",children:t("clients.bookings")}),c.jsx("span",{className:"stat-value",children:N.bookings||0})]}),c.jsxs("div",{className:"client-stat-item",children:[c.jsx("span",{className:"stat-label",children:t("clients.totalSpent")}),c.jsxs("span",{className:"stat-value",children:["$",N.spent||0]})]})]}),c.jsxs("div",{className:"client-contact",children:[c.jsxs("div",{className:"contact-item",children:[c.jsx(Gv,{size:16}),c.jsx("span",{children:N.email||t("clients.noEmail")})]}),c.jsxs("div",{className:"contact-item",children:[c.jsx(gA,{size:16}),c.jsx("span",{children:N.phone||t("clients.noPhone")})]}),c.jsxs("div",{className:"contact-item",children:[c.jsx(hA,{size:16}),c.jsxs("span",{children:[t("clients.id"),":"," ",N.idCardNumber||t("clients.notAvailable")]})]})]}),c.jsxs("div",{className:"client-actions",children:[c.jsx("button",{className:"client-action-btn view",children:t("clients.viewProfile")}),(_n(f)||(f==null?void 0:f.id)===N.userId)&&c.jsx("button",{className:"client-action-btn edit",onClick:()=>k(N),children:t("clients.edit")})]})]},N.id))}),c.jsx(UD,{isOpen:e,onClose:y,onSubmit:b,client:r,isSubmitting:S})]})},$D=["agent","commerçant"],OS=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:r})=>{const{t:i}=In(),{register:s,handleSubmit:a,formState:{errors:o},reset:l}=uh();Ce.useEffect(()=>{t||l()},[t,l]);const u=async f=>{try{await n(f),l()}catch(h){console.error("Error submitting agent:",h)}};return t?c.jsx("div",{className:"modal-overlay",onClick:f=>f.target===f.currentTarget&&e(),children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:i("agentDialog.addAgent")}),c.jsx("button",{className:"close-button",onClick:e,children:c.jsx(al,{size:20})})]}),c.jsxs("form",{onSubmit:a(u),children:[c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"firstName",children:i("agentDialog.firstName")}),c.jsx("input",{id:"firstName",className:"form-input",...s("firstName",{required:"First name is required"})}),o.firstName&&c.jsx("span",{className:"error-message",children:o.firstName.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"lastName",children:i("agentDialog.lastName")}),c.jsx("input",{id:"lastName",className:"form-input",...s("lastName",{required:"Last name is required"})}),o.lastName&&c.jsx("span",{className:"error-message",children:o.lastName.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:i("agentDialog.email")}),c.jsx("input",{type:"email",id:"email",className:"form-input",...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),o.email&&c.jsx("span",{className:"error-message",children:o.email.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"role",children:i("agentDialog.role")}),c.jsxs("select",{id:"role",className:"form-select",...s("role",{required:"Please select a role"}),children:[c.jsx("option",{value:"",children:"Select a role"}),$D.map(f=>c.jsx("option",{value:f,children:f.charAt(0).toUpperCase()+f.slice(1)},f))]}),o.role&&c.jsx("span",{className:"error-message",children:o.role.message})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:i("agentDialog.cancel")}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,children:i(r?"agentDialog.saving":"agentDialog.save")})]})]})]})}):null},VD=()=>{const{t}=In(),e=Ns(),[n,r]=ce.useState(!1),[i,s]=ce.useState({start:T1(new Date),end:Rp(new Date)}),[a,o]=ce.useState("performanceScore"),[l,u]=ce.useState("desc"),{data:f=[],isLoading:h,error:g}=On({queryKey:["agent-commissions",i],queryFn:async()=>{const L=vt(i.start,"yyyy-MM-dd"),K=vt(i.end,"yyyy-MM-dd"),{data:V,error:j}=await Je.from("agents").select("id, first_name, last_name");if(j)throw j;const{data:$,error:J}=await Je.from("bookings").select("id, agent_id, amount, commission_amount, created_at").gte("created_at",L).lte("created_at",K);if(J)throw J;let C=V.map(F=>{const G=$.filter(X=>X.agent_id===F.id),z=G.reduce((X,H)=>X+H.amount,0),q=G.reduce((X,H)=>X+(H.commission_amount||0),0),T=z*.6+G.length*1e3*.3+q*.1;return{id:F.id,name:`${F.first_name} ${F.last_name}`,reservationCount:G.length,totalSales:z,commission:q,rank:0,performanceScore:T}});return C.sort((F,G)=>G.performanceScore-F.performanceScore),C=C.map((F,G)=>({...F,rank:G+1})),C}}),{mutate:m,isPending:S}=_i({mutationFn:async L=>{const{data:K,error:V}=await Je.from("agents").select("id").eq("first_name",L.firstName).eq("last_name",L.lastName).single();if(V)throw V;const j=.08,$=1e3,J=$*j,{error:C}=await Je.from("bookings").insert({agent_id:K.id,amount:$,commission_amount:J,commission_rate:j,start_date:vt(new Date,"yyyy-MM-dd"),end_date:vt(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd"),status:"pending",payment_status:"pending"});if(C)throw C;return{success:!0}},onSuccess:()=>{_e.success("Agent sale added successfully"),r(!1),e.invalidateQueries({queryKey:["agent-commissions"]})},onError:L=>{_e.error(`Failed to add agent sale: ${L instanceof Error?L.message:"Unknown error"}`)}}),b=L=>{m(L)},k=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(L),y=L=>new Intl.NumberFormat("en-US").format(L),x=L=>{L===a?u(l==="asc"?"desc":"asc"):(o(L),u("desc"))},N=Ce.useMemo(()=>f.length?[...f].sort((L,K)=>{const V=L[a],j=K[a];return l==="asc"?V>j?1:-1:V<j?1:-1}):[],[f,a,l]),E=L=>L===1?c.jsx(qg,{size:18,className:"medal gold"}):L===2?c.jsx(qg,{size:18,className:"medal silver"}):L===3?c.jsx(qg,{size:18,className:"medal bronze"}):null;return c.jsxs("div",{className:"agent-commissions",children:[c.jsxs("div",{className:"commissions-header",children:[c.jsxs("div",{className:"header-title",children:[c.jsx("h1",{children:t("commissions.agentCommissions")}),c.jsxs("span",{className:"last-updated",children:[t("commissions.lastUpdated"),":"," ",vt(new Date,"MMM d, yyyy HH:mm")]})]}),c.jsxs("div",{className:"header-actions",children:[c.jsxs("div",{className:"date-filter",children:[c.jsx(ih,{size:16}),c.jsx("input",{type:"date",value:vt(i.start,"yyyy-MM-dd"),onChange:L=>s(K=>({...K,start:new Date(L.target.value)}))}),c.jsx("span",{children:t("commissions.to")}),c.jsx("input",{type:"date",value:vt(i.end,"yyyy-MM-dd"),onChange:L=>s(K=>({...K,end:new Date(L.target.value)}))})]}),c.jsxs("button",{className:"btn btn-secondary",children:[c.jsx(sh,{size:16}),c.jsx("span",{children:t("commissions.export")})]})]})]}),g&&c.jsx("div",{className:"error-message",children:g instanceof Error?g.message:"An error occurred"}),c.jsx("div",{className:"commissions-table-container",children:c.jsxs("table",{className:"commissions-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:t("commissions.rank")}),c.jsx("th",{children:t("commissions.agentName")}),c.jsx("th",{onClick:()=>x("reservationCount"),className:"sortable-header",children:c.jsxs("div",{className:"header-content",children:[t("commissions.reservations"),a==="reservationCount"&&(l==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>x("totalSales"),className:"sortable-header",children:c.jsxs("div",{className:"header-content",children:[t("commissions.totalSales"),a==="totalSales"&&(l==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>x("commission"),className:"sortable-header",children:c.jsxs("div",{className:"header-content",children:[t("commissions.commission"),a==="commission"&&(l==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>x("performanceScore"),className:"sortable-header",children:c.jsxs("div",{className:"header-content",children:[t("commissions.performance"),a==="performanceScore"&&(l==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})})]})}),c.jsx("tbody",{children:h?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"loading-state",children:t("commissions.loadingCommissions")})}):N.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"empty-state",children:t("commissions.noCommissionData")})}):N.map(L=>c.jsxs("tr",{className:L.rank<=3?`rank-${L.rank}`:"",children:[c.jsx("td",{children:c.jsxs("div",{className:"rank-display",children:[E(L.rank),c.jsxs("span",{children:["#",L.rank]})]})}),c.jsx("td",{children:L.name}),c.jsx("td",{children:y(L.reservationCount)}),c.jsx("td",{children:k(L.totalSales)}),c.jsx("td",{children:k(L.commission)}),c.jsx("td",{children:c.jsxs("div",{className:"performance-indicator",children:[c.jsx(W3,{size:16}),c.jsx("span",{children:Math.round(L.performanceScore/100)/10})]})})]},L.id))})]})}),c.jsx(OS,{isOpen:n,onClose:()=>r(!1),onSubmit:b,isSubmitting:S})]})},HD=({isOpen:t,onClose:e,onSubmit:n,document:r,isSubmitting:i})=>{const{t:s}=In(),[a,o]=ce.useState({name:"",type:"policy",vehicle_id:"",client_id:"",status:"pending",signed:!1,repair_cost:void 0,payment_amount:void 0,balance_due:void 0}),[l,u]=ce.useState([]),[f,h]=ce.useState([]),{data:g=[],isLoading:m,error:S}=On({queryKey:["vehicles-for-insurance"],queryFn:async()=>{console.log("Fetching vehicles for insurance form");const{data:j,error:$}=await Je.from("vehicles").select("id, brand, model, plate_number, status");if($)throw console.error("Error fetching vehicles:",$),_e.error(`Failed to load vehicles: ${$.message}`),$;return j||[]},enabled:t,staleTime:60*1e3,retry:2}),{data:b=[],isLoading:k,error:y}=On({queryKey:["clients-for-insurance"],queryFn:async()=>{console.log("Fetching clients for insurance form");const{data:j,error:$}=await Je.from("clients").select("id, first_name, last_name, email");if($)throw console.error("Error fetching clients:",$),_e.error(`Failed to load clients: ${$.message}`),$;return j||[]},enabled:t,staleTime:60*1e3,retry:2});ce.useEffect(()=>{S&&console.error("Error loading vehicles:",S),y&&console.error("Error loading clients:",y)},[S,y]),ce.useEffect(()=>{r?o({name:r.name,type:r.type,description:r.description,vehicle_id:r.vehicle_id,client_id:r.client_id,expires_at:r.expires_at,status:r.status,signed:r.signed,repair_cost:r.repair_cost,payment_amount:r.payment_amount,balance_due:r.balance_due,policy_number:r.policy_number}):(o({name:"",type:"policy",vehicle_id:"",client_id:"",status:"pending",signed:!1}),u([]),h([]))},[r]);const x=j=>{const{name:$,value:J}=j.target;if($==="repair_cost"||$==="payment_amount"){const C=J===""?void 0:parseFloat(J);let F;if($==="repair_cost"){const G=a.payment_amount||0;F=J===""?void 0:parseFloat(J)-G}else if($==="payment_amount"){const G=a.repair_cost||0;F=J===""?void 0:G-parseFloat(J)}o({...a,[$]:C,balance_due:F})}else o({...a,[$]:J})},N=j=>{const{name:$,checked:J}=j.target;o({...a,[$]:J})},E=j=>{if(j.target.files){const $=Array.from(j.target.files);u(C=>[...C,...$]);const J=$.map(C=>URL.createObjectURL(C));h(C=>[...C,...J])}},L=j=>{URL.revokeObjectURL(f[j]),u($=>$.filter((J,C)=>C!==j)),h($=>$.filter((J,C)=>C!==j))},K=j=>{j.preventDefault(),n(a,l.length>0?l:void 0)};if(!t)return null;const V=m||k;return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container insurance-modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:s(r?"insurance.editDocument":"insurance.addDocument")}),c.jsx("button",{className:"modal-close",onClick:e,children:c.jsx(al,{size:20})})]}),V?c.jsxs("div",{className:"loading-indicator",style:{padding:"2rem"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:s("insurance.loadingFormData")})]}):c.jsxs("form",{onSubmit:K,className:"insurance-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:s("insurance.documentName")}),c.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:x,placeholder:s("insurance.enterDocumentName"),className:"form-input",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"type",children:s("insurance.documentType")}),c.jsxs("select",{id:"type",name:"type",value:a.type,onChange:x,className:"form-select",required:!0,children:[c.jsx("option",{value:"policy",children:s("insurance.policy")}),c.jsx("option",{value:"claim",children:s("insurance.claim")}),c.jsx("option",{value:"invoice",children:s("insurance.invoice")}),c.jsx("option",{value:"other",children:s("insurance.other")})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"description",children:s("insurance.description")}),c.jsx("textarea",{id:"description",name:"description",value:a.description||"",onChange:x,placeholder:s("insurance.enterDescription"),className:"form-textarea"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"client_id",children:s("insurance.client")}),c.jsxs("select",{id:"client_id",name:"client_id",value:a.client_id,onChange:x,className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:s("insurance.selectClient")}),b.map(j=>c.jsx("option",{value:j.id,children:`${j.first_name} ${j.last_name}`},j.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"vehicle_id",children:s("insurance.vehicle")}),c.jsxs("select",{id:"vehicle_id",name:"vehicle_id",value:a.vehicle_id,onChange:x,className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:s("insurance.selectVehicle")}),g.map(j=>c.jsx("option",{value:j.id,children:`${j.brand} ${j.model} (${j.plate_number})`},j.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"expires_at",children:s("insurance.expiryDate")}),c.jsx("input",{type:"date",id:"expires_at",name:"expires_at",value:a.expires_at||"",onChange:x,className:"form-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"status",children:s("insurance.status")}),c.jsxs("select",{id:"status",name:"status",value:a.status,onChange:x,className:"form-select",required:!0,children:[c.jsx("option",{value:"active",children:s("insurance.active")}),c.jsx("option",{value:"pending",children:s("insurance.pending")}),c.jsx("option",{value:"expired",children:s("insurance.expired")}),c.jsx("option",{value:"cancelled",children:s("insurance.cancelled")})]})]}),c.jsx("div",{className:"form-group checkbox-group",children:c.jsxs("label",{htmlFor:"signed",children:[c.jsx("input",{type:"checkbox",id:"signed",name:"signed",checked:a.signed,onChange:N,className:"form-checkbox"}),s("insurance.signed")]})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"policy_number",children:s("insurance.policyNumber")}),c.jsx("input",{type:"text",id:"policy_number",name:"policy_number",value:a.policy_number||"",onChange:x,placeholder:s("insurance.enterPolicyNumber"),className:"form-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"repair_cost",children:s("insurance.repairCost")}),c.jsx("input",{type:"number",id:"repair_cost",name:"repair_cost",value:a.repair_cost||"",onChange:x,placeholder:"0.00",className:"form-input",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"payment_amount",children:s("insurance.paymentAmount")}),c.jsx("input",{type:"number",id:"payment_amount",name:"payment_amount",value:a.payment_amount||"",onChange:x,placeholder:"0.00",className:"form-input",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"balance_due",children:s("insurance.balanceDue")}),c.jsx("input",{type:"number",id:"balance_due",name:"balance_due",value:a.balance_due||"",onChange:x,placeholder:"0.00",className:"form-input",readOnly:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:s("insurance.images")}),c.jsxs("div",{className:"file-upload-container",children:[c.jsx("input",{type:"file",id:"document-images",multiple:!0,accept:"image/*",onChange:E,className:"file-input",disabled:i}),c.jsxs("label",{htmlFor:"document-images",className:"file-upload-label",children:[c.jsx(K3,{size:20}),c.jsx("span",{children:s("insurance.uploadImages")})]}),c.jsx("div",{className:"upload-hint",children:s("insurance.dropImages")})]}),f.length>0&&c.jsx("div",{className:"image-previews",children:f.map((j,$)=>c.jsxs("div",{className:"image-preview-item",children:[c.jsx("img",{src:j,alt:`Preview ${$+1}`}),c.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>L($),children:c.jsx(V3,{size:16})})]},$))})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:i,children:s("insurance.cancel")}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:s(i?"insurance.saving":"insurance.save")})]})]})]})})},WD=()=>{const{t}=In(),[e,n]=ce.useState(!1),[r,i]=ce.useState(),[s,a]=ce.useState(""),[o,l]=ce.useState("all"),[u,f]=ce.useState("all"),[h,g]=ce.useState(!1),m=Ns(),{user:S}=yr(),{data:b=[],isLoading:k,error:y,refetch:x}=On({queryKey:["insurance-documents"],queryFn:async()=>{const R=_e.loading("Loading insurance documents...");try{console.log("Fetching insurance documents...");const{data:ee,error:fe}=await Je.from("insurance_documents").select(`
            id,
            name,
            type,
            description,
            vehicle_id,
            client_id,
            created_at,
            expires_at,
            status,
            signed,
            repair_cost,
            payment_amount,
            balance_due,
            policy_number,
            images,
            document_url,
            user_id,
            vehicles:vehicle_id (
              id, 
              brand, 
              model, 
              plate_number, 
              status
            ),
            clients:client_id (
              id, 
              first_name,
              last_name, 
              email
            )
          `).order("created_at",{ascending:!1});if(fe)throw console.error("Error fetching insurance documents:",fe),_e.dismiss(R),_e.error(`Failed to load insurance documents: ${fe.message}`),fe;return _e.dismiss(R),!ee||ee.length===0?(console.log("No insurance documents found"),[]):(console.log("Fetched insurance documents:",ee),console.log("First document sample:",ee[0]),ee.map(A=>{const B=A,Y=B.vehicles;console.log("Vehicle info:",Y);const ne=B.clients;return console.log("Client info:",ne),{id:B.id,name:B.name,type:B.type,description:B.description,vehicle_id:B.vehicle_id,vehicle_name:Y?`${Y.brand} ${Y.model} (${Y.plate_number})`:"Unknown",client_id:B.client_id,client_name:ne?`${ne.first_name} ${ne.last_name}`:"Unknown",created_at:B.created_at,expires_at:B.expires_at,status:B.status,signed:B.signed,repair_cost:B.repair_cost,payment_amount:B.payment_amount,balance_due:B.balance_due,policy_number:B.policy_number,images:B.images||[],document_url:B.document_url,user_id:B.user_id}}))}catch(ee){throw console.error("Error in queryFn:",ee),_e.dismiss(R),ee}},staleTime:60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!0,retry:2}),N=async R=>{try{g(!0);const ee=_e.loading("Uploading images..."),fe=R.map(async B=>{const Y=B.name.split(".").pop(),re=`insurance/${`${vy()}.${Y}`}`,{error:de}=await Je.storage.from("insurance").upload(re,B);if(de)throw console.error("Error uploading image:",de),de;const{data:me}=Je.storage.from("insurance").getPublicUrl(re);return me.publicUrl}),A=await Promise.all(fe);return _e.dismiss(ee),_e.success(`Successfully uploaded ${R.length} images`),A}catch(ee){throw console.error("Image upload error:",ee),_e.error("Failed to upload one or more images. Please try again."),ee}finally{g(!1)}},{mutate:E,isPending:L}=_i({mutationFn:async R=>{const{formData:ee,imageFiles:fe}=R;try{const A=_e.loading(r?"Updating document...":"Adding new document..."),B=await Zo();if(!B)throw _e.dismiss(A),_e.error("You must be logged in to add or edit documents"),new Error("User not authenticated");let Y=[];if(fe&&fe.length>0)try{Y=await N(fe),console.log("Uploaded image URLs:",Y)}catch(de){throw console.error("Failed to upload images:",de),_e.dismiss(A),_e.error("Failed to upload images. Document not saved."),de}const ne={name:ee.name,type:ee.type,description:ee.description,vehicle_id:ee.vehicle_id,client_id:ee.client_id,status:ee.status,signed:ee.signed,repair_cost:ee.repair_cost,payment_amount:ee.payment_amount,balance_due:ee.balance_due,policy_number:ee.policy_number,user_id:B.id};console.log("Document data being saved:",ne),ee.expires_at&&(ne.expires_at=ee.expires_at),Y.length>0&&(r?ne.images=[...r.images||[],...Y]:ne.images=Y);let re;if(r){console.log("Updating document with ID:",r.id);const{error:de,data:me}=await Je.from("insurance_documents").update(ne).eq("id",r.id).select();if(de)throw console.error("Error updating document:",de),_e.dismiss(A),_e.error(`Failed to update document: ${de.message}`),de;console.log("Document updated successfully:",me),re={success:!0,updated:!0,data:me}}else{console.log("Creating new document");const{error:de,data:me}=await Je.from("insurance_documents").insert(ne).select();if(console.log("Insert result:",{error:de,data:me}),de)throw console.error("Error creating document:",de),_e.dismiss(A),_e.error(`Failed to add document: ${de.message}`),de;console.log("Document added successfully:",me),re={success:!0,inserted:!0,data:me}}return _e.dismiss(A),_e.success(r?"Document updated successfully":"Document added successfully"),re}catch(A){console.error("Error saving document:",A);const B=A instanceof Error?A.message:"Failed to save document";throw _e.error(`Error: ${B}`),A}},onSuccess:R=>{console.log("Operation successful, invalidating queries",R),m.invalidateQueries({queryKey:["insurance-documents"]}),m.invalidateQueries({queryKey:["vehicles-for-insurance"]}),m.invalidateQueries({queryKey:["clients-for-insurance"]}),C()},onError:R=>{console.error("Mutation error:",R)}}),{mutate:K,isPending:V}=_i({mutationFn:async R=>{try{const ee=_e.loading("Deleting document..."),{error:fe}=await Je.from("insurance_documents").delete().eq("id",R);if(fe)throw _e.dismiss(ee),_e.error(`Failed to delete document: ${fe.message}`),fe;return _e.dismiss(ee),_e.success("Document deleted successfully"),{success:!0}}catch(ee){console.error("Error deleting document:",ee);const fe=ee instanceof Error?ee.message:"Failed to delete document";throw _e.error(`Error: ${fe}`),ee}},onSuccess:()=>{m.invalidateQueries({queryKey:["insurance-documents"]})}}),j=()=>{i(void 0),n(!0)},$=R=>{if(!_n(S)&&(S==null?void 0:S.id)!==R.user_id){_e.error("You don't have permission to edit this document");return}i(R),n(!0)},J=(R,ee)=>{if(!_n(S)&&(S==null?void 0:S.id)!==ee){_e.error("You don't have permission to delete this document");return}window.confirm("Are you sure you want to delete this document?")&&K(R)},C=()=>{i(void 0),n(!1)},F=(R,ee)=>{E({formData:R,imageFiles:ee})},G=()=>{x()},z=Ce.useMemo(()=>b.filter(R=>{const ee=!s||R.name.toLowerCase().includes(s.toLowerCase())||(R.description||"").toLowerCase().includes(s.toLowerCase())||(R.policy_number||"").toLowerCase().includes(s.toLowerCase())||(R.client_name||"").toLowerCase().includes(s.toLowerCase())||(R.vehicle_name||"").toLowerCase().includes(s.toLowerCase()),fe=o==="all"||R.type===o,A=u==="all"||R.status===u;return ee&&fe&&A}),[b,s,o,u]),q=R=>R?new Date(R).toLocaleDateString():"N/A",T=Ce.useMemo(()=>{let R=0,ee=0,fe=0;return b.forEach(A=>{R+=A.repair_cost||0,ee+=A.payment_amount||0,fe+=A.balance_due||0}),{totalRepairCost:R,totalPaymentAmount:ee,totalBalanceDue:fe}},[b]),X=R=>{R.document_url?window.open(R.document_url,"_blank"):_e.error("No document available for download")},H=R=>{R.images&&R.images.length>0?window.open(R.images[0],"_blank"):_e.error("No images available for this document")};return ce.useEffect(()=>{y&&(console.error("Error fetching documents:",y),_e.error("Failed to load documents. Please try again later."))},[y]),c.jsxs("div",{className:"insurance-page",children:[c.jsxs("div",{className:"insurance-header",children:[c.jsx("h1",{children:t("insurance.insuranceManagement")}),c.jsxs("div",{className:"insurance-actions",children:[c.jsx("button",{className:"btn btn-secondary mr-2",onClick:G,children:t("insurance.refresh")}),c.jsxs("button",{className:"btn btn-primary",onClick:j,children:[c.jsx(ru,{size:16}),c.jsx("span",{children:t("insurance.createDocument")})]})]})]}),c.jsxs("div",{className:"financial-summary",children:[c.jsxs("div",{className:"summary-card",children:[c.jsx("h3",{children:t("insurance.totalRepairCosts")}),c.jsxs("p",{className:"amount",children:["$",T.totalRepairCost.toFixed(2)]})]}),c.jsxs("div",{className:"summary-card",children:[c.jsx("h3",{children:t("insurance.totalPayments")}),c.jsxs("p",{className:"amount",children:["$",T.totalPaymentAmount.toFixed(2)]})]}),c.jsxs("div",{className:"summary-card",children:[c.jsx("h3",{children:t("insurance.totalBalanceDue")}),c.jsxs("p",{className:"amount",children:["$",T.totalBalanceDue.toFixed(2)]})]})]}),c.jsxs("div",{className:"insurance-content",children:[c.jsxs("div",{className:"documents-toolbar",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:t("insurance.searchDocuments"),className:"search-input",value:s,onChange:R=>a(R.target.value)})]}),c.jsxs("div",{className:"document-filters",children:[c.jsxs("select",{className:"document-filter",value:o,onChange:R=>l(R.target.value),children:[c.jsx("option",{value:"all",children:t("insurance.allTypes")}),c.jsx("option",{value:"policy",children:t("insurance.policy")}),c.jsx("option",{value:"claim",children:t("insurance.claim")}),c.jsx("option",{value:"invoice",children:t("insurance.invoice")}),c.jsx("option",{value:"other",children:t("insurance.other")})]}),c.jsxs("select",{className:"document-filter",value:u,onChange:R=>f(R.target.value),children:[c.jsx("option",{value:"all",children:t("insurance.allStatus")}),c.jsx("option",{value:"active",children:t("insurance.active")}),c.jsx("option",{value:"pending",children:t("insurance.pending")}),c.jsx("option",{value:"expired",children:t("insurance.expired")}),c.jsx("option",{value:"cancelled",children:t("insurance.cancelled")})]})]})]}),k?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:t("insurance.loadingDocuments")})]}):y?c.jsxs("div",{className:"no-results",children:[c.jsx("p",{children:t("insurance.errorLoadingDocuments")}),c.jsx("p",{className:"no-results-sub",children:`${y instanceof Error?y.message:"An unknown error occurred"}`}),c.jsx("button",{className:"btn btn-primary mt-4",onClick:()=>x(),children:t("insurance.tryAgain")})]}):z.length===0?c.jsxs("div",{className:"no-results",children:[c.jsx("p",{children:t("insurance.noDocumentsFound")}),c.jsx("p",{className:"no-results-sub",children:b.length===0?t("insurance.noDocumentsInDb"):t("insurance.adjustFilters")})]}):c.jsx("div",{className:"documents-table-container",children:c.jsxs("table",{className:"documents-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:t("insurance.document")}),c.jsx("th",{children:t("insurance.type")}),c.jsx("th",{children:t("insurance.client")}),c.jsx("th",{children:t("insurance.vehicle")}),c.jsx("th",{children:t("insurance.created")}),c.jsx("th",{children:t("insurance.expires")}),c.jsx("th",{children:t("insurance.status")}),c.jsx("th",{children:t("insurance.signed")}),c.jsx("th",{children:t("insurance.repairCost")}),c.jsx("th",{children:t("insurance.payment")}),c.jsx("th",{children:t("insurance.balance")}),c.jsx("th",{children:t("insurance.actions")})]})}),c.jsx("tbody",{children:z.map(R=>c.jsxs("tr",{children:[c.jsxs("td",{className:"document-name",children:[c.jsx(hm,{size:16,className:`document-icon ${R.type}`}),c.jsx("span",{children:R.name})]}),c.jsx("td",{children:c.jsx("span",{className:"document-type",children:R.type.charAt(0).toUpperCase()+R.type.slice(1)})}),c.jsx("td",{children:c.jsx("span",{className:"client-name",children:R.client_name})}),c.jsx("td",{children:c.jsx("span",{className:"vehicle-name",children:R.vehicle_name})}),c.jsx("td",{children:q(R.created_at)}),c.jsx("td",{children:q(R.expires_at)}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${R.status}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})}),c.jsx("td",{children:R.signed?c.jsxs("span",{className:"signed-status signed",children:[c.jsx(z3,{size:16}),c.jsx("span",{children:t("insurance.signed")})]}):c.jsx("span",{className:"signed-status unsigned",children:c.jsx("span",{children:t("insurance.unsigned")})})}),c.jsxs("td",{children:["$",R.repair_cost?R.repair_cost.toFixed(2):"0.00"]}),c.jsxs("td",{children:["$",R.payment_amount?R.payment_amount.toFixed(2):"0.00"]}),c.jsxs("td",{children:["$",R.balance_due?R.balance_due.toFixed(2):"0.00"]}),c.jsx("td",{children:c.jsxs("div",{className:"document-actions",children:[R.document_url&&c.jsx("button",{className:"action-icon-btn",onClick:()=>X(R),title:"Download document",children:c.jsx(sh,{size:16})}),R.images&&R.images.length>0&&c.jsx("button",{className:"action-icon-btn",onClick:()=>H(R),title:"View images",children:c.jsx(eA,{size:16})}),(_n(S)||(S==null?void 0:S.id)===R.user_id)&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"action-icon-btn",onClick:()=>$(R),title:"Edit document",children:c.jsx(K3,{size:16})}),c.jsx("button",{className:"action-icon-btn danger",onClick:()=>J(R.id,R.user_id),title:"Delete document",children:c.jsx(V3,{size:16})})]})]})})]},R.id))})]})})]}),c.jsx(HD,{isOpen:e,onClose:C,onSubmit:F,document:r,isSubmitting:L||h||V})]})},KD=["agent","commercant"],GD=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:r,agent:i})=>{const{t:s}=In(),{register:a,handleSubmit:o,formState:{errors:l},reset:u}=uh({defaultValues:{firstName:i.first_name,lastName:i.last_name,email:i.email,role:i.role}});ce.useEffect(()=>{t&&i&&u({firstName:i.first_name,lastName:i.last_name,email:i.email,role:i.role})},[t,i,u]);const f=async h=>{try{await n(h)}catch(g){console.error("Error updating agent:",g)}};return t?c.jsx("div",{className:"modal-overlay",onClick:h=>h.target===h.currentTarget&&e(),children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:s("agentDialog.editAgent")}),c.jsx("button",{className:"close-button",onClick:e,children:c.jsx(al,{size:20})})]}),c.jsxs("form",{onSubmit:o(f),children:[c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"firstName",children:s("agentDialog.firstName")}),c.jsx("input",{id:"firstName",className:"form-input",...a("firstName",{required:"First name is required"})}),l.firstName&&c.jsx("span",{className:"error-message",children:l.firstName.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"lastName",children:s("agentDialog.lastName")}),c.jsx("input",{id:"lastName",className:"form-input",...a("lastName",{required:"Last name is required"})}),l.lastName&&c.jsx("span",{className:"error-message",children:l.lastName.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:s("agentDialog.email")}),c.jsx("input",{type:"email",id:"email",className:"form-input",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),l.email&&c.jsx("span",{className:"error-message",children:l.email.message})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"role",children:s("agentDialog.role")}),c.jsxs("select",{id:"role",className:"form-select",...a("role",{required:"Please select a role"}),children:[c.jsx("option",{value:"",children:"Select a role"}),KD.map(h=>c.jsx("option",{value:h,children:h.charAt(0).toUpperCase()+h.slice(1)},h))]}),l.role&&c.jsx("span",{className:"error-message",children:l.role.message})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:s("agentDialog.cancel")}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,children:s(r?"agentDialog.saving":"agentDialog.save")})]})]})]})}):null},YD=()=>{const{t}=In(),e=Ns(),[n,r]=ce.useState(!1),[i,s]=ce.useState(!1),[a,o]=ce.useState(null),[l,u]=ce.useState(""),{user:f}=yr(),{data:h=[],error:g}=On({queryKey:["agents"],queryFn:async()=>{try{if(!await Jc())return console.error("Authentication failed, cannot fetch agents"),_e.error("Authentication error. Please try refreshing the page or login again."),[];const{data:K,error:V}=await Je.from("agents").select("*").order("created_at",{ascending:!1});if(V){if(V.code==="PGRST301"||V.message.includes("JWT"))return _e.error("Session expired. Please refresh the page."),[];throw V}return(K||[]).map(j=>({id:j.id||`unknown-${Math.random().toString(36).substr(2,9)}`,first_name:j.first_name||"",last_name:j.last_name||"",email:j.email||"",role:j.role||"",user_id:j.user_id||"",created_at:j.created_at}))}catch(L){throw console.error("Error fetching agents:",L),_e.error("Failed to load agents"),L}},retry:3,retryDelay:L=>Math.min(1e3*2**L,1e4),staleTime:5*60*1e3});Ce.useEffect(()=>{h&&h.length===0&&(console.log("Empty agents array detected, might be auth issue"),(async()=>await Jc()?(console.log("Authentication renewed, retrying agents fetch"),setTimeout(()=>{e.invalidateQueries({queryKey:["agents"]})},1e3)):console.error("Failed to authenticate after retry"))())},[h,e]);const m=Ce.useMemo(()=>!h||h.length===0?[]:h.filter(L=>!L||!L.first_name||!L.last_name||!L.email||!L.role?!1:L.first_name.toLowerCase().includes(l.toLowerCase())||L.last_name.toLowerCase().includes(l.toLowerCase())||L.email.toLowerCase().includes(l.toLowerCase())||L.role.toLowerCase().includes(l.toLowerCase())),[h,l]);Ce.useEffect(()=>{if(h&&h.length>0){const L=h.filter(K=>!K.first_name||!K.last_name||!K.email||!K.role);L.length>0&&console.warn(`Found ${L.length} agents with missing fields:`,L),h.length>0&&m.length===0&&l&&(console.warn("Filtering issue detected: Have agents but filteredAgents is empty.",{agentsCount:h.length,searchQuery:l}),console.log("Auto-clearing search to show all agents"),u(""),_e.info("Search has been cleared to show all agents",{duration:3e3}))}},[h,m,l]);const S=_i({mutationFn:async L=>{const{error:K,data:V}=await Je.from("agents").insert({first_name:L.firstName,last_name:L.lastName,email:L.email,role:L.role,user_id:f==null?void 0:f.id});if(console.log({error:K,data:V}),K)throw K;return V},onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]}),r(!1),_e.success("Agent added successfully")},onError:L=>{_e.error(`Failed to add agent: ${L instanceof Error?L.message:"Unknown error"}`)}}),b=_i({mutationFn:async({id:L,agent:K})=>{const{error:V}=await Je.from("agents").update({first_name:K.firstName,last_name:K.lastName,email:K.email,role:K.role}).eq("id",L);if(V)throw V},onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]}),s(!1),o(null),_e.success("Agent updated successfully")},onError:L=>{_e.error(`Failed to update agent: ${L instanceof Error?L.message:"Unknown error"}`)}}),k=_i({mutationFn:async L=>{const{error:K}=await Je.from("agents").delete().eq("id",L);if(K)throw K},onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]}),_e.success("Agent deleted successfully")},onError:L=>{_e.error(`Failed to delete agent: ${L instanceof Error?L.message:"Unknown error"}`)}}),y=L=>{S.mutate(L)},x=L=>{a&&b.mutate({id:a.id,agent:L})},N=L=>{confirm(t("agents.confirmDelete"))&&k.mutate(L)},E=L=>{o(L),s(!0)};return Ce.useEffect(()=>{g&&_e.error(`Failed to load agents: ${g instanceof Error?g.message:"Unknown error"}`)},[g]),console.log({agents:h}),console.log({filteredAgents:m}),c.jsxs("div",{className:"agents-page",children:[c.jsxs("div",{className:"agents-header",children:[c.jsx("h1",{children:t("agents.agentsManagement")}),c.jsxs("div",{className:"header-actions",children:[c.jsxs("button",{className:"btn btn-primary",onClick:()=>r(!0),children:[c.jsx(ru,{size:16}),c.jsx("span",{children:t("agents.addAgent")})]}),c.jsxs("button",{className:"btn btn-secondary",children:[c.jsx(sh,{size:16}),c.jsx("span",{children:t("agents.export")})]})]})]}),c.jsx("div",{className:"agents-toolbar",children:c.jsxs("div",{className:"search-box",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:t("agents.searchAgents"),className:"search-input",value:l,onChange:L=>u(L.target.value)})]})}),c.jsx("div",{className:"agents-table-container",children:c.jsxs("table",{className:"agents-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:t("agents.agent")}),c.jsx("th",{children:t("agents.email")}),c.jsx("th",{children:t("agents.role")}),c.jsx("th",{children:t("agents.createdAt")}),c.jsx("th",{children:t("agents.actions")})]})}),c.jsxs("tbody",{children:[m.map(L=>c.jsxs("tr",{children:[c.jsxs("td",{className:"agent-name",children:[c.jsx(Yc,{size:16,className:"agent-icon"}),c.jsx("span",{children:`${L.first_name||t("agents.unknown")} ${L.last_name||""}`})]}),c.jsx("td",{children:c.jsxs("span",{className:"agent-email",children:[c.jsx(Gv,{size:14,className:"email-icon"}),L.email||t("agents.noEmail")]})}),c.jsx("td",{children:c.jsx("span",{className:"agent-role",children:L.role||t("agents.noRole")})}),c.jsx("td",{children:L.created_at?new Date(L.created_at).toLocaleDateString():"N/A"}),c.jsx("td",{children:c.jsxs("div",{className:"agent-actions",children:[c.jsx("button",{className:"action-btn edit",onClick:()=>E(L),children:t("agents.edit")}),c.jsx("button",{className:"action-btn delete",onClick:()=>N(L.id),children:t("agents.delete")})]})})]},L.id)),m.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"no-results",children:t("agents.noAgentsFound")})})]})]})}),c.jsx(OS,{isOpen:n,onClose:()=>r(!1),onSubmit:y,isSubmitting:S.isPending}),a&&c.jsx(GD,{isOpen:i,onClose:()=>{s(!1),o(null)},onSubmit:x,isSubmitting:b.isPending,agent:a})]})},QD=()=>{var E,L;const{t}=In(),{theme:e,toggleTheme:n}=T4(),[r,i]=ce.useState("account"),[s,a]=ce.useState(!1),[o,l]=ce.useState(null),[u,f]=ce.useState(null),h=Ns(),g=[{id:"account",label:t("settings.accountSettings"),icon:c.jsx(Yc,{size:20})},{id:"security",label:t("settings.securitySettings"),icon:c.jsx(U3,{size:20})},{id:"notifications",label:t("settings.notificationSettings"),icon:c.jsx(Ep,{size:20})},{id:"appearance",label:t("settings.appearanceSettings"),icon:c.jsx(mA,{size:20})},{id:"region",label:t("settings.regionSettings"),icon:c.jsx(sA,{size:20})},{id:"privacy",label:t("settings.privacySettings"),icon:c.jsx(vA,{size:20})}],{data:m,isLoading:S}=On({queryKey:["userProfile"],queryFn:async()=>{const K=await Zo();if(!K)throw _e.error("You must be logged in to view settings"),new Error("User not authenticated");const{data:V,error:j}=await Je.from("profiles").select("*").eq("id",K.id).single();if(j)throw _e.error("Failed to load profile"),j;return V}}),{mutate:b,isPending:k}=_i({mutationFn:async K=>{const V=await Zo();if(!V)throw _e.error("You must be logged in to update settings"),new Error("User not authenticated");const j=_e.loading("Updating profile...");try{let $=K.avatar_url;if(o){a(!0);const C=o.name.split(".").pop(),G=`avatars/${`${vy()}.${C}`}`,{error:z}=await Je.storage.from("avatars").upload(G,o);if(z)throw _e.dismiss(j),_e.error(`Failed to upload avatar: ${z.message}`),z;const{data:q}=Je.storage.from("avatars").getPublicUrl(G);$=q.publicUrl,a(!1)}const{error:J}=await Je.from("profiles").update({...K,avatar_url:$}).eq("id",V.id);if(J)throw _e.dismiss(j),_e.error(`Failed to update profile: ${J.message}`),J;return _e.dismiss(j),_e.success("Profile updated successfully"),{...K,avatar_url:$}}catch($){throw console.error("Error updating profile:",$),a(!1),$}},onSuccess:()=>{h.invalidateQueries({queryKey:["userProfile"]})}});ce.useEffect(()=>{m!=null&&m.avatar_url&&f(m.avatar_url)},[m]);const y=K=>{var $;const V=($=K.target.files)==null?void 0:$[0];if(!V)return;l(V);const j=new FileReader;j.onloadend=()=>{f(j.result)},j.readAsDataURL(V)},x=K=>{K.preventDefault();const V=new FormData(K.currentTarget),j={name:V.get("name"),email:V.get("email"),phone:V.get("phone")};b(j)},N=()=>{f(null),l(null),b({avatar_url:""})};return c.jsxs("div",{className:"settings-page",children:[c.jsx("div",{className:"settings-header",children:c.jsx("h1",{children:t("settings.title")})}),c.jsxs("div",{className:"settings-container",children:[c.jsx("div",{className:"settings-sidebar",children:g.map(K=>c.jsxs("button",{className:`settings-nav-item ${r===K.id?"active":""}`,onClick:()=>i(K.id),children:[K.icon,c.jsx("span",{children:K.label})]},K.id))}),c.jsxs("div",{className:"settings-content",children:[r==="account"&&c.jsxs("div",{className:"settings-section",children:[c.jsx("h2",{className:"settings-section-title",children:t("settings.accountSettings")}),S?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:t("settings.loadingProfile")})]}):c.jsxs("form",{className:"form-container",onSubmit:x,children:[c.jsxs("div",{className:"profile-avatar-section",children:[c.jsxs("div",{className:"profile-avatar",children:[u?c.jsx("img",{src:u,alt:"Profile"}):c.jsx("div",{className:"avatar-placeholder",children:c.jsx(Yc,{size:40})}),s&&c.jsx("div",{className:"avatar-overlay",children:"Uploading..."})]}),c.jsxs("div",{className:"avatar-actions",children:[c.jsxs("label",{className:"btn btn-secondary",children:[c.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:y,disabled:s||k}),c.jsx(xA,{size:16,className:"icon-left"}),t("settings.uploadPhoto")]}),u&&c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:N,disabled:s||k,children:t("settings.remove")})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"name",children:t("settings.fullName")}),c.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",defaultValue:(m==null?void 0:m.name)||"",required:!0,disabled:k})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:t("settings.email")}),c.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",defaultValue:(m==null?void 0:m.email)||"",required:!0,disabled:k})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"phone",children:t("settings.phone")}),c.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-input",defaultValue:(m==null?void 0:m.phone)||"",disabled:k})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"btn",disabled:s||k,children:t(k?"settings.saving":"settings.saveChanges")}),c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h.invalidateQueries({queryKey:["userProfile"]}),disabled:s||k,children:t("settings.cancel")})]})]})]}),r==="appearance"&&c.jsxs("div",{className:"settings-section",children:[c.jsx("h2",{className:"settings-section-title",children:t("settings.appearanceSettings")}),c.jsxs("div",{className:"form-container",children:[c.jsxs("div",{className:"theme-selector",children:[c.jsx("h3",{children:t("settings.theme")}),c.jsxs("div",{className:"theme-options",children:[c.jsxs("div",{className:`theme-option ${e==="light"?"active":""}`,onClick:()=>e!=="light"&&n(),children:[c.jsxs("div",{className:"theme-preview light-theme",children:[c.jsx("div",{className:"preview-header"}),c.jsx("div",{className:"preview-sidebar"}),c.jsx("div",{className:"preview-content"})]}),c.jsx("span",{children:t("settings.light")}),e==="light"&&c.jsx("div",{className:"active-marker"})]}),c.jsxs("div",{className:`theme-option ${e==="dark"?"active":""}`,onClick:()=>e!=="dark"&&n(),children:[c.jsxs("div",{className:"theme-preview dark-theme",children:[c.jsx("div",{className:"preview-header"}),c.jsx("div",{className:"preview-sidebar"}),c.jsx("div",{className:"preview-content"})]}),c.jsx("span",{children:t("settings.dark")}),e==="dark"&&c.jsx("div",{className:"active-marker"})]})]})]}),c.jsxs("div",{className:"appearance-settings",children:[c.jsx("h3",{children:t("settings.interfaceDensity")}),c.jsxs("div",{className:"form-group",children:[c.jsxs("div",{className:"radio-option",children:[c.jsx("input",{type:"radio",name:"density",id:"density-comfortable",defaultChecked:!0}),c.jsx("label",{htmlFor:"density-comfortable",children:t("settings.comfortable")})]}),c.jsxs("div",{className:"radio-option",children:[c.jsx("input",{type:"radio",name:"density",id:"density-compact"}),c.jsx("label",{htmlFor:"density-compact",children:t("settings.compact")})]})]}),c.jsx("h3",{children:t("settings.fontSize")}),c.jsx("div",{className:"form-group",children:c.jsxs("select",{className:"form-input",children:[c.jsx("option",{value:"small",children:t("settings.small")}),c.jsx("option",{value:"medium",selected:!0,children:t("settings.medium")}),c.jsx("option",{value:"large",children:t("settings.large")})]})})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{className:"btn btn-primary",children:t("settings.saveChanges")}),c.jsx("button",{className:"btn btn-secondary",children:t("settings.resetToDefault")})]})]})]}),r!=="account"&&r!=="appearance"&&c.jsxs("div",{className:"settings-section",children:[c.jsx("h2",{className:"settings-section-title",children:(E=g.find(K=>K.id===r))==null?void 0:E.label}),c.jsx("p",{className:"settings-placeholder",children:t("settings.underDevelopment",{section:((L=g.find(K=>K.id===r))==null?void 0:L.label)||r})})]})]})]})]})},JD=()=>{const{t}=In(),[e,n]=ce.useState(""),[r,i]=ce.useState(""),[s,a]=ce.useState(!1),[o,l]=ce.useState(!1),[u,f]=ce.useState(""),[h,g]=ce.useState(!1),{login:m,isAuthenticated:S,isLoading:b}=yr(),k=um();ce.useEffect(()=>{S&&!b&&k("/")},[S,b,k]);const y=async x=>{if(x.preventDefault(),!(h||b)){if(!e||!r){f(t("login.enterBoth"));return}try{f(""),g(!0),await m(e,r)}catch(N){const E=N instanceof Error?N.message:t("login.invalidCredentials");f(E)}finally{g(!1)}}};return b&&!h?c.jsx("div",{className:"app-loading",children:t("common.loading")}):c.jsx("div",{className:"login-page",children:c.jsxs("div",{className:"login-container",children:[c.jsxs("div",{className:"login-branding",children:[c.jsxs("div",{className:"logo",children:[c.jsx(Gc,{size:32,className:"logo-icon"}),c.jsx("h1",{className:"logo-text",children:t("branding.appName")})]}),c.jsx("p",{className:"branding-tagline",children:t("branding.tagline")})]}),c.jsxs("div",{className:"login-form-container",children:[c.jsx("h2",{className:"login-heading",children:t("login.welcomeBack")}),c.jsx("p",{className:"login-subheading",children:t("login.loginSubheading")}),u&&c.jsx("div",{className:"error-message",children:u}),c.jsxs("form",{className:"login-form",onSubmit:y,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:t("login.email")}),c.jsxs("div",{className:"input-with-icon",children:[c.jsx(Gv,{size:18,className:"input-icon"}),c.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:t("login.emailPlaceholder"),value:e,onChange:x=>n(x.target.value)})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"password",children:t("login.password")}),c.jsxs("div",{className:"input-with-icon",children:[c.jsx(U3,{size:18,className:"input-icon"}),c.jsx("input",{type:s?"text":"password",id:"password",className:"form-input",placeholder:t("login.passwordPlaceholder"),value:r,onChange:x=>i(x.target.value)}),c.jsx("button",{type:"button",className:"password-toggle",onClick:()=>a(!s),"aria-label":s?"Hide password":"Show password",children:s?c.jsx(rA,{size:18}):c.jsx(iA,{size:18})})]})]}),c.jsxs("div",{className:"login-options",children:[c.jsxs("label",{className:"remember-me",children:[c.jsx("input",{type:"checkbox",checked:o,onChange:()=>l(!o)}),c.jsx("span",{children:t("login.rememberMe")})]}),c.jsx("a",{href:"#forgot-password",className:"forgot-password",children:t("login.forgotPassword")})]}),c.jsx("button",{type:"submit",className:`login-button ${h?"loading":""}`,disabled:h,children:t(h?"login.loggingIn":"login.loginButton")})]}),c.jsx("div",{className:"login-footer",children:c.jsxs("p",{children:[t("login.noAccount")," ",c.jsx("a",{href:"#contact-admin",children:t("login.contactAdmin")})]})})]})]})})},XD=()=>{const{t}=In(),e=Ns(),{user:n}=yr(),[r,i]=ce.useState(!1),[s,a]=ce.useState(),[o,l]=ce.useState(""),[u,f]=ce.useState(""),[h,g]=ce.useState("date"),[m,S]=ce.useState("desc");console.log("test first"),console.log({user:n},"1");const[b,k]=ce.useState({amount:0,description:"",date:vt(new Date,"yyyy-MM-dd"),category:"other",user_id:""}),y=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="commercial"||(n==null?void 0:n.role)==="agent",{data:x=[]}=On({queryKey:["agentUsers"],queryFn:async()=>{const{data:q,error:T}=await Je.from("profiles").select("id, name, job_title").in("job_title",["agent","commercial"]).order("name");if(T)throw _e.error("Failed to load users"),T;return q.map(X=>({id:X.id,name:X.name||"Unknown User",job_title:X.job_title||"unknown"}))},staleTime:5*60*1e3,enabled:!!n&&_n(n)}),{data:N=[],isLoading:E}=On({queryKey:["expenses"],queryFn:async()=>{let q=Je.from("expenses").select(`
          id,
          amount,
          description,
          date,
          category,
          user_id,
          created_at,
          profiles (id, name, job_title)
        `);!_n(n)&&(n!=null&&n.id)&&(q=q.eq("user_id",n.id));const{data:T,error:X}=await q.order("date",{ascending:!1});if(console.log({data:T,error:X}),X)throw _e.error("Failed to load expenses"),X;return T.map(H=>{const R=Array.isArray(H.profiles)?H.profiles[0]:H.profiles;return{id:H.id,amount:H.amount,description:H.description,date:H.date,category:H.category,user_id:H.user_id,user_name:(R==null?void 0:R.name)||"Unknown User",user_job_title:(R==null?void 0:R.job_title)||"unknown",created_at:H.created_at}})},staleTime:2*60*1e3,enabled:!!n}),{mutate:L,isPending:K}=_i({mutationFn:async q=>{const T=await Zo();if(!T)throw new Error("User not authenticated");let X=q.user_id;if(_n(T)||(X=T.id),!X)throw new Error("User ID is required");const H={amount:q.amount,description:q.description,date:q.date,category:q.category,user_id:X};if(s){const{error:R}=await Je.from("expenses").update(H).eq("id",s.id);if(R)throw R;_e.success("Expense updated successfully")}else{const{error:R}=await Je.from("expenses").insert(H);if(R)throw R;_e.success("Expense added successfully")}},onSuccess:()=>{e.invalidateQueries({queryKey:["expenses"]}),i(!1),a(void 0),k({amount:0,description:"",date:vt(new Date,"yyyy-MM-dd"),category:"other",user_id:""})},onError:q=>{_e.error(`Failed to save expense: ${q.message}`)}}),{mutate:V}=_i({mutationFn:async q=>{const{error:T}=await Je.from("expenses").delete().eq("id",q);if(T)throw T;_e.success("Expense deleted successfully")},onSuccess:()=>{e.invalidateQueries({queryKey:["expenses"]})},onError:q=>{_e.error(`Failed to delete expense: ${q.message}`)}}),j=Ce.useMemo(()=>N?[...N.filter(T=>{const X=!o||(()=>{const R=o.toLowerCase();return T.description.toLowerCase().includes(R)||T.user_name.toLowerCase().includes(R)||T.category.toLowerCase().includes(R)||T.amount.toString().includes(R)})(),H=!u||T.user_id===u;return X&&H})].sort((T,X)=>h==="amount"?m==="asc"?T[h]-X[h]:X[h]-T[h]:m==="asc"?String(T[h]).localeCompare(String(X[h])):String(X[h]).localeCompare(String(T[h]))):[],[N,o,u,h,m]);Ce.useEffect(()=>{!_n(n)&&n&&!b.user_id&&k(q=>({...q,user_id:n.id}))},[n,b.user_id]);const $=q=>{q.preventDefault();let T=b.user_id;if(!_n(n)&&n&&(T=n.id),!T&&_n(n)){_e.error("Please select a user");return}if(!b.description.trim()){_e.error("Please enter a description");return}if(b.amount<=0){_e.error("Please enter a valid amount");return}L({...b,user_id:T})},J=q=>{a(q),k({amount:q.amount,description:q.description,date:q.date,category:q.category,user_id:q.user_id}),i(!0)},C=q=>{window.confirm("Are you sure you want to delete this expense?")&&V(q)},F=q=>{q===h?S(m==="asc"?"desc":"asc"):(g(q),S("asc"))},G=j.reduce((q,T)=>q+T.amount,0),z=[{value:"fuel",label:"Fuel"},{value:"maintenance",label:"Maintenance"},{value:"insurance",label:"Insurance"},{value:"repairs",label:"Repairs"},{value:"office",label:"Office Supplies"},{value:"travel",label:"Travel"},{value:"other",label:"Other"}];return y?c.jsxs("div",{className:"expenses-page",children:[c.jsxs("div",{className:"expenses-header",children:[c.jsx("h1",{children:t("expenses.expenseManagement")}),c.jsx("div",{className:"expenses-actions",children:c.jsxs("button",{className:"btn btn-primary",onClick:()=>i(!0),children:[c.jsx(ru,{size:16}),c.jsx("span",{children:t("expenses.addExpense")})]})})]}),c.jsxs("div",{className:"expenses-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",children:c.jsx(Vd,{size:24})}),c.jsxs("div",{className:"stat-content",children:[c.jsx("h3",{children:"Total Expenses"}),c.jsxs("p",{className:"stat-value",children:["$",G.toFixed(2)]})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",children:c.jsx(hm,{size:24})}),c.jsxs("div",{className:"stat-content",children:[c.jsx("h3",{children:"Total Records"}),c.jsx("p",{className:"stat-value",children:j.length})]})]})]}),c.jsxs("div",{className:"expenses-toolbar",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(sl,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:"Search expenses...",className:"search-input",value:o,onChange:q=>l(q.target.value)})]}),_n(n)&&c.jsx("div",{className:"user-filter",children:c.jsxs("select",{value:u,onChange:q=>f(q.target.value),className:"user-filter-select",children:[c.jsx("option",{value:"",children:"All Users"}),x.map(q=>c.jsxs("option",{value:q.id,children:[q.name," (",q.job_title,")"]},q.id))]})}),c.jsxs("div",{className:"toolbar-actions",children:[c.jsxs("button",{className:"filter-button",children:[c.jsx(Kv,{size:16}),c.jsx("span",{children:"Filters"})]}),c.jsxs("button",{className:"export-button",children:[c.jsx(sh,{size:16}),c.jsx("span",{children:"Export"})]})]})]}),E?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Loading expenses..."})]}):c.jsx("div",{className:"expenses-table-container",children:c.jsxs("table",{className:"expenses-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{onClick:()=>F("date"),children:c.jsxs("div",{className:"th-content",children:["Date",h==="date"&&(m==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),_n(n)&&c.jsx("th",{onClick:()=>F("user_name"),children:c.jsxs("div",{className:"th-content",children:["User",h==="user_name"&&(m==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>F("category"),children:c.jsxs("div",{className:"th-content",children:["Category",h==="category"&&(m==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>F("description"),children:c.jsxs("div",{className:"th-content",children:["Description",h==="description"&&(m==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{onClick:()=>F("amount"),children:c.jsxs("div",{className:"th-content",children:["Amount",h==="amount"&&(m==="asc"?c.jsx(Nn,{size:16}):c.jsx(Sn,{size:16}))]})}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:j.map(q=>c.jsxs("tr",{children:[c.jsx("td",{children:vt(no(q.date),"MMM dd, yyyy")}),_n(n)&&c.jsxs("td",{children:[q.user_name,c.jsx("br",{}),c.jsxs("small",{className:"text-gray-500",children:["(",q.user_job_title,")"]})]}),c.jsx("td",{children:c.jsx("span",{className:`category-badge category-${q.category}`,children:q.category.charAt(0).toUpperCase()+q.category.slice(1)})}),c.jsx("td",{children:q.description}),c.jsxs("td",{className:"amount-cell",children:["$",q.amount.toFixed(2)]}),c.jsx("td",{children:c.jsxs("div",{className:"table-actions",children:[c.jsx("button",{className:"action-btn edit",onClick:()=>J(q),children:c.jsx(yA,{size:14})}),c.jsx("button",{className:"action-btn delete",onClick:()=>C(q.id),children:c.jsx($3,{size:14})})]})})]},q.id))})]})}),r&&c.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:c.jsxs("div",{className:"modal-content",onClick:q=>q.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:s?"Edit Expense":"Add New Expense"}),c.jsx("button",{className:"modal-close",onClick:()=>i(!1),children:"×"})]}),c.jsxs("form",{onSubmit:$,className:"expense-form",children:[_n(n)&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"user_id",children:"User *"}),c.jsxs("select",{id:"user_id",value:b.user_id,onChange:q=>k({...b,user_id:q.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select User"}),x.map(q=>c.jsxs("option",{value:q.id,children:[q.name," (",q.job_title,")"]},q.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"category",children:"Category *"}),c.jsx("select",{id:"category",value:b.category,onChange:q=>k({...b,category:q.target.value}),required:!0,children:z.map(q=>c.jsx("option",{value:q.value,children:q.label},q.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"amount",children:"Amount *"}),c.jsx("input",{type:"number",id:"amount",step:"0.01",min:"0",value:b.amount,onChange:q=>k({...b,amount:parseFloat(q.target.value)||0}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"description",children:"Description *"}),c.jsx("textarea",{id:"description",value:b.description,onChange:q=>k({...b,description:q.target.value}),rows:3,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"date",children:"Date *"}),c.jsx("input",{type:"date",id:"date",value:b.date,onChange:q=>k({...b,date:q.target.value}),required:!0})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(!1),children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:K,children:K?"Saving...":s?"Update Expense":"Add Expense"})]})]})]})})]}):c.jsx("div",{className:"expenses-page",children:c.jsx("div",{className:"loading-indicator",children:c.jsx("p",{children:"Access denied. This feature is only available for agents, commercial users, and administrators."})})})},Qw=({children:t})=>{const{user:e,isAuthenticated:n,isLoading:r}=yr();return r?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Loading..."})]}):n?_n(e)?c.jsx(c.Fragment,{children:t}):(_e.error("You don't have permission to access this page"),c.jsx(Lp,{to:"/dashboard",replace:!0})):(_e.error("You must be logged in to access this page"),c.jsx(Lp,{to:"/login",replace:!0}))},ZD=()=>{const{user:t}=yr(),[e,n]=ce.useState("month"),r=()=>{const h=new Date;let g,m=h;switch(e){case"month":{g=T1(h),m=Rp(h);break}case"quarter":{g=B8(h);break}case"year":{g=z4(h);break}default:g=T1(h),m=Rp(h)}return{start:vt(g,"yyyy-MM-dd"),end:vt(m,"yyyy-MM-dd")}},{data:i,isLoading:s,error:a}=On({queryKey:["userBookings",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{start:h,end:g}=r();console.log("Fetching bookings created by user:",t.id),console.log("Date range:",{start:h,end:g});const{data:m,error:S}=await Je.from("bookings").select(`
          id,
          amount,
          commission_amount,
          commission_rate,
          start_date,
          end_date,
          status,
          created_at,
          user_id,
          agent_id,
          client_id,
          vehicle_id
        `).eq("user_id",t.id).gte("created_at",h).lte("created_at",g).order("created_at",{ascending:!1});if(S)throw console.error("Error fetching bookings:",S),S;if(!m||m.length===0)return console.log("No bookings found for user"),[];console.log("Found bookings:",m);const b=[...new Set(m.map(C=>C.client_id).filter(Boolean))],k=[...new Set(m.map(C=>C.vehicle_id).filter(Boolean))],y=[...new Set(m.map(C=>C.agent_id).filter(Boolean))];console.log("Related IDs:",{clientIds:b,vehicleIds:k,agentIds:y});const{data:x,error:N}=await Je.from("clients").select("id, first_name, last_name").in("id",b);N&&console.error("Error fetching clients:",N);const{data:E,error:L}=await Je.from("vehicles").select("id, brand, model").in("id",k);L&&console.error("Error fetching vehicles:",L);const{data:K,error:V}=await Je.from("agents").select("id, first_name, last_name").in("id",y);V&&console.error("Error fetching agents:",V),console.log("Related data:",{clients:x,vehicles:E,agents:K});const j=new Map((x==null?void 0:x.map(C=>[C.id,C]))||[]),$=new Map((E==null?void 0:E.map(C=>[C.id,C]))||[]),J=new Map((K==null?void 0:K.map(C=>[C.id,C]))||[]);return m.map(C=>{const F=j.get(C.client_id),G=$.get(C.vehicle_id),z=J.get(C.agent_id),q=C.commission_rate||.1,T=C.commission_amount||(C.amount||0)*q;return{id:C.id,client_name:F?`${F.first_name} ${F.last_name}`:"Unknown Client",vehicle_name:G?`${G.brand} ${G.model}`:"Unknown Vehicle",agent_name:z?`${z.first_name} ${z.last_name}`:"No Agent Assigned",amount:C.amount||0,commission_amount:T,commission_rate:q,start_date:C.start_date,end_date:C.end_date,status:C.status,created_at:C.created_at}})},staleTime:5*60*1e3,enabled:!!(t!=null&&t.id)}),o=Ce.useMemo(()=>{if(!i||i.length===0)return{total_commission:0,total_sales:0,total_bookings:0,commission_rate:.1};const h=i.reduce((b,k)=>b+k.amount,0),g=i.reduce((b,k)=>b+k.commission_amount,0),m=i.filter(b=>b.status==="completed").length,S=i.length>0?i.reduce((b,k)=>b+k.commission_rate,0)/i.length:.1;return{total_commission:g,total_sales:h,total_bookings:m,commission_rate:S}},[i]);if(!t)return c.jsx("div",{className:"agent-commission-view",children:c.jsxs("div",{className:"access-denied",children:[c.jsx("h2",{children:"Authentication Required"}),c.jsx("p",{children:"Please log in to view your bookings."})]})});const l=h=>{n(h)},u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(h),f=h=>new Intl.NumberFormat("en-US").format(h);return c.jsxs("div",{className:"agent-commission-view",children:[c.jsxs("div",{className:"commission-header",children:[c.jsxs("div",{className:"header-title",children:[c.jsx("h1",{children:"My Bookings"}),c.jsx("span",{className:"agent-name",children:"View all bookings you've created"})]}),c.jsxs("div",{className:"date-filter",children:[c.jsx("span",{className:e==="month"?"selected":"",onClick:()=>l("month"),children:"This Month"}),c.jsx("span",{className:e==="quarter"?"selected":"",onClick:()=>l("quarter"),children:"This Quarter"}),c.jsx("span",{className:e==="year"?"selected":"",onClick:()=>l("year"),children:"This Year"})]})]}),c.jsx("div",{className:"commission-stats",children:s?Array(4).fill(0).map((h,g)=>c.jsxs("div",{className:"stat-card skeleton",children:[c.jsx("div",{className:"stat-icon skeleton-icon"}),c.jsxs("div",{className:"stat-content",children:[c.jsx("div",{className:"skeleton-text"}),c.jsx("div",{className:"skeleton-value"})]})]},g)):a?c.jsxs("div",{className:"error-message",children:[c.jsx("h3",{children:"Error loading commission data"}),c.jsx("p",{children:a instanceof Error?a.message:"Unknown error occurred"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon commission",children:c.jsx(Vd,{size:24})}),c.jsxs("div",{className:"stat-content",children:[c.jsx("h3",{children:"Total Commission"}),c.jsx("p",{className:"stat-value",children:u(o.total_commission)})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon sales",children:c.jsx(W3,{size:24})}),c.jsxs("div",{className:"stat-content",children:[c.jsx("h3",{children:"Total Sales"}),c.jsx("p",{className:"stat-value",children:u(o.total_sales)})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon bookings",children:c.jsx(ih,{size:24})}),c.jsxs("div",{className:"stat-content",children:[c.jsx("h3",{children:"Completed Bookings"}),c.jsx("p",{className:"stat-value",children:f(o.total_bookings)})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon rate",children:c.jsx(X6,{size:24})}),c.jsxs("div",{className:"stat-content",children:[c.jsx("h3",{children:"Commission Rate"}),c.jsxs("p",{className:"stat-value",children:[(o.commission_rate*100).toFixed(1),"%"]})]})]})]})}),c.jsxs("div",{className:"bookings-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Booking Details"}),c.jsxs("span",{className:"booking-count",children:[(i==null?void 0:i.length)||0," bookings"]})]}),s?c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Loading bookings..."})]}):i&&i.length>0?c.jsx("div",{className:"bookings-table-container",children:c.jsxs("table",{className:"bookings-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Client"}),c.jsx("th",{children:"Vehicle"}),c.jsx("th",{children:"Agent"}),c.jsx("th",{children:"Period"}),c.jsx("th",{children:"Amount"}),c.jsx("th",{children:"Commission Rate"}),c.jsx("th",{children:"Commission"}),c.jsx("th",{children:"Status"})]})}),c.jsx("tbody",{children:i.map(h=>c.jsxs("tr",{children:[c.jsx("td",{children:vt(no(h.created_at),"MMM dd, yyyy")}),c.jsx("td",{children:h.client_name}),c.jsx("td",{children:h.vehicle_name}),c.jsx("td",{children:h.agent_name}),c.jsx("td",{children:c.jsxs("div",{className:"date-range",children:[c.jsx("span",{children:vt(no(h.start_date),"MMM dd")}),c.jsx("span",{children:"-"}),c.jsx("span",{children:vt(no(h.end_date),"MMM dd, yyyy")})]})}),c.jsx("td",{className:"amount-cell",children:u(h.amount)}),c.jsxs("td",{className:"rate-cell",children:[(h.commission_rate*100).toFixed(1),"%"]}),c.jsx("td",{className:"commission-cell",children:u(h.commission_amount)}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${h.status}`,children:h.status})})]},h.id))})]})}):c.jsxs("div",{className:"no-bookings",children:[c.jsx(Gc,{size:48}),c.jsx("h3",{children:"No bookings found"}),c.jsx("p",{children:"You haven't made any bookings in this period."})]})]})]})},Sa=({children:t})=>{const{isAuthenticated:e}=yr();return e?c.jsx(c.Fragment,{children:t}):c.jsx(Lp,{to:"/login",replace:!0})},eF=()=>c.jsxs(T6,{children:[c.jsx(ti,{path:"/login",element:c.jsx(JD,{})}),c.jsx(ti,{path:"/",element:c.jsx(Sa,{children:c.jsx(LE,{})})}),c.jsx(ti,{path:"/bookings",element:c.jsx(Sa,{children:c.jsx(TD,{})})}),c.jsx(ti,{path:"/fleet",element:c.jsx(Sa,{children:c.jsx(zD,{})})}),c.jsx(ti,{path:"/clients",element:c.jsx(Sa,{children:c.jsx(qD,{})})}),c.jsx(ti,{path:"/agents",element:c.jsx(Qw,{children:c.jsx(YD,{})})}),c.jsx(ti,{path:"/commissions",element:c.jsx(Qw,{children:c.jsx(VD,{})})}),c.jsx(ti,{path:"/expenses",element:c.jsx(Sa,{children:c.jsx(XD,{})})}),c.jsx(ti,{path:"/my-commissions",element:c.jsx(Sa,{children:c.jsx(ZD,{})})}),c.jsx(ti,{path:"/insurance",element:c.jsx(Sa,{children:c.jsx(WD,{})})}),c.jsx(ti,{path:"/settings",element:c.jsx(Sa,{children:c.jsx(QD,{})})}),c.jsx(ti,{path:"*",element:c.jsx(Lp,{to:"/",replace:!0})})]}),tF=new e8({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnMount:!1}}}),nF=()=>{const t=Ns(),{isAuthenticated:e}=yr();return ce.useEffect(()=>{const n=setInterval(async()=>{!await wd()&&e&&(console.log("Session check failed but auth context shows authenticated - trying refresh"),await y4()?(console.log("Session refreshed successfully"),t.invalidateQueries()):(console.error("Session refresh failed - showing notification"),_e.error("Your session has expired. Please refresh the page or login again.",{duration:1e4,action:{label:"Refresh Now",onClick:()=>window.location.reload()}})))},6e4);return()=>clearInterval(n)},[t,e]),null},rF=({children:t})=>{const{isLoading:e}=yr(),[n,r]=ce.useState(!1);return ce.useEffect(()=>{!e&&!n&&r(!0)},[e,n]),e&&!n?c.jsx("div",{className:"app-loading",children:"Loading..."}):c.jsx(c.Fragment,{children:t})};function iF(){return c.jsx(q6,{children:c.jsx(s8,{client:tF,children:c.jsx(w8,{children:c.jsx(v8,{children:c.jsxs(x8,{children:[c.jsx(AE,{position:"top-right",richColors:!0}),c.jsx(nF,{}),c.jsx(rF,{children:c.jsx(j8,{children:c.jsx(eF,{})})})]})})})})})}b3(document.getElementById("root")).render(c.jsx(ce.StrictMode,{children:c.jsx(iF,{})}));export{Bt as _,ki as c,ox as g};
